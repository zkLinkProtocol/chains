/*! For license information please see component---src-pages-index-tsx-cfa5ee7c206db65814a6.js.LICENSE.txt */
(self.webpackChunkchainlist=self.webpackChunkchainlist||[]).push([[691],{8099:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(7117);function i(t,e,r){return void 0===e&&(e=new Uint8Array(2)),void 0===r&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}function s(t,e,r){return void 0===e&&(e=new Uint8Array(2)),void 0===r&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}function o(t,e){return void 0===e&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function a(t,e){return void 0===e&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}function c(t,e){return void 0===e&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function u(t,e){return void 0===e&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}function l(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}function h(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}function f(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),l(t/4294967296>>>0,e,r),l(t>>>0,e,r+4),e}function p(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),h(t>>>0,e,r),h(t/4294967296>>>0,e,r+4),e}e.readInt16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16},e.readUint16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])>>>0},e.readInt16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])<<16>>16},e.readUint16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])>>>0},e.writeUint16BE=i,e.writeInt16BE=i,e.writeUint16LE=s,e.writeInt16LE=s,e.readInt32BE=o,e.readUint32BE=a,e.readInt32LE=c,e.readUint32LE=u,e.writeUint32BE=l,e.writeInt32BE=l,e.writeUint32LE=h,e.writeInt32LE=h,e.readInt64BE=function(t,e){void 0===e&&(e=0);var r=o(t,e),n=o(t,e+4);return 4294967296*r+n-4294967296*(n>>31)},e.readUint64BE=function(t,e){return void 0===e&&(e=0),4294967296*a(t,e)+a(t,e+4)},e.readInt64LE=function(t,e){void 0===e&&(e=0);var r=c(t,e);return 4294967296*c(t,e+4)+r-4294967296*(r>>31)},e.readUint64LE=function(t,e){void 0===e&&(e=0);var r=u(t,e);return 4294967296*u(t,e+4)+r},e.writeUint64BE=f,e.writeInt64BE=f,e.writeUint64LE=p,e.writeInt64LE=p,e.readUintBE=function(t,e,r){if(void 0===r&&(r=0),t%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=t/8+r-1;s>=r;s--)n+=e[s]*i,i*=256;return n},e.readUintLE=function(t,e,r){if(void 0===r&&(r=0),t%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+t/8;s++)n+=e[s]*i,i*=256;return n},e.writeUintBE=function(t,e,r,i){if(void 0===r&&(r=new Uint8Array(t/8)),void 0===i&&(i=0),t%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!n.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var s=1,o=t/8+i-1;o>=i;o--)r[o]=e/s&255,s*=256;return r},e.writeUintLE=function(t,e,r,i){if(void 0===r&&(r=new Uint8Array(t/8)),void 0===i&&(i=0),t%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!n.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var s=1,o=i;o<i+t/8;o++)r[o]=e/s&255,s*=256;return r},e.readFloat32BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e)},e.readFloat32LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e,!0)},e.readFloat64BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e)},e.readFloat64LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e,!0)},e.writeFloat32BE=function(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t),e},e.writeFloat32LE=function(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t,!0),e},e.writeFloat64BE=function(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t),e},e.writeFloat64LE=function(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t,!0),e}},5439:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(8099),i=r(7309),s=20;function o(t,e,r){for(var i=1634760805,o=857760878,a=2036477234,c=1797285236,u=r[3]<<24|r[2]<<16|r[1]<<8|r[0],l=r[7]<<24|r[6]<<16|r[5]<<8|r[4],h=r[11]<<24|r[10]<<16|r[9]<<8|r[8],f=r[15]<<24|r[14]<<16|r[13]<<8|r[12],p=r[19]<<24|r[18]<<16|r[17]<<8|r[16],d=r[23]<<24|r[22]<<16|r[21]<<8|r[20],g=r[27]<<24|r[26]<<16|r[25]<<8|r[24],y=r[31]<<24|r[30]<<16|r[29]<<8|r[28],m=e[3]<<24|e[2]<<16|e[1]<<8|e[0],v=e[7]<<24|e[6]<<16|e[5]<<8|e[4],w=e[11]<<24|e[10]<<16|e[9]<<8|e[8],b=e[15]<<24|e[14]<<16|e[13]<<8|e[12],A=i,E=o,_=a,x=c,S=u,P=l,O=h,I=f,C=p,N=d,T=g,k=y,R=m,L=v,j=w,U=b,B=0;B<s;B+=2)S=(S^=C=C+(R=(R^=A=A+S|0)>>>16|R<<16)|0)>>>20|S<<12,P=(P^=N=N+(L=(L^=E=E+P|0)>>>16|L<<16)|0)>>>20|P<<12,O=(O^=T=T+(j=(j^=_=_+O|0)>>>16|j<<16)|0)>>>20|O<<12,I=(I^=k=k+(U=(U^=x=x+I|0)>>>16|U<<16)|0)>>>20|I<<12,O=(O^=T=T+(j=(j^=_=_+O|0)>>>24|j<<8)|0)>>>25|O<<7,I=(I^=k=k+(U=(U^=x=x+I|0)>>>24|U<<8)|0)>>>25|I<<7,P=(P^=N=N+(L=(L^=E=E+P|0)>>>24|L<<8)|0)>>>25|P<<7,S=(S^=C=C+(R=(R^=A=A+S|0)>>>24|R<<8)|0)>>>25|S<<7,P=(P^=T=T+(U=(U^=A=A+P|0)>>>16|U<<16)|0)>>>20|P<<12,O=(O^=k=k+(R=(R^=E=E+O|0)>>>16|R<<16)|0)>>>20|O<<12,I=(I^=C=C+(L=(L^=_=_+I|0)>>>16|L<<16)|0)>>>20|I<<12,S=(S^=N=N+(j=(j^=x=x+S|0)>>>16|j<<16)|0)>>>20|S<<12,I=(I^=C=C+(L=(L^=_=_+I|0)>>>24|L<<8)|0)>>>25|I<<7,S=(S^=N=N+(j=(j^=x=x+S|0)>>>24|j<<8)|0)>>>25|S<<7,O=(O^=k=k+(R=(R^=E=E+O|0)>>>24|R<<8)|0)>>>25|O<<7,P=(P^=T=T+(U=(U^=A=A+P|0)>>>24|U<<8)|0)>>>25|P<<7;n.writeUint32LE(A+i|0,t,0),n.writeUint32LE(E+o|0,t,4),n.writeUint32LE(_+a|0,t,8),n.writeUint32LE(x+c|0,t,12),n.writeUint32LE(S+u|0,t,16),n.writeUint32LE(P+l|0,t,20),n.writeUint32LE(O+h|0,t,24),n.writeUint32LE(I+f|0,t,28),n.writeUint32LE(C+p|0,t,32),n.writeUint32LE(N+d|0,t,36),n.writeUint32LE(T+g|0,t,40),n.writeUint32LE(k+y|0,t,44),n.writeUint32LE(R+m|0,t,48),n.writeUint32LE(L+v|0,t,52),n.writeUint32LE(j+w|0,t,56),n.writeUint32LE(U+b|0,t,60)}function a(t,e,r,n,s){if(void 0===s&&(s=0),32!==t.length)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var a,u;if(0===s){if(8!==e.length&&12!==e.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");u=(a=new Uint8Array(16)).length-e.length,a.set(e,u)}else{if(16!==e.length)throw new Error("ChaCha nonce with counter must be 16 bytes");a=e,u=s}for(var l=new Uint8Array(64),h=0;h<r.length;h+=64){o(l,a,t);for(var f=h;f<h+64&&f<r.length;f++)n[f]=r[f]^l[f-h];c(a,0,u)}return i.wipe(l),0===s&&i.wipe(a),n}function c(t,e,r){for(var n=1;r--;)n=n+(255&t[e])|0,t[e]=255&n,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}e.streamXOR=a,e.stream=function(t,e,r,n){return void 0===n&&(n=0),i.wipe(r),a(t,e,r,r,n)}},5501:function(t,e,r){"use strict";var n=r(5439),i=r(3027),s=r(7309),o=r(8099),a=r(4153);e.Cv=32,e.WH=12,e.pg=16;var c=new Uint8Array(16),u=function(){function t(t){if(this.nonceLength=e.WH,this.tagLength=e.pg,t.length!==e.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(t)}return t.prototype.seal=function(t,e,r,i){if(t.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var o=new Uint8Array(16);o.set(t,o.length-t.length);var a=new Uint8Array(32);n.stream(this._key,o,a,4);var c,u=e.length+this.tagLength;if(i){if(i.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");c=i}else c=new Uint8Array(u);return n.streamXOR(this._key,o,e,c,4),this._authenticate(c.subarray(c.length-this.tagLength,c.length),a,c.subarray(0,c.length-this.tagLength),r),s.wipe(o),c},t.prototype.open=function(t,e,r,i){if(t.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(e.length<this.tagLength)return null;var o=new Uint8Array(16);o.set(t,o.length-t.length);var c=new Uint8Array(32);n.stream(this._key,o,c,4);var u=new Uint8Array(this.tagLength);if(this._authenticate(u,c,e.subarray(0,e.length-this.tagLength),r),!a.equal(u,e.subarray(e.length-this.tagLength,e.length)))return null;var l,h=e.length-this.tagLength;if(i){if(i.length!==h)throw new Error("ChaCha20Poly1305: incorrect destination length");l=i}else l=new Uint8Array(h);return n.streamXOR(this._key,o,e.subarray(0,e.length-this.tagLength),l,4),s.wipe(o),l},t.prototype.clean=function(){return s.wipe(this._key),this},t.prototype._authenticate=function(t,e,r,n){var a=new i.Poly1305(e);n&&(a.update(n),n.length%16>0&&a.update(c.subarray(n.length%16))),a.update(r),r.length%16>0&&a.update(c.subarray(r.length%16));var u=new Uint8Array(8);n&&o.writeUint64LE(n.length,u),a.update(u),o.writeUint64LE(r.length,u),a.update(u);for(var l=a.digest(),h=0;h<l.length;h++)t[h]=l[h];a.clean(),s.wipe(l),s.wipe(u)},t}();e.OK=u},4153:function(t,e){"use strict";function r(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}Object.defineProperty(e,"__esModule",{value:!0}),e.select=function(t,e,r){return~(t-1)&e|t-1&r},e.lessOrEqual=function(t,e){return(0|t)-(0|e)-1>>>31&1},e.compare=r,e.equal=function(t,e){return 0!==t.length&&0!==e.length&&0!==r(t,e)}},1050:function(t,e,r){"use strict";e.Xx=e._w=e.aP=e.KS=e.jQ=void 0;const n=r(1416),i=r(3350),s=r(7309);function o(t){const e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}e.jQ=64,e.KS=64,e.aP=32;new Uint8Array(32)[0]=9;const a=o(),c=o([1]),u=o([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=o([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=o([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=o([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=o([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(t,e){for(let r=0;r<16;r++)t[r]=0|e[r]}function g(t){let e=1;for(let r=0;r<16;r++){let n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-65536*e}t[0]+=e-1+37*(e-1)}function y(t,e,r){const n=~(r-1);for(let i=0;i<16;i++){const r=n&(t[i]^e[i]);t[i]^=r,e[i]^=r}}function m(t,e){const r=o(),n=o();for(let i=0;i<16;i++)n[i]=e[i];g(n),g(n),g(n);for(let i=0;i<2;i++){r[0]=n[0]-65517;for(let e=1;e<15;e++)r[e]=n[e]-65535-(r[e-1]>>16&1),r[e-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);const t=r[15]>>16&1;r[14]&=65535,y(n,r,1-t)}for(let i=0;i<16;i++)t[2*i]=255&n[i],t[2*i+1]=n[i]>>8}function v(t,e){let r=0;for(let n=0;n<32;n++)r|=t[n]^e[n];return(1&r-1>>>8)-1}function w(t,e){const r=new Uint8Array(32),n=new Uint8Array(32);return m(r,t),m(n,e),v(r,n)}function b(t){const e=new Uint8Array(32);return m(e,t),1&e[0]}function A(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]+r[n]}function E(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]-r[n]}function _(t,e,r){let n,i,s=0,o=0,a=0,c=0,u=0,l=0,h=0,f=0,p=0,d=0,g=0,y=0,m=0,v=0,w=0,b=0,A=0,E=0,_=0,x=0,S=0,P=0,O=0,I=0,C=0,N=0,T=0,k=0,R=0,L=0,j=0,U=r[0],B=r[1],D=r[2],M=r[3],F=r[4],z=r[5],H=r[6],q=r[7],G=r[8],V=r[9],K=r[10],W=r[11],$=r[12],J=r[13],Q=r[14],Z=r[15];n=e[0],s+=n*U,o+=n*B,a+=n*D,c+=n*M,u+=n*F,l+=n*z,h+=n*H,f+=n*q,p+=n*G,d+=n*V,g+=n*K,y+=n*W,m+=n*$,v+=n*J,w+=n*Q,b+=n*Z,n=e[1],o+=n*U,a+=n*B,c+=n*D,u+=n*M,l+=n*F,h+=n*z,f+=n*H,p+=n*q,d+=n*G,g+=n*V,y+=n*K,m+=n*W,v+=n*$,w+=n*J,b+=n*Q,A+=n*Z,n=e[2],a+=n*U,c+=n*B,u+=n*D,l+=n*M,h+=n*F,f+=n*z,p+=n*H,d+=n*q,g+=n*G,y+=n*V,m+=n*K,v+=n*W,w+=n*$,b+=n*J,A+=n*Q,E+=n*Z,n=e[3],c+=n*U,u+=n*B,l+=n*D,h+=n*M,f+=n*F,p+=n*z,d+=n*H,g+=n*q,y+=n*G,m+=n*V,v+=n*K,w+=n*W,b+=n*$,A+=n*J,E+=n*Q,_+=n*Z,n=e[4],u+=n*U,l+=n*B,h+=n*D,f+=n*M,p+=n*F,d+=n*z,g+=n*H,y+=n*q,m+=n*G,v+=n*V,w+=n*K,b+=n*W,A+=n*$,E+=n*J,_+=n*Q,x+=n*Z,n=e[5],l+=n*U,h+=n*B,f+=n*D,p+=n*M,d+=n*F,g+=n*z,y+=n*H,m+=n*q,v+=n*G,w+=n*V,b+=n*K,A+=n*W,E+=n*$,_+=n*J,x+=n*Q,S+=n*Z,n=e[6],h+=n*U,f+=n*B,p+=n*D,d+=n*M,g+=n*F,y+=n*z,m+=n*H,v+=n*q,w+=n*G,b+=n*V,A+=n*K,E+=n*W,_+=n*$,x+=n*J,S+=n*Q,P+=n*Z,n=e[7],f+=n*U,p+=n*B,d+=n*D,g+=n*M,y+=n*F,m+=n*z,v+=n*H,w+=n*q,b+=n*G,A+=n*V,E+=n*K,_+=n*W,x+=n*$,S+=n*J,P+=n*Q,O+=n*Z,n=e[8],p+=n*U,d+=n*B,g+=n*D,y+=n*M,m+=n*F,v+=n*z,w+=n*H,b+=n*q,A+=n*G,E+=n*V,_+=n*K,x+=n*W,S+=n*$,P+=n*J,O+=n*Q,I+=n*Z,n=e[9],d+=n*U,g+=n*B,y+=n*D,m+=n*M,v+=n*F,w+=n*z,b+=n*H,A+=n*q,E+=n*G,_+=n*V,x+=n*K,S+=n*W,P+=n*$,O+=n*J,I+=n*Q,C+=n*Z,n=e[10],g+=n*U,y+=n*B,m+=n*D,v+=n*M,w+=n*F,b+=n*z,A+=n*H,E+=n*q,_+=n*G,x+=n*V,S+=n*K,P+=n*W,O+=n*$,I+=n*J,C+=n*Q,N+=n*Z,n=e[11],y+=n*U,m+=n*B,v+=n*D,w+=n*M,b+=n*F,A+=n*z,E+=n*H,_+=n*q,x+=n*G,S+=n*V,P+=n*K,O+=n*W,I+=n*$,C+=n*J,N+=n*Q,T+=n*Z,n=e[12],m+=n*U,v+=n*B,w+=n*D,b+=n*M,A+=n*F,E+=n*z,_+=n*H,x+=n*q,S+=n*G,P+=n*V,O+=n*K,I+=n*W,C+=n*$,N+=n*J,T+=n*Q,k+=n*Z,n=e[13],v+=n*U,w+=n*B,b+=n*D,A+=n*M,E+=n*F,_+=n*z,x+=n*H,S+=n*q,P+=n*G,O+=n*V,I+=n*K,C+=n*W,N+=n*$,T+=n*J,k+=n*Q,R+=n*Z,n=e[14],w+=n*U,b+=n*B,A+=n*D,E+=n*M,_+=n*F,x+=n*z,S+=n*H,P+=n*q,O+=n*G,I+=n*V,C+=n*K,N+=n*W,T+=n*$,k+=n*J,R+=n*Q,L+=n*Z,n=e[15],b+=n*U,A+=n*B,E+=n*D,_+=n*M,x+=n*F,S+=n*z,P+=n*H,O+=n*q,I+=n*G,C+=n*V,N+=n*K,T+=n*W,k+=n*$,R+=n*J,L+=n*Q,j+=n*Z,s+=38*A,o+=38*E,a+=38*_,c+=38*x,u+=38*S,l+=38*P,h+=38*O,f+=38*I,p+=38*C,d+=38*N,g+=38*T,y+=38*k,m+=38*R,v+=38*L,w+=38*j,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=a,t[3]=c,t[4]=u,t[5]=l,t[6]=h,t[7]=f,t[8]=p,t[9]=d,t[10]=g,t[11]=y,t[12]=m,t[13]=v,t[14]=w,t[15]=b}function x(t,e){_(t,e,e)}function S(t,e){const r=o();let n;for(n=0;n<16;n++)r[n]=e[n];for(n=253;n>=0;n--)x(r,r),2!==n&&4!==n&&_(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function P(t,e){const r=o(),n=o(),i=o(),s=o(),a=o(),c=o(),u=o(),h=o(),f=o();E(r,t[1],t[0]),E(f,e[1],e[0]),_(r,r,f),A(n,t[0],t[1]),A(f,e[0],e[1]),_(n,n,f),_(i,t[3],e[3]),_(i,i,l),_(s,t[2],e[2]),A(s,s,s),E(a,n,r),E(c,s,i),A(u,s,i),A(h,n,r),_(t[0],a,c),_(t[1],h,u),_(t[2],u,c),_(t[3],a,h)}function O(t,e,r){for(let n=0;n<4;n++)y(t[n],e[n],r)}function I(t,e){const r=o(),n=o(),i=o();S(i,e[2]),_(r,e[0],i),_(n,e[1],i),m(t,n),t[31]^=b(r)<<7}function C(t,e,r){d(t[0],a),d(t[1],c),d(t[2],c),d(t[3],a);for(let n=255;n>=0;--n){const i=r[n/8|0]>>(7&n)&1;O(t,e,i),P(e,t),P(t,t),O(t,e,i)}}function N(t,e){const r=[o(),o(),o(),o()];d(r[0],h),d(r[1],f),d(r[2],c),_(r[3],h,f),C(t,r,e)}function T(t){if(t.length!==e.aP)throw new Error(`ed25519: seed must be ${e.aP} bytes`);const r=(0,i.hash)(t);r[0]&=248,r[31]&=127,r[31]|=64;const n=new Uint8Array(32),s=[o(),o(),o(),o()];N(s,r),I(n,s);const a=new Uint8Array(64);return a.set(t),a.set(n,32),{publicKey:n,secretKey:a}}e._w=T;const k=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function R(t,e){let r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)e[i]+=r-16*e[n]*k[i-(n-32)],r=Math.floor((e[i]+128)/256),e[i]-=256*r;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;i++)e[i]+=r-(e[31]>>4)*k[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*k[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function L(t){const e=new Float64Array(64);for(let r=0;r<64;r++)e[r]=t[r];for(let r=0;r<64;r++)t[r]=0;R(t,e)}function j(t,e){const r=o(),n=o(),i=o(),s=o(),l=o(),h=o(),f=o();return d(t[2],c),function(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}(t[1],e),x(i,t[1]),_(s,i,u),E(i,i,t[2]),A(s,t[2],s),x(l,s),x(h,l),_(f,h,l),_(r,f,i),_(r,r,s),function(t,e){const r=o();let n;for(n=0;n<16;n++)r[n]=e[n];for(n=250;n>=0;n--)x(r,r),1!==n&&_(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}(r,r),_(r,r,i),_(r,r,s),_(r,r,s),_(t[0],r,s),x(n,t[0]),_(n,n,s),w(n,i)&&_(t[0],t[0],p),x(n,t[0]),_(n,n,s),w(n,i)?-1:(b(t[0])===e[31]>>7&&E(t[0],a,t[0]),_(t[3],t[0],t[1]),0)}e.Xx=function(t,e){const r=new Float64Array(64),n=[o(),o(),o(),o()],s=(0,i.hash)(t.subarray(0,32));s[0]&=248,s[31]&=127,s[31]|=64;const a=new Uint8Array(64);a.set(s.subarray(32),32);const c=new i.SHA512;c.update(a.subarray(32)),c.update(e);const u=c.digest();c.clean(),L(u),N(n,u),I(a,n),c.reset(),c.update(a.subarray(0,32)),c.update(t.subarray(32)),c.update(e);const l=c.digest();L(l);for(let i=0;i<32;i++)r[i]=u[i];for(let i=0;i<32;i++)for(let t=0;t<32;t++)r[i+t]+=l[i]*s[t];return R(a.subarray(32),r),a}},9984:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSerializableHash=function(t){return void 0!==t.saveState&&void 0!==t.restoreState&&void 0!==t.cleanSavedState}},512:function(t,e,r){"use strict";var n=r(5629),i=r(7309),s=function(){function t(t,e,r,i){void 0===r&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=i;var s=n.hmac(this._hash,r,e);this._hmac=new n.HMAC(t,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(0===t)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(t){for(var e=new Uint8Array(t),r=0;r<e.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),e[r]=this._buffer[this._bufpos++];return e},t.prototype.clean=function(){this._hmac.clean(),i.wipe(this._buffer),i.wipe(this._counter),this._bufpos=0},t}();e.t=s},5629:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(9984),i=r(4153),s=r(7309),o=function(){function t(t,e){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);e.length>this.blockSize?this._inner.update(e).finish(r).clean():r.set(e);for(var i=0;i<r.length;i++)r[i]^=54;this._inner.update(r);for(i=0;i<r.length;i++)r[i]^=106;this._outer.update(r),n.isSerializableHash(this._inner)&&n.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),s.wipe(r)}return t.prototype.reset=function(){if(!n.isSerializableHash(this._inner)||!n.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){n.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),n.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(t){return this._inner.update(t),this},t.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(!n.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(t){if(!n.isSerializableHash(this._inner)||!n.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(t){if(!n.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},t}();e.HMAC=o,e.hmac=function(t,e,r){var n=new o(t,e);n.update(r);var i=n.digest();return n.clean(),i},e.equal=i.equal},7117:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mul=Math.imul||function(t,e){var r=65535&t,n=65535&e;return r*n+((t>>>16&65535)*n+r*(e>>>16&65535)<<16>>>0)|0},e.add=function(t,e){return t+e|0},e.sub=function(t,e){return t-e|0},e.rotl=function(t,e){return t<<e|t>>>32-e},e.rotr=function(t,e){return t<<32-e|t>>>e},e.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(t){return e.isInteger(t)&&t>=-e.MAX_SAFE_INTEGER&&t<=e.MAX_SAFE_INTEGER}},3027:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(4153),i=r(7309);e.DIGEST_LENGTH=16;var s=function(){function t(t){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=t[0]|t[1]<<8;this._r[0]=8191&r;var n=t[2]|t[3]<<8;this._r[1]=8191&(r>>>13|n<<3);var i=t[4]|t[5]<<8;this._r[2]=7939&(n>>>10|i<<6);var s=t[6]|t[7]<<8;this._r[3]=8191&(i>>>7|s<<9);var o=t[8]|t[9]<<8;this._r[4]=255&(s>>>4|o<<12),this._r[5]=o>>>1&8190;var a=t[10]|t[11]<<8;this._r[6]=8191&(o>>>14|a<<2);var c=t[12]|t[13]<<8;this._r[7]=8065&(a>>>11|c<<5);var u=t[14]|t[15]<<8;this._r[8]=8191&(c>>>8|u<<8),this._r[9]=u>>>5&127,this._pad[0]=t[16]|t[17]<<8,this._pad[1]=t[18]|t[19]<<8,this._pad[2]=t[20]|t[21]<<8,this._pad[3]=t[22]|t[23]<<8,this._pad[4]=t[24]|t[25]<<8,this._pad[5]=t[26]|t[27]<<8,this._pad[6]=t[28]|t[29]<<8,this._pad[7]=t[30]|t[31]<<8}return t.prototype._blocks=function(t,e,r){for(var n=this._fin?0:2048,i=this._h[0],s=this._h[1],o=this._h[2],a=this._h[3],c=this._h[4],u=this._h[5],l=this._h[6],h=this._h[7],f=this._h[8],p=this._h[9],d=this._r[0],g=this._r[1],y=this._r[2],m=this._r[3],v=this._r[4],w=this._r[5],b=this._r[6],A=this._r[7],E=this._r[8],_=this._r[9];r>=16;){var x=t[e+0]|t[e+1]<<8;i+=8191&x;var S=t[e+2]|t[e+3]<<8;s+=8191&(x>>>13|S<<3);var P=t[e+4]|t[e+5]<<8;o+=8191&(S>>>10|P<<6);var O=t[e+6]|t[e+7]<<8;a+=8191&(P>>>7|O<<9);var I=t[e+8]|t[e+9]<<8;c+=8191&(O>>>4|I<<12),u+=I>>>1&8191;var C=t[e+10]|t[e+11]<<8;l+=8191&(I>>>14|C<<2);var N=t[e+12]|t[e+13]<<8;h+=8191&(C>>>11|N<<5);var T=t[e+14]|t[e+15]<<8,k=0,R=k;R+=i*d,R+=s*(5*_),R+=o*(5*E),R+=a*(5*A),k=(R+=c*(5*b))>>>13,R&=8191,R+=u*(5*w),R+=l*(5*v),R+=h*(5*m),R+=(f+=8191&(N>>>8|T<<8))*(5*y);var L=k+=(R+=(p+=T>>>5|n)*(5*g))>>>13;L+=i*g,L+=s*d,L+=o*(5*_),L+=a*(5*E),k=(L+=c*(5*A))>>>13,L&=8191,L+=u*(5*b),L+=l*(5*w),L+=h*(5*v),L+=f*(5*m),k+=(L+=p*(5*y))>>>13,L&=8191;var j=k;j+=i*y,j+=s*g,j+=o*d,j+=a*(5*_),k=(j+=c*(5*E))>>>13,j&=8191,j+=u*(5*A),j+=l*(5*b),j+=h*(5*w),j+=f*(5*v);var U=k+=(j+=p*(5*m))>>>13;U+=i*m,U+=s*y,U+=o*g,U+=a*d,k=(U+=c*(5*_))>>>13,U&=8191,U+=u*(5*E),U+=l*(5*A),U+=h*(5*b),U+=f*(5*w);var B=k+=(U+=p*(5*v))>>>13;B+=i*v,B+=s*m,B+=o*y,B+=a*g,k=(B+=c*d)>>>13,B&=8191,B+=u*(5*_),B+=l*(5*E),B+=h*(5*A),B+=f*(5*b);var D=k+=(B+=p*(5*w))>>>13;D+=i*w,D+=s*v,D+=o*m,D+=a*y,k=(D+=c*g)>>>13,D&=8191,D+=u*d,D+=l*(5*_),D+=h*(5*E),D+=f*(5*A);var M=k+=(D+=p*(5*b))>>>13;M+=i*b,M+=s*w,M+=o*v,M+=a*m,k=(M+=c*y)>>>13,M&=8191,M+=u*g,M+=l*d,M+=h*(5*_),M+=f*(5*E);var F=k+=(M+=p*(5*A))>>>13;F+=i*A,F+=s*b,F+=o*w,F+=a*v,k=(F+=c*m)>>>13,F&=8191,F+=u*y,F+=l*g,F+=h*d,F+=f*(5*_);var z=k+=(F+=p*(5*E))>>>13;z+=i*E,z+=s*A,z+=o*b,z+=a*w,k=(z+=c*v)>>>13,z&=8191,z+=u*m,z+=l*y,z+=h*g,z+=f*d;var H=k+=(z+=p*(5*_))>>>13;H+=i*_,H+=s*E,H+=o*A,H+=a*b,k=(H+=c*w)>>>13,H&=8191,H+=u*v,H+=l*m,H+=h*y,H+=f*g,i=R=8191&(k=(k=((k+=(H+=p*d)>>>13)<<2)+k|0)+(R&=8191)|0),s=L+=k>>>=13,o=j&=8191,a=U&=8191,c=B&=8191,u=D&=8191,l=M&=8191,h=F&=8191,f=z&=8191,p=H&=8191,e+=16,r-=16}this._h[0]=i,this._h[1]=s,this._h[2]=o,this._h[3]=a,this._h[4]=c,this._h[5]=u,this._h[6]=l,this._h[7]=h,this._h[8]=f,this._h[9]=p},t.prototype.finish=function(t,e){void 0===e&&(e=0);var r,n,i,s,o=new Uint16Array(10);if(this._leftover){for(s=this._leftover,this._buffer[s++]=1;s<16;s++)this._buffer[s]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,s=2;s<10;s++)this._h[s]+=r,r=this._h[s]>>>13,this._h[s]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,o[0]=this._h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this._h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,n=(1^r)-1,s=0;s<10;s++)o[s]&=n;for(n=~n,s=0;s<10;s++)this._h[s]=this._h[s]&n|o[s];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),i=this._h[0]+this._pad[0],this._h[0]=65535&i,s=1;s<8;s++)i=(this._h[s]+this._pad[s]|0)+(i>>>16)|0,this._h[s]=65535&i;return t[e+0]=this._h[0]>>>0,t[e+1]=this._h[0]>>>8,t[e+2]=this._h[1]>>>0,t[e+3]=this._h[1]>>>8,t[e+4]=this._h[2]>>>0,t[e+5]=this._h[2]>>>8,t[e+6]=this._h[3]>>>0,t[e+7]=this._h[3]>>>8,t[e+8]=this._h[4]>>>0,t[e+9]=this._h[4]>>>8,t[e+10]=this._h[5]>>>0,t[e+11]=this._h[5]>>>8,t[e+12]=this._h[6]>>>0,t[e+13]=this._h[6]>>>8,t[e+14]=this._h[7]>>>0,t[e+15]=this._h[7]>>>8,this._finished=!0,this},t.prototype.update=function(t){var e,r=0,n=t.length;if(this._leftover){(e=16-this._leftover)>n&&(e=n);for(var i=0;i<e;i++)this._buffer[this._leftover+i]=t[r+i];if(n-=e,r+=e,this._leftover+=e,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(e=n-n%16,this._blocks(t,r,e),r+=e,n-=e),n){for(i=0;i<n;i++)this._buffer[this._leftover+i]=t[r+i];this._leftover+=n}return this},t.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var t=new Uint8Array(16);return this.finish(t),t},t.prototype.clean=function(){return i.wipe(this._buffer),i.wipe(this._r),i.wipe(this._h),i.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},t}();e.Poly1305=s,e.oneTimeAuth=function(t,e){var r=new s(t);r.update(e);var n=r.digest();return r.clean(),n},e.equal=function(t,r){return t.length===e.DIGEST_LENGTH&&r.length===e.DIGEST_LENGTH&&n.equal(t,r)}},1416:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const n=r(6008),i=r(8099),s=r(7309);function o(t,r=e.defaultRandomSource){return r.randomBytes(t)}e.defaultRandomSource=new n.SystemRandomSource,e.randomBytes=o,e.randomUint32=function(t=e.defaultRandomSource){const r=o(4,t),n=(0,i.readUint32LE)(r);return(0,s.wipe)(r),n};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(t,r=a,n=e.defaultRandomSource){if(r.length<2)throw new Error("randomString charset is too short");if(r.length>256)throw new Error("randomString charset is too long");let i="";const c=r.length,u=256-256%c;for(;t>0;){const e=o(Math.ceil(256*t/u),n);for(let n=0;n<e.length&&t>0;n++){const s=e[n];s<u&&(i+=r.charAt(s%c),t--)}(0,s.wipe)(e)}return i}e.randomString=c,e.randomStringForEntropy=function(t,r=a,n=e.defaultRandomSource){return c(Math.ceil(t/(Math.log(r.length)/Math.LN2)),r,n)}},5455:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserRandomSource=void 0;e.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&void 0!==t.getRandomValues&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const e=new Uint8Array(t);for(let r=0;r<e.length;r+=65536)this._crypto.getRandomValues(e.subarray(r,r+Math.min(e.length-r,65536)));return e}}},8871:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeRandomSource=void 0;const n=r(7309);e.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const t=r(5883);t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let e=this._crypto.randomBytes(t);if(e.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const r=new Uint8Array(t);for(let n=0;n<r.length;n++)r[n]=e[n];return(0,n.wipe)(e),r}}},6008:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SystemRandomSource=void 0;const n=r(5455),i=r(8871);e.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new n.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new i.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}},3294:function(t,e,r){"use strict";var n=r(8099),i=r(7309);e.k=32,e.cn=64;var s=function(){function t(){this.digestLength=e.k,this.blockSize=e.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._temp),this.reset()},t.prototype.update=function(t,e){if(void 0===e&&(e=t.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=e,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&e>0;)this._buffer[this._bufferLength++]=t[r++],e--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(e>=this.blockSize&&(r=a(this._temp,this._state,t,r,e),e%=this.blockSize);e>0;)this._buffer[this._bufferLength++]=t[r++],e--;return this},t.prototype.finish=function(t){if(!this._finished){var e=this._bytesHashed,r=this._bufferLength,i=e/536870912|0,s=e<<3,o=e%64<56?64:128;this._buffer[r]=128;for(var c=r+1;c<o-8;c++)this._buffer[c]=0;n.writeUint32BE(i,this._buffer,o-8),n.writeUint32BE(s,this._buffer,o-4),a(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(c=0;c<this.digestLength/4;c++)n.writeUint32BE(this._state[c],t,4*c);return this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(t){return this._state.set(t.state),this._bufferLength=t.bufferLength,t.buffer&&this._buffer.set(t.buffer),this._bytesHashed=t.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(t){i.wipe(t.state),t.buffer&&i.wipe(t.buffer),t.bufferLength=0,t.bytesHashed=0},t}();e.mE=s;var o=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(t,e,r,i,s){for(;s>=64;){for(var a=e[0],c=e[1],u=e[2],l=e[3],h=e[4],f=e[5],p=e[6],d=e[7],g=0;g<16;g++){var y=i+4*g;t[g]=n.readUint32BE(r,y)}for(g=16;g<64;g++){var m=t[g-2],v=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10,w=((m=t[g-15])>>>7|m<<25)^(m>>>18|m<<14)^m>>>3;t[g]=(v+t[g-7]|0)+(w+t[g-16]|0)}for(g=0;g<64;g++){v=(((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&f^~h&p)|0)+(d+(o[g]+t[g]|0)|0)|0,w=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&c^a&u^c&u)|0;d=p,p=f,f=h,h=l+v|0,l=u,u=c,c=a,a=v+w|0}e[0]+=a,e[1]+=c,e[2]+=u,e[3]+=l,e[4]+=h,e[5]+=f,e[6]+=p,e[7]+=d,i+=64,s-=64}return i}e.vp=function(t){var e=new s;e.update(t);var r=e.digest();return e.clean(),r}},3350:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(8099),i=r(7309);e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var s=function(){function t(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._tempHi),i.wipe(this._tempLo),this.reset()},t.prototype.update=function(t,r){if(void 0===r&&(r=t.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=t[n++],r--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,t,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=t[n++],r--;return this},t.prototype.finish=function(t){if(!this._finished){var e=this._bytesHashed,r=this._bufferLength,i=e/536870912|0,s=e<<3,o=e%128<112?128:256;this._buffer[r]=128;for(var c=r+1;c<o-8;c++)this._buffer[c]=0;n.writeUint32BE(i,this._buffer,o-8),n.writeUint32BE(s,this._buffer,o-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,o),this._finished=!0}for(c=0;c<this.digestLength/8;c++)n.writeUint32BE(this._stateHi[c],t,8*c),n.writeUint32BE(this._stateLo[c],t,8*c+4);return this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(t){return this._stateHi.set(t.stateHi),this._stateLo.set(t.stateLo),this._bufferLength=t.bufferLength,t.buffer&&this._buffer.set(t.buffer),this._bytesHashed=t.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(t){i.wipe(t.stateHi),i.wipe(t.stateLo),t.buffer&&i.wipe(t.buffer),t.bufferLength=0,t.bytesHashed=0},t}();e.SHA512=s;var o=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(t,e,r,i,s,a,c){for(var u,l,h,f,p,d,g,y,m=r[0],v=r[1],w=r[2],b=r[3],A=r[4],E=r[5],_=r[6],x=r[7],S=i[0],P=i[1],O=i[2],I=i[3],C=i[4],N=i[5],T=i[6],k=i[7];c>=128;){for(var R=0;R<16;R++){var L=8*R+a;t[R]=n.readUint32BE(s,L),e[R]=n.readUint32BE(s,L+4)}for(R=0;R<80;R++){var j,U,B=m,D=v,M=w,F=b,z=A,H=E,q=_,G=S,V=P,K=O,W=I,$=C,J=N,Q=T;if(p=65535&(l=k),d=l>>>16,g=65535&(u=x),y=u>>>16,p+=65535&(l=(C>>>14|A<<18)^(C>>>18|A<<14)^(A>>>9|C<<23)),d+=l>>>16,g+=65535&(u=(A>>>14|C<<18)^(A>>>18|C<<14)^(C>>>9|A<<23)),y+=u>>>16,p+=65535&(l=C&N^~C&T),d+=l>>>16,g+=65535&(u=A&E^~A&_),y+=u>>>16,u=o[2*R],p+=65535&(l=o[2*R+1]),d+=l>>>16,g+=65535&u,y+=u>>>16,u=t[R%16],d+=(l=e[R%16])>>>16,g+=65535&u,y+=u>>>16,g+=(d+=(p+=65535&l)>>>16)>>>16,p=65535&(l=f=65535&p|d<<16),d=l>>>16,g=65535&(u=h=65535&g|(y+=g>>>16)<<16),y=u>>>16,p+=65535&(l=(S>>>28|m<<4)^(m>>>2|S<<30)^(m>>>7|S<<25)),d+=l>>>16,g+=65535&(u=(m>>>28|S<<4)^(S>>>2|m<<30)^(S>>>7|m<<25)),y+=u>>>16,d+=(l=S&P^S&O^P&O)>>>16,g+=65535&(u=m&v^m&w^v&w),y+=u>>>16,j=65535&(g+=(d+=(p+=65535&l)>>>16)>>>16)|(y+=g>>>16)<<16,U=65535&p|d<<16,p=65535&(l=W),d=l>>>16,g=65535&(u=F),y=u>>>16,d+=(l=f)>>>16,g+=65535&(u=h),y+=u>>>16,v=B,w=D,b=M,A=F=65535&(g+=(d+=(p+=65535&l)>>>16)>>>16)|(y+=g>>>16)<<16,E=z,_=H,x=q,m=j,P=G,O=V,I=K,C=W=65535&p|d<<16,N=$,T=J,k=Q,S=U,R%16==15)for(L=0;L<16;L++)u=t[L],p=65535&(l=e[L]),d=l>>>16,g=65535&u,y=u>>>16,u=t[(L+9)%16],p+=65535&(l=e[(L+9)%16]),d+=l>>>16,g+=65535&u,y+=u>>>16,h=t[(L+1)%16],p+=65535&(l=((f=e[(L+1)%16])>>>1|h<<31)^(f>>>8|h<<24)^(f>>>7|h<<25)),d+=l>>>16,g+=65535&(u=(h>>>1|f<<31)^(h>>>8|f<<24)^h>>>7),y+=u>>>16,h=t[(L+14)%16],d+=(l=((f=e[(L+14)%16])>>>19|h<<13)^(h>>>29|f<<3)^(f>>>6|h<<26))>>>16,g+=65535&(u=(h>>>19|f<<13)^(f>>>29|h<<3)^h>>>6),y+=u>>>16,y+=(g+=(d+=(p+=65535&l)>>>16)>>>16)>>>16,t[L]=65535&g|y<<16,e[L]=65535&p|d<<16}p=65535&(l=S),d=l>>>16,g=65535&(u=m),y=u>>>16,u=r[0],d+=(l=i[0])>>>16,g+=65535&u,y+=u>>>16,y+=(g+=(d+=(p+=65535&l)>>>16)>>>16)>>>16,r[0]=m=65535&g|y<<16,i[0]=S=65535&p|d<<16,p=65535&(l=P),d=l>>>16,g=65535&(u=v),y=u>>>16,u=r[1],d+=(l=i[1])>>>16,g+=65535&u,y+=u>>>16,y+=(g+=(d+=(p+=65535&l)>>>16)>>>16)>>>16,r[1]=v=65535&g|y<<16,i[1]=P=65535&p|d<<16,p=65535&(l=O),d=l>>>16,g=65535&(u=w),y=u>>>16,u=r[2],d+=(l=i[2])>>>16,g+=65535&u,y+=u>>>16,y+=(g+=(d+=(p+=65535&l)>>>16)>>>16)>>>16,r[2]=w=65535&g|y<<16,i[2]=O=65535&p|d<<16,p=65535&(l=I),d=l>>>16,g=65535&(u=b),y=u>>>16,u=r[3],d+=(l=i[3])>>>16,g+=65535&u,y+=u>>>16,y+=(g+=(d+=(p+=65535&l)>>>16)>>>16)>>>16,r[3]=b=65535&g|y<<16,i[3]=I=65535&p|d<<16,p=65535&(l=C),d=l>>>16,g=65535&(u=A),y=u>>>16,u=r[4],d+=(l=i[4])>>>16,g+=65535&u,y+=u>>>16,y+=(g+=(d+=(p+=65535&l)>>>16)>>>16)>>>16,r[4]=A=65535&g|y<<16,i[4]=C=65535&p|d<<16,p=65535&(l=N),d=l>>>16,g=65535&(u=E),y=u>>>16,u=r[5],d+=(l=i[5])>>>16,g+=65535&u,y+=u>>>16,y+=(g+=(d+=(p+=65535&l)>>>16)>>>16)>>>16,r[5]=E=65535&g|y<<16,i[5]=N=65535&p|d<<16,p=65535&(l=T),d=l>>>16,g=65535&(u=_),y=u>>>16,u=r[6],d+=(l=i[6])>>>16,g+=65535&u,y+=u>>>16,y+=(g+=(d+=(p+=65535&l)>>>16)>>>16)>>>16,r[6]=_=65535&g|y<<16,i[6]=T=65535&p|d<<16,p=65535&(l=k),d=l>>>16,g=65535&(u=x),y=u>>>16,u=r[7],d+=(l=i[7])>>>16,g+=65535&u,y+=u>>>16,y+=(g+=(d+=(p+=65535&l)>>>16)>>>16)>>>16,r[7]=x=65535&g|y<<16,i[7]=k=65535&p|d<<16,a+=128,c-=128}return a}e.hash=function(t){var e=new s;e.update(t);var r=e.digest();return e.clean(),r}},7309:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wipe=function(t){for(var e=0;e<t.length;e++)t[e]=0;return t}},7664:function(t,e,r){"use strict";e.gi=e.Au=e.KS=e.kz=void 0;const n=r(1416),i=r(7309);function s(t){const e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}e.kz=32,e.KS=32;const o=new Uint8Array(32);o[0]=9;const a=s([56129,1]);function c(t){let e=1;for(let r=0;r<16;r++){let n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-65536*e}t[0]+=e-1+37*(e-1)}function u(t,e,r){const n=~(r-1);for(let i=0;i<16;i++){const r=n&(t[i]^e[i]);t[i]^=r,e[i]^=r}}function l(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]+r[n]}function h(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]-r[n]}function f(t,e,r){let n,i,s=0,o=0,a=0,c=0,u=0,l=0,h=0,f=0,p=0,d=0,g=0,y=0,m=0,v=0,w=0,b=0,A=0,E=0,_=0,x=0,S=0,P=0,O=0,I=0,C=0,N=0,T=0,k=0,R=0,L=0,j=0,U=r[0],B=r[1],D=r[2],M=r[3],F=r[4],z=r[5],H=r[6],q=r[7],G=r[8],V=r[9],K=r[10],W=r[11],$=r[12],J=r[13],Q=r[14],Z=r[15];n=e[0],s+=n*U,o+=n*B,a+=n*D,c+=n*M,u+=n*F,l+=n*z,h+=n*H,f+=n*q,p+=n*G,d+=n*V,g+=n*K,y+=n*W,m+=n*$,v+=n*J,w+=n*Q,b+=n*Z,n=e[1],o+=n*U,a+=n*B,c+=n*D,u+=n*M,l+=n*F,h+=n*z,f+=n*H,p+=n*q,d+=n*G,g+=n*V,y+=n*K,m+=n*W,v+=n*$,w+=n*J,b+=n*Q,A+=n*Z,n=e[2],a+=n*U,c+=n*B,u+=n*D,l+=n*M,h+=n*F,f+=n*z,p+=n*H,d+=n*q,g+=n*G,y+=n*V,m+=n*K,v+=n*W,w+=n*$,b+=n*J,A+=n*Q,E+=n*Z,n=e[3],c+=n*U,u+=n*B,l+=n*D,h+=n*M,f+=n*F,p+=n*z,d+=n*H,g+=n*q,y+=n*G,m+=n*V,v+=n*K,w+=n*W,b+=n*$,A+=n*J,E+=n*Q,_+=n*Z,n=e[4],u+=n*U,l+=n*B,h+=n*D,f+=n*M,p+=n*F,d+=n*z,g+=n*H,y+=n*q,m+=n*G,v+=n*V,w+=n*K,b+=n*W,A+=n*$,E+=n*J,_+=n*Q,x+=n*Z,n=e[5],l+=n*U,h+=n*B,f+=n*D,p+=n*M,d+=n*F,g+=n*z,y+=n*H,m+=n*q,v+=n*G,w+=n*V,b+=n*K,A+=n*W,E+=n*$,_+=n*J,x+=n*Q,S+=n*Z,n=e[6],h+=n*U,f+=n*B,p+=n*D,d+=n*M,g+=n*F,y+=n*z,m+=n*H,v+=n*q,w+=n*G,b+=n*V,A+=n*K,E+=n*W,_+=n*$,x+=n*J,S+=n*Q,P+=n*Z,n=e[7],f+=n*U,p+=n*B,d+=n*D,g+=n*M,y+=n*F,m+=n*z,v+=n*H,w+=n*q,b+=n*G,A+=n*V,E+=n*K,_+=n*W,x+=n*$,S+=n*J,P+=n*Q,O+=n*Z,n=e[8],p+=n*U,d+=n*B,g+=n*D,y+=n*M,m+=n*F,v+=n*z,w+=n*H,b+=n*q,A+=n*G,E+=n*V,_+=n*K,x+=n*W,S+=n*$,P+=n*J,O+=n*Q,I+=n*Z,n=e[9],d+=n*U,g+=n*B,y+=n*D,m+=n*M,v+=n*F,w+=n*z,b+=n*H,A+=n*q,E+=n*G,_+=n*V,x+=n*K,S+=n*W,P+=n*$,O+=n*J,I+=n*Q,C+=n*Z,n=e[10],g+=n*U,y+=n*B,m+=n*D,v+=n*M,w+=n*F,b+=n*z,A+=n*H,E+=n*q,_+=n*G,x+=n*V,S+=n*K,P+=n*W,O+=n*$,I+=n*J,C+=n*Q,N+=n*Z,n=e[11],y+=n*U,m+=n*B,v+=n*D,w+=n*M,b+=n*F,A+=n*z,E+=n*H,_+=n*q,x+=n*G,S+=n*V,P+=n*K,O+=n*W,I+=n*$,C+=n*J,N+=n*Q,T+=n*Z,n=e[12],m+=n*U,v+=n*B,w+=n*D,b+=n*M,A+=n*F,E+=n*z,_+=n*H,x+=n*q,S+=n*G,P+=n*V,O+=n*K,I+=n*W,C+=n*$,N+=n*J,T+=n*Q,k+=n*Z,n=e[13],v+=n*U,w+=n*B,b+=n*D,A+=n*M,E+=n*F,_+=n*z,x+=n*H,S+=n*q,P+=n*G,O+=n*V,I+=n*K,C+=n*W,N+=n*$,T+=n*J,k+=n*Q,R+=n*Z,n=e[14],w+=n*U,b+=n*B,A+=n*D,E+=n*M,_+=n*F,x+=n*z,S+=n*H,P+=n*q,O+=n*G,I+=n*V,C+=n*K,N+=n*W,T+=n*$,k+=n*J,R+=n*Q,L+=n*Z,n=e[15],b+=n*U,A+=n*B,E+=n*D,_+=n*M,x+=n*F,S+=n*z,P+=n*H,O+=n*q,I+=n*G,C+=n*V,N+=n*K,T+=n*W,k+=n*$,R+=n*J,L+=n*Q,j+=n*Z,s+=38*A,o+=38*E,a+=38*_,c+=38*x,u+=38*S,l+=38*P,h+=38*O,f+=38*I,p+=38*C,d+=38*N,g+=38*T,y+=38*k,m+=38*R,v+=38*L,w+=38*j,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=a,t[3]=c,t[4]=u,t[5]=l,t[6]=h,t[7]=f,t[8]=p,t[9]=d,t[10]=g,t[11]=y,t[12]=m,t[13]=v,t[14]=w,t[15]=b}function p(t,e){f(t,e,e)}function d(t,e){const r=new Uint8Array(32),n=new Float64Array(80),i=s(),o=s(),d=s(),g=s(),y=s(),m=s();for(let s=0;s<31;s++)r[s]=t[s];r[31]=127&t[31]|64,r[0]&=248,function(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}(n,e);for(let s=0;s<16;s++)o[s]=n[s];i[0]=g[0]=1;for(let s=254;s>=0;--s){const t=r[s>>>3]>>>(7&s)&1;u(i,o,t),u(d,g,t),l(y,i,d),h(i,i,d),l(d,o,g),h(o,o,g),p(g,y),p(m,i),f(i,d,i),f(d,o,y),l(y,i,d),h(i,i,d),p(o,i),h(d,g,m),f(i,d,a),l(i,i,g),f(d,d,i),f(i,g,m),f(g,o,n),p(o,y),u(i,o,t),u(d,g,t)}for(let s=0;s<16;s++)n[s+16]=i[s],n[s+32]=d[s],n[s+48]=o[s],n[s+64]=g[s];const v=n.subarray(32),w=n.subarray(16);!function(t,e){const r=s();for(let n=0;n<16;n++)r[n]=e[n];for(let n=253;n>=0;n--)p(r,r),2!==n&&4!==n&&f(r,r,e);for(let n=0;n<16;n++)t[n]=r[n]}(v,v),f(w,w,v);const b=new Uint8Array(32);return function(t,e){const r=s(),n=s();for(let i=0;i<16;i++)n[i]=e[i];c(n),c(n),c(n);for(let i=0;i<2;i++){r[0]=n[0]-65517;for(let e=1;e<15;e++)r[e]=n[e]-65535-(r[e-1]>>16&1),r[e-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);const t=r[15]>>16&1;r[14]&=65535,u(n,r,1-t)}for(let i=0;i<16;i++)t[2*i]=255&n[i],t[2*i+1]=n[i]>>8}(b,w),b}function g(t){return d(t,o)}function y(t){if(t.length!==e.KS)throw new Error(`x25519: seed must be ${e.KS} bytes`);const r=new Uint8Array(t);return{publicKey:g(r),secretKey:r}}e.Au=function(t){const e=(0,n.randomBytes)(32,t),r=y(e);return(0,i.wipe)(e),r},e.gi=function(t,r,n=!1){if(t.length!==e.kz)throw new Error("X25519: incorrect secret key length");if(r.length!==e.kz)throw new Error("X25519: incorrect public key length");const i=d(t,r);if(n){let t=0;for(let e=0;e<i.length;e++)t|=i[e];if(0===t)throw new Error("X25519: invalid shared key")}return i}},926:function(t,e,r){"use strict";function n(){return(null===r.g||void 0===r.g?void 0:r.g.crypto)||(null===r.g||void 0===r.g?void 0:r.g.msCrypto)||{}}function i(){const t=n();return t.subtle||t.webkitSubtle}Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowserCryptoAvailable=e.getSubtleCrypto=e.getBrowerCrypto=void 0,e.getBrowerCrypto=n,e.getSubtleCrypto=i,e.isBrowserCryptoAvailable=function(){return!!n()&&!!i()}},8618:function(t,e){"use strict";function r(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function n(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node}Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowser=e.isNode=e.isReactNative=void 0,e.isReactNative=r,e.isNode=n,e.isBrowser=function(){return!r()&&!n()}},1468:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(4308);n.__exportStar(r(926),e),n.__exportStar(r(8618),e)},4308:function(t,e,r){"use strict";r.r(e),r.d(e,{__assign:function(){return s},__asyncDelegator:function(){return b},__asyncGenerator:function(){return w},__asyncValues:function(){return A},__await:function(){return v},__awaiter:function(){return l},__classPrivateFieldGet:function(){return S},__classPrivateFieldSet:function(){return P},__createBinding:function(){return f},__decorate:function(){return a},__exportStar:function(){return p},__extends:function(){return i},__generator:function(){return h},__importDefault:function(){return x},__importStar:function(){return _},__makeTemplateObject:function(){return E},__metadata:function(){return u},__param:function(){return c},__read:function(){return g},__rest:function(){return o},__spread:function(){return y},__spreadArrays:function(){return m},__values:function(){return d}});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s=function(){return s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)};function o(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function a(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function c(t,e){return function(r,n){e(r,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{c(n.next(t))}catch(e){s(e)}}function a(t){try{c(n.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((n=n.apply(t,e||[])).next())}))}function h(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function f(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}function p(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(a){i={error:a}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function m(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function w(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){s.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof v?Promise.resolve(r.value.v).then(c,u):l(s[0][2],r)}catch(n){l(s[0][3],n)}var r}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:v(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function A(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=d(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function x(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function P(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},8200:function(t,e,r){"use strict";r.d(e,{q:function(){return n}});class n{}},997:function(t,e,r){"use strict";r.r(e),r.d(e,{IEvents:function(){return n.q}});var n=r(8200)},2568:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HEARTBEAT_EVENTS=e.HEARTBEAT_INTERVAL=void 0;const n=r(6736);e.HEARTBEAT_INTERVAL=n.FIVE_SECONDS,e.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},3401:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});r(9653).__exportStar(r(2568),e)},8969:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HeartBeat=void 0;const n=r(9653),i=r(7187),s=r(6736),o=r(1614),a=r(3401);class c extends o.IHeartBeat{constructor(t){super(t),this.events=new i.EventEmitter,this.interval=a.HEARTBEAT_INTERVAL,this.interval=(null==t?void 0:t.interval)||a.HEARTBEAT_INTERVAL}static init(t){return n.__awaiter(this,void 0,void 0,(function*(){const e=new c(t);return yield e.init(),e}))}init(){return n.__awaiter(this,void 0,void 0,(function*(){yield this.initialize()}))}stop(){clearInterval(this.intervalRef)}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}initialize(){return n.__awaiter(this,void 0,void 0,(function*(){this.intervalRef=setInterval((()=>this.pulse()),s.toMiliseconds(this.interval))}))}pulse(){this.events.emit(a.HEARTBEAT_EVENTS.pulse)}}e.HeartBeat=c},772:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(9653);n.__exportStar(r(8969),e),n.__exportStar(r(1614),e),n.__exportStar(r(3401),e)},4174:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IHeartBeat=void 0;const n=r(997);class i extends n.IEvents{constructor(t){super()}}e.IHeartBeat=i},1614:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});r(9653).__exportStar(r(4174),e)},9653:function(t,e,r){"use strict";r.r(e),r.d(e,{__assign:function(){return s},__asyncDelegator:function(){return b},__asyncGenerator:function(){return w},__asyncValues:function(){return A},__await:function(){return v},__awaiter:function(){return l},__classPrivateFieldGet:function(){return S},__classPrivateFieldSet:function(){return P},__createBinding:function(){return f},__decorate:function(){return a},__exportStar:function(){return p},__extends:function(){return i},__generator:function(){return h},__importDefault:function(){return x},__importStar:function(){return _},__makeTemplateObject:function(){return E},__metadata:function(){return u},__param:function(){return c},__read:function(){return g},__rest:function(){return o},__spread:function(){return y},__spreadArrays:function(){return m},__values:function(){return d}});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s=function(){return s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)};function o(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function a(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function c(t,e){return function(r,n){e(r,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{c(n.next(t))}catch(e){s(e)}}function a(t){try{c(n.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((n=n.apply(t,e||[])).next())}))}function h(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function f(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}function p(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(a){i={error:a}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function m(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function w(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){s.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof v?Promise.resolve(r.value.v).then(c,u):l(s[0][2],r)}catch(n){l(s[0][3],n)}var r}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:v(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function A(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=d(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function x(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function P(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},2030:function(t){"use strict";t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},5150:function(t,e,r){"use strict";const n=r(3893),i=r(3954),s=n.__importDefault(r(653)),o=r(9728);class a{constructor(){this.localStorage=s.default}getKeys(){return n.__awaiter(this,void 0,void 0,(function*(){return Object.keys(this.localStorage)}))}getEntries(){return n.__awaiter(this,void 0,void 0,(function*(){return Object.entries(this.localStorage).map(o.parseEntry)}))}getItem(t){return n.__awaiter(this,void 0,void 0,(function*(){const e=this.localStorage.getItem(t);if(null!==e)return i.safeJsonParse(e)}))}setItem(t,e){return n.__awaiter(this,void 0,void 0,(function*(){this.localStorage.setItem(t,i.safeJsonStringify(e))}))}removeItem(t){return n.__awaiter(this,void 0,void 0,(function*(){this.localStorage.removeItem(t)}))}}e.ZP=a},653:function(t,e,r){"use strict";!function(){let e;function n(){}e=n,e.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},e.prototype.setItem=function(t,e){this[t]=String(e)},e.prototype.removeItem=function(t){delete this[t]},e.prototype.clear=function(){const t=this;Object.keys(t).forEach((function(e){t[e]=void 0,delete t[e]}))},e.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},e.prototype.__defineGetter__("length",(function(){return Object.keys(this).length})),void 0!==r.g&&r.g.localStorage?t.exports=r.g.localStorage:"undefined"!=typeof window&&window.localStorage?t.exports=window.localStorage:t.exports=new n}()},9728:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(3893);n.__exportStar(r(9076),e),n.__exportStar(r(496),e)},9076:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeyValueStorage=void 0;e.IKeyValueStorage=class{}},496:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseEntry=void 0;const n=r(3954);e.parseEntry=function(t){var e;return[t[0],n.safeJsonParse(null!==(e=t[1])&&void 0!==e?e:"")]}},3893:function(t,e,r){"use strict";r.r(e),r.d(e,{__assign:function(){return s},__asyncDelegator:function(){return b},__asyncGenerator:function(){return w},__asyncValues:function(){return A},__await:function(){return v},__awaiter:function(){return l},__classPrivateFieldGet:function(){return S},__classPrivateFieldSet:function(){return P},__createBinding:function(){return f},__decorate:function(){return a},__exportStar:function(){return p},__extends:function(){return i},__generator:function(){return h},__importDefault:function(){return x},__importStar:function(){return _},__makeTemplateObject:function(){return E},__metadata:function(){return u},__param:function(){return c},__read:function(){return g},__rest:function(){return o},__spread:function(){return y},__spreadArrays:function(){return m},__values:function(){return d}});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s=function(){return s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)};function o(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function a(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function c(t,e){return function(r,n){e(r,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{c(n.next(t))}catch(e){s(e)}}function a(t){try{c(n.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((n=n.apply(t,e||[])).next())}))}function h(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function f(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}function p(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(a){i={error:a}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function m(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function w(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){s.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof v?Promise.resolve(r.value.v).then(c,u):l(s[0][2],r)}catch(n){l(s[0][3],n)}var r}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:v(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function A(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=d(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function x(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function P(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},5727:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PINO_CUSTOM_CONTEXT_KEY=e.PINO_LOGGER_DEFAULTS=void 0,e.PINO_LOGGER_DEFAULTS={level:"info"},e.PINO_CUSTOM_CONTEXT_KEY="custom_context"},9107:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pino=void 0;const n=r(7121),i=n.__importDefault(r(6559));Object.defineProperty(e,"pino",{enumerable:!0,get:function(){return i.default}}),n.__exportStar(r(5727),e),n.__exportStar(r(8048),e)},8048:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateChildLogger=e.formatChildLoggerContext=e.getLoggerContext=e.setBrowserLoggerContext=e.getBrowserLoggerContext=e.getDefaultLoggerOptions=void 0;const n=r(5727);function i(t,e=n.PINO_CUSTOM_CONTEXT_KEY){return t[e]||""}function s(t,e,r=n.PINO_CUSTOM_CONTEXT_KEY){return t[r]=e,t}function o(t,e=n.PINO_CUSTOM_CONTEXT_KEY){let r="";return r=void 0===t.bindings?i(t,e):t.bindings().context||"",r}function a(t,e,r=n.PINO_CUSTOM_CONTEXT_KEY){const i=o(t,r);return i.trim()?`${i}/${e}`:e}e.getDefaultLoggerOptions=function(t){return Object.assign(Object.assign({},t),{level:(null==t?void 0:t.level)||n.PINO_LOGGER_DEFAULTS.level})},e.getBrowserLoggerContext=i,e.setBrowserLoggerContext=s,e.getLoggerContext=o,e.formatChildLoggerContext=a,e.generateChildLogger=function(t,e,r=n.PINO_CUSTOM_CONTEXT_KEY){const i=a(t,e,r);return s(t.child({context:i}),i,r)}},7121:function(t,e,r){"use strict";r.r(e),r.d(e,{__assign:function(){return s},__asyncDelegator:function(){return b},__asyncGenerator:function(){return w},__asyncValues:function(){return A},__await:function(){return v},__awaiter:function(){return l},__classPrivateFieldGet:function(){return S},__classPrivateFieldSet:function(){return P},__createBinding:function(){return f},__decorate:function(){return a},__exportStar:function(){return p},__extends:function(){return i},__generator:function(){return h},__importDefault:function(){return x},__importStar:function(){return _},__makeTemplateObject:function(){return E},__metadata:function(){return u},__param:function(){return c},__read:function(){return g},__rest:function(){return o},__spread:function(){return y},__spreadArrays:function(){return m},__values:function(){return d}});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s=function(){return s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)};function o(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function a(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function c(t,e){return function(r,n){e(r,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{c(n.next(t))}catch(e){s(e)}}function a(t){try{c(n.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((n=n.apply(t,e||[])).next())}))}function h(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function f(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}function p(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(a){i={error:a}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function m(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function w(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){s.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof v?Promise.resolve(r.value.v).then(c,u):l(s[0][2],r)}catch(n){l(s[0][3],n)}var r}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:v(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function A(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=d(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function x(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function P(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},1882:function(){},3014:function(){},6900:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(4);n.__exportStar(r(6869),e),n.__exportStar(r(8033),e)},6869:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_THOUSAND=e.ONE_HUNDRED=void 0,e.ONE_HUNDRED=100,e.ONE_THOUSAND=1e3},8033:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=5*e.ONE_MINUTE,e.TEN_MINUTES=10*e.ONE_MINUTE,e.THIRTY_MINUTES=30*e.ONE_MINUTE,e.SIXTY_MINUTES=60*e.ONE_MINUTE,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=3*e.ONE_HOUR,e.SIX_HOURS=6*e.ONE_HOUR,e.TWELVE_HOURS=12*e.ONE_HOUR,e.TWENTY_FOUR_HOURS=24*e.ONE_HOUR,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=3*e.ONE_DAY,e.FIVE_DAYS=5*e.ONE_DAY,e.SEVEN_DAYS=7*e.ONE_DAY,e.THIRTY_DAYS=30*e.ONE_DAY,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=2*e.ONE_WEEK,e.THREE_WEEKS=3*e.ONE_WEEK,e.FOUR_WEEKS=4*e.ONE_WEEK,e.ONE_YEAR=365*e.ONE_DAY},6736:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(4);n.__exportStar(r(4273),e),n.__exportStar(r(7001),e),n.__exportStar(r(2939),e),n.__exportStar(r(6900),e)},2939:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});r(4).__exportStar(r(8766),e)},8766:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWatch=void 0;e.IWatch=class{}},3207:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromMiliseconds=e.toMiliseconds=void 0;const n=r(6900);e.toMiliseconds=function(t){return t*n.ONE_THOUSAND},e.fromMiliseconds=function(t){return Math.floor(t/n.ONE_THOUSAND)}},3873:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.delay=void 0,e.delay=function(t){return new Promise((e=>{setTimeout((()=>{e(!0)}),t)}))}},4273:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(4);n.__exportStar(r(3873),e),n.__exportStar(r(3207),e)},7001:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const e=this.get(t);if(void 0!==e.elapsed)throw new Error(`Watch already stopped for label: ${t}`);const r=Date.now()-e.started;this.timestamps.set(t,{started:e.started,elapsed:r})}get(t){const e=this.timestamps.get(t);if(void 0===e)throw new Error(`No timestamp found for label: ${t}`);return e}elapsed(t){const e=this.get(t);return e.elapsed||Date.now()-e.started}}e.Watch=r,e.default=r},4:function(t,e,r){"use strict";r.r(e),r.d(e,{__assign:function(){return s},__asyncDelegator:function(){return b},__asyncGenerator:function(){return w},__asyncValues:function(){return A},__await:function(){return v},__awaiter:function(){return l},__classPrivateFieldGet:function(){return S},__classPrivateFieldSet:function(){return P},__createBinding:function(){return f},__decorate:function(){return a},__exportStar:function(){return p},__extends:function(){return i},__generator:function(){return h},__importDefault:function(){return x},__importStar:function(){return _},__makeTemplateObject:function(){return E},__metadata:function(){return u},__param:function(){return c},__read:function(){return g},__rest:function(){return o},__spread:function(){return y},__spreadArrays:function(){return m},__values:function(){return d}});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s=function(){return s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)};function o(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function a(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function c(t,e){return function(r,n){e(r,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{c(n.next(t))}catch(e){s(e)}}function a(t){try{c(n.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((n=n.apply(t,e||[])).next())}))}function h(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function f(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}function p(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(a){i={error:a}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function m(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function w(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){s.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof v?Promise.resolve(r.value.v).then(c,u):l(s[0][2],r)}catch(n){l(s[0][3],n)}var r}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:v(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function A(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=d(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function x(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function P(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},2873:function(t,e){"use strict";function r(t){let e;return"undefined"!=typeof window&&void 0!==window[t]&&(e=window[t]),e}function n(t){const e=r(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalStorage=e.getLocalStorageOrThrow=e.getCrypto=e.getCryptoOrThrow=e.getLocation=e.getLocationOrThrow=e.getNavigator=e.getNavigatorOrThrow=e.getDocument=e.getDocumentOrThrow=e.getFromWindowOrThrow=e.getFromWindow=void 0,e.getFromWindow=r,e.getFromWindowOrThrow=n,e.getDocumentOrThrow=function(){return n("document")},e.getDocument=function(){return r("document")},e.getNavigatorOrThrow=function(){return n("navigator")},e.getNavigator=function(){return r("navigator")},e.getLocationOrThrow=function(){return n("location")},e.getLocation=function(){return r("location")},e.getCryptoOrThrow=function(){return n("crypto")},e.getCrypto=function(){return r("crypto")},e.getLocalStorageOrThrow=function(){return n("localStorage")},e.getLocalStorage=function(){return r("localStorage")}},5755:function(t,e,r){"use strict";e.D=void 0;const n=r(2873);e.D=function(){let t,e;try{t=n.getDocumentOrThrow(),e=n.getLocationOrThrow()}catch(s){return null}function r(...e){const r=t.getElementsByTagName("meta");for(let t=0;t<r.length;t++){const n=r[t],i=["itemprop","property","name"].map((t=>n.getAttribute(t))).filter((t=>!!t&&e.includes(t)));if(i.length&&i){const t=n.getAttribute("content");if(t)return t}}return""}const i=function(){let e=r("name","og:site_name","og:title","twitter:title");return e||(e=t.title),e}();return{description:r("description","og:description","twitter:description","keywords"),url:e.origin,icons:function(){const r=t.getElementsByTagName("link"),n=[];for(let t=0;t<r.length;t++){const i=r[t],s=i.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){const t=i.getAttribute("href");if(t)if(-1===t.toLowerCase().indexOf("https:")&&-1===t.toLowerCase().indexOf("http:")&&0!==t.indexOf("//")){let r=e.protocol+"//"+e.host;if(0===t.indexOf("/"))r+=t;else{const n=e.pathname.split("/");n.pop();r+=n.join("/")+"/"+t}n.push(r)}else if(0===t.indexOf("//")){const r=e.protocol+t;n.push(r)}else n.push(t)}}return n}(),name:i}}},3204:function(t){"use strict";const e=/[\p{Lu}]/u,r=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,s=/[_.\- ]+/,o=new RegExp("^"+s.source),a=new RegExp(s.source+i.source,"gu"),c=new RegExp("\\d+"+i.source,"gu"),u=(t,i)=>{if("string"!=typeof t&&!Array.isArray(t))throw new TypeError("Expected the input to be `string | string[]`");if(i={pascalCase:!1,preserveConsecutiveUppercase:!1,...i},0===(t=Array.isArray(t)?t.map((t=>t.trim())).filter((t=>t.length)).join("-"):t.trim()).length)return"";const s=!1===i.locale?t=>t.toLowerCase():t=>t.toLocaleLowerCase(i.locale),u=!1===i.locale?t=>t.toUpperCase():t=>t.toLocaleUpperCase(i.locale);if(1===t.length)return i.pascalCase?u(t):s(t);return t!==s(t)&&(t=((t,n,i)=>{let s=!1,o=!1,a=!1;for(let c=0;c<t.length;c++){const u=t[c];s&&e.test(u)?(t=t.slice(0,c)+"-"+t.slice(c),s=!1,a=o,o=!0,c++):o&&a&&r.test(u)?(t=t.slice(0,c-1)+"-"+t.slice(c-1),a=o,o=!1,s=!0):(s=n(u)===u&&i(u)!==u,a=o,o=i(u)===u&&n(u)!==u)}return t})(t,s,u)),t=t.replace(o,""),t=i.preserveConsecutiveUppercase?((t,e)=>(n.lastIndex=0,t.replace(n,(t=>e(t)))))(t,s):s(t),i.pascalCase&&(t=u(t.charAt(0))+t.slice(1)),((t,e)=>(a.lastIndex=0,c.lastIndex=0,t.replace(a,((t,r)=>e(r))).replace(c,(t=>e(t)))))(t,u)};t.exports=u,t.exports.default=u},4098:function(t,e){var r="undefined"!=typeof self?self:this,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in t,o="ArrayBuffer"in t;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function p(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function g(t){var e=new FileReader,r=d(e);return e.readAsArrayBuffer(t),r}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():o&&i&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var t,e,r,n=p(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=d(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=u(t),e=l(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},f.prototype.delete=function(t){delete this.map[u(t)]},f.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},f.prototype.set=function(t,e){this.map[u(t)]=l(e)},f.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},f.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),h(t)},f.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},f.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),h(t)},n&&(f.prototype[Symbol.iterator]=f.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var r,n,i=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),v.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function A(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},m.call(w.prototype),m.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},A.error=function(){var t=new A(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];A.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new A(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(x){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function _(t,r){return new Promise((function(n,s){var o=new w(t,r);if(o.signal&&o.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new A(i,r))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.onabort=function(){s(new e.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),o.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),o.signal&&(o.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",c)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}_.polyfill=!0,t.fetch||(t.fetch=_,t.Headers=f,t.Request=w,t.Response=A),e.Headers=f,e.Request=w,e.Response=A,e.fetch=_,Object.defineProperty(e,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e},4020:function(t){"use strict";var e="%[a-f0-9]{2}",r=new RegExp("("+e+")|([^%]+?)","gi"),n=new RegExp("("+e+")+","gi");function i(t,e){try{return[decodeURIComponent(t.join(""))]}catch(s){}if(1===t.length)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],i(r),i(n))}function s(t){try{return decodeURIComponent(t)}catch(s){for(var e=t.match(r)||[],n=1;n<e.length;n++)e=(t=i(e,n).join("")).match(r)||[];return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var r={"%FE%FF":"��","%FF%FE":"��"},i=n.exec(t);i;){try{r[i[0]]=decodeURIComponent(i[0])}catch(e){var o=s(i[0]);o!==i[0]&&(r[i[0]]=o)}i=n.exec(t)}r["%C2"]="�";for(var a=Object.keys(r),c=0;c<a.length;c++){var u=a[c];t=t.replace(new RegExp(u,"g"),r[u])}return t}(t)}}},7187:function(t){"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,s),n(r)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}g(t,e,s,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&g(t,"error",e,r)}(t,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function u(t,e,r,n){var i,s,o,u;if(a(r),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),void 0===o)o=s[e]=r,++t._eventsCount;else if("function"==typeof o?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=c(t))>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=o.length,u=l,console&&console.warn&&console.warn(u)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function f(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):d(i,i.length)}function p(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function d(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function g(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(s){n.once&&t.removeEventListener(e,i),r(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[t];if(void 0===c)return!1;if("function"==typeof c)n(c,this,e);else{var u=c.length,l=d(c,u);for(r=0;r<u;++r)n(l[r],this,e)}return!0},s.prototype.addListener=function(t,e){return u(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return u(this,t,e,!0)},s.prototype.once=function(t,e){return a(e),this.on(t,h(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,h(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,n,i,s,o;if(a(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===e||r[s].listener===e){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,o||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},s.prototype.listeners=function(t){return f(this,t,!0)},s.prototype.rawListeners=function(t){return f(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},2806:function(t){"use strict";t.exports=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),s=0;s<n.length;s++){var o=n[s],a=t[o];(i?-1!==e.indexOf(o):e(o,a,t))&&(r[o]=a)}return r}},4852:function(t){"use strict";t.exports=Object.assign},8032:function(t,e,r){"use strict";r.d(e,{G:function(){return L},L:function(){return d},M:function(){return E},P:function(){return A},_:function(){return a},a:function(){return o},b:function(){return l},g:function(){return h},h:function(){return c}});var n=r(7294),i=(r(3204),r(5697)),s=r.n(i);function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o.apply(this,arguments)}function a(t,e){if(null==t)return{};var r,n,i={},s=Object.keys(t);for(n=0;n<s.length;n++)e.indexOf(r=s[n])>=0||(i[r]=t[r]);return i}const c=()=>"undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;function u(t,e,r){const n={};let i="gatsby-image-wrapper";return"fixed"===r?(n.width=t,n.height=e):"constrained"===r&&(i="gatsby-image-wrapper gatsby-image-wrapper-constrained"),{className:i,"data-gatsby-image-wrapper":"",style:n}}function l(t,e,r,n,i){return void 0===i&&(i={}),o({},r,{loading:n,shouldLoad:t,"data-main-image":"",style:o({},i,{opacity:e?1:0})})}function h(t,e,r,n,i,s,a,c){const u={};s&&(u.backgroundColor=s,"fixed"===r?(u.width=n,u.height=i,u.backgroundColor=s,u.position="relative"):("constrained"===r||"fullWidth"===r)&&(u.position="absolute",u.top=0,u.left=0,u.bottom=0,u.right=0)),a&&(u.objectFit=a),c&&(u.objectPosition=c);const l=o({},t,{"aria-hidden":!0,"data-placeholder-image":"",style:o({opacity:e?0:1,transition:"opacity 500ms linear"},u)});return l}const f=["children"],p=function(t){let{layout:e,width:r,height:i}=t;return"fullWidth"===e?n.createElement("div",{"aria-hidden":!0,style:{paddingTop:i/r*100+"%"}}):"constrained"===e?n.createElement("div",{style:{maxWidth:r,display:"block"}},n.createElement("img",{alt:"",role:"presentation","aria-hidden":"true",src:"data:image/svg+xml;charset=utf-8,%3Csvg%20height='"+i+"'%20width='"+r+"'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%3E%3C/svg%3E",style:{maxWidth:"100%",display:"block",position:"static"}})):null},d=function(t){let{children:e}=t,r=a(t,f);return n.createElement(n.Fragment,null,n.createElement(p,o({},r)),e,null)},g=["src","srcSet","loading","alt","shouldLoad"],y=["fallback","sources","shouldLoad"],m=function(t){let{src:e,srcSet:r,loading:i,alt:s="",shouldLoad:c}=t,u=a(t,g);return n.createElement("img",o({},u,{decoding:"async",loading:i,src:c?e:void 0,"data-src":c?void 0:e,srcSet:c?r:void 0,"data-srcset":c?void 0:r,alt:s}))},v=function(t){let{fallback:e,sources:r=[],shouldLoad:i=!0}=t,s=a(t,y);const c=s.sizes||(null==e?void 0:e.sizes),u=n.createElement(m,o({},s,e,{sizes:c,shouldLoad:i}));return r.length?n.createElement("picture",null,r.map((t=>{let{media:e,srcSet:r,type:s}=t;return n.createElement("source",{key:e+"-"+s+"-"+r,type:s,media:e,srcSet:i?r:void 0,"data-srcset":i?void 0:r,sizes:c})})),u):u};var w;m.propTypes={src:i.string.isRequired,alt:i.string.isRequired,sizes:i.string,srcSet:i.string,shouldLoad:i.bool},v.displayName="Picture",v.propTypes={alt:i.string.isRequired,shouldLoad:i.bool,fallback:i.exact({src:i.string.isRequired,srcSet:i.string,sizes:i.string}),sources:i.arrayOf(i.oneOfType([i.exact({media:i.string.isRequired,type:i.string,sizes:i.string,srcSet:i.string.isRequired}),i.exact({media:i.string,type:i.string.isRequired,sizes:i.string,srcSet:i.string.isRequired})]))};const b=["fallback"],A=function(t){let{fallback:e}=t,r=a(t,b);return e?n.createElement(v,o({},r,{fallback:{src:e},"aria-hidden":!0,alt:""})):n.createElement("div",o({},r))};A.displayName="Placeholder",A.propTypes={fallback:i.string,sources:null==(w=v.propTypes)?void 0:w.sources,alt:function(t,e,r){return t[e]?new Error("Invalid prop `"+e+"` supplied to `"+r+"`. Validation failed."):null}};const E=function(t){return n.createElement(n.Fragment,null,n.createElement(v,o({},t)),n.createElement("noscript",null,n.createElement(v,o({},t,{shouldLoad:!0}))))};E.displayName="MainImage",E.propTypes=v.propTypes;const _=["as","className","class","style","image","loading","imgClassName","imgStyle","backgroundColor","objectFit","objectPosition"],x=["style","className"],S=t=>t.replace(/\n/g,""),P=function(t,e,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];return t.alt||""===t.alt?s().string.apply(s(),[t,e,r].concat(i)):new Error('The "alt" prop is required in '+r+'. If the image is purely presentational then pass an empty string: e.g. alt="". Learn more: https://a11y-style-guide.com/style-guide/section-media.html')},O={image:s().object.isRequired,alt:P},I=["as","image","style","backgroundColor","className","class","onStartLoad","onLoad","onError"],C=["style","className"],N=new Set;let T,k;const R=function(t){let{as:e="div",image:i,style:s,backgroundColor:l,className:h,class:f,onStartLoad:p,onLoad:d,onError:g}=t,y=a(t,I);const{width:m,height:v,layout:w}=i,b=u(m,v,w),{style:A,className:E}=b,_=a(b,C),x=(0,n.useRef)(),S=(0,n.useMemo)((()=>JSON.stringify(i.images)),[i.images]);f&&(h=f);const P=function(t,e,r){let n="";return"fullWidth"===t&&(n='<div aria-hidden="true" style="padding-top: '+r/e*100+'%;"></div>'),"constrained"===t&&(n='<div style="max-width: '+e+'px; display: block;"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=\''+r+"'%20width='"+e+"'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%3E%3C/svg%3E\" style=\"max-width: 100%; display: block; position: static;\"></div>"),n}(w,m,v);return(0,n.useEffect)((()=>{T||(T=r.e(731).then(r.bind(r,6731)).then((t=>{let{renderImageToString:e,swapPlaceholderImage:r}=t;return k=e,{renderImageToString:e,swapPlaceholderImage:r}})));const t=x.current.querySelector("[data-gatsby-image-ssr]");if(t&&c())return t.complete?(null==p||p({wasCached:!0}),null==d||d({wasCached:!0}),setTimeout((()=>{t.removeAttribute("data-gatsby-image-ssr")}),0)):(null==p||p({wasCached:!0}),t.addEventListener("load",(function e(){t.removeEventListener("load",e),null==d||d({wasCached:!0}),setTimeout((()=>{t.removeAttribute("data-gatsby-image-ssr")}),0)}))),void N.add(S);if(k&&N.has(S))return;let e,n;return T.then((t=>{let{renderImageToString:r,swapPlaceholderImage:a}=t;x.current&&(x.current.innerHTML=r(o({isLoading:!0,isLoaded:N.has(S),image:i},y)),N.has(S)||(e=requestAnimationFrame((()=>{x.current&&(n=a(x.current,S,N,s,p,d,g))}))))})),()=>{e&&cancelAnimationFrame(e),n&&n()}}),[i]),(0,n.useLayoutEffect)((()=>{N.has(S)&&k&&(x.current.innerHTML=k(o({isLoading:N.has(S),isLoaded:N.has(S),image:i},y)),null==p||p({wasCached:!0}),null==d||d({wasCached:!0}))}),[i]),(0,n.createElement)(e,o({},_,{style:o({},A,s,{backgroundColor:l}),className:E+(h?" "+h:""),ref:x,dangerouslySetInnerHTML:{__html:P},suppressHydrationWarning:!0}))},L=(0,n.memo)((function(t){return t.image?(0,n.createElement)(R,t):null}));L.propTypes=O,L.displayName="GatsbyImage";const j=["src","__imageData","__error","width","height","aspectRatio","tracedSVGOptions","placeholder","formats","quality","transformOptions","jpgOptions","pngOptions","webpOptions","avifOptions","blurredOptions","breakpoints","outputPixelDensities"];function U(t){return function(e){let{src:r,__imageData:i,__error:s}=e,c=a(e,j);return s&&console.warn(s),i?n.createElement(t,o({image:i},c)):(console.warn("Image not loaded",r),null)}}const B=U((function(t){let{as:e="div",className:r,class:i,style:s,image:c,loading:f="lazy",imgClassName:p,imgStyle:g,backgroundColor:y,objectFit:m,objectPosition:v}=t,w=a(t,_);if(!c)return console.warn("[gatsby-plugin-image] Missing image prop"),null;i&&(r=i),g=o({objectFit:m,objectPosition:v,backgroundColor:y},g);const{width:b,height:P,layout:O,images:I,placeholder:C,backgroundColor:N}=c,T=u(b,P,O),{style:k,className:R}=T,L=a(T,x),j={fallback:void 0,sources:[]};return I.fallback&&(j.fallback=o({},I.fallback,{srcSet:I.fallback.srcSet?S(I.fallback.srcSet):void 0})),I.sources&&(j.sources=I.sources.map((t=>o({},t,{srcSet:S(t.srcSet)})))),n.createElement(e,o({},L,{style:o({},k,s,{backgroundColor:y}),className:R+(r?" "+r:"")}),n.createElement(d,{layout:O,width:b,height:P},n.createElement(A,o({},h(C,!1,O,b,P,N,m,v))),n.createElement(E,o({"data-gatsby-image-ssr":"",className:p},w,l("eager"===f,!1,j,f,g)))))})),D=function(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return"fullWidth"!==t.layout||"width"!==e&&"height"!==e||!t[e]?s().number.apply(s(),[t,e].concat(n)):new Error('"'+e+'" '+t[e]+" may not be passed when layout is fullWidth.")},M=new Set(["fixed","fullWidth","constrained"]),F={src:s().string.isRequired,alt:P,width:D,height:D,sizes:s().string,layout:t=>{if(void 0!==t.layout&&!M.has(t.layout))return new Error("Invalid value "+t.layout+'" provided for prop "layout". Defaulting to "constrained". Valid values are "fixed", "fullWidth" or "constrained".')}};B.displayName="StaticImage",B.propTypes=F;const z=U(L);z.displayName="StaticImage",z.propTypes=F},7320:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return k_}});var n={};r.r(n),r.d(n,{identity:function(){return wt}});var i={};r.r(i),r.d(i,{base2:function(){return bt}});var s={};r.r(s),r.d(s,{base8:function(){return At}});var o={};r.r(o),r.d(o,{base10:function(){return Et}});var a={};r.r(a),r.d(a,{base16:function(){return _t},base16upper:function(){return xt}});var c={};r.r(c),r.d(c,{base32:function(){return St},base32hex:function(){return Ct},base32hexpad:function(){return Tt},base32hexpadupper:function(){return kt},base32hexupper:function(){return Nt},base32pad:function(){return Ot},base32padupper:function(){return It},base32upper:function(){return Pt},base32z:function(){return Rt}});var u={};r.r(u),r.d(u,{base36:function(){return Lt},base36upper:function(){return jt}});var l={};r.r(l),r.d(l,{base58btc:function(){return Ut},base58flickr:function(){return Bt}});var h={};r.r(h),r.d(h,{base64:function(){return Dt},base64pad:function(){return Mt},base64url:function(){return Ft},base64urlpad:function(){return zt}});var f={};r.r(f),r.d(f,{base256emoji:function(){return Vt}});var p={};r.r(p),r.d(p,{sha256:function(){return ye},sha512:function(){return me}});var d={};r.r(d),r.d(d,{identity:function(){return we}});var g={};r.r(g),r.d(g,{code:function(){return Ae},decode:function(){return _e},encode:function(){return Ee},name:function(){return be}});var y={};r.r(y),r.d(y,{code:function(){return Oe},decode:function(){return Ce},encode:function(){return Ie},name:function(){return Pe}});var m=r(7294),v=r(7462),w=r(5059),b=r(9931),A=r(5893),E=(0,w.G)((function(t,e){const{templateAreas:r,gap:n,rowGap:i,columnGap:s,column:o,row:a,autoFlow:c,autoRows:u,templateRows:l,autoColumns:h,templateColumns:f,...p}=t,d={display:"grid",gridTemplateAreas:r,gridGap:n,gridRowGap:i,gridColumnGap:s,gridAutoColumns:h,gridColumn:o,gridRow:a,gridAutoFlow:c,gridAutoRows:u,gridTemplateRows:l,gridTemplateColumns:f};return(0,A.jsx)(b.m.div,{ref:e,__css:d,...p})}));E.displayName="Grid";var _=r(5119),x=r(4629),S=r(5432);Object.freeze(["base","sm","md","lg","xl","2xl"]);function P(t,e){return Array.isArray(t)?t.map((t=>null===t?null:e(t))):(0,S.Kn)(t)?Object.keys(t).reduce(((r,n)=>(r[n]=e(t[n]),r)),{}):null!=t?e(t):null}var O=(0,w.G)((function(t,e){const{columns:r,spacingX:n,spacingY:i,spacing:s,minChildWidth:o,...a}=t,c=(0,_.F)(),u=o?function(t,e){return P(t,(t=>{const r=(0,x.LP)("sizes",t,function(t){return"number"==typeof t?`${t}px`:t}(t))(e);return null===t?null:`repeat(auto-fit, minmax(${r}, 1fr))`}))}(o,c):P(r,(t=>null===t?null:`repeat(${t}, minmax(0, 1fr))`));return(0,A.jsx)(E,{ref:e,gap:s,columnGap:n,rowGap:i,templateColumns:u,...a})}));O.displayName="SimpleGrid";var I=(0,w.G)((function(t,e){const{direction:r,align:n,justify:i,wrap:s,basis:o,grow:a,shrink:c,...u}=t,l={display:"flex",flexDirection:r,alignItems:n,justifyContent:i,flexWrap:s,flexBasis:o,flexGrow:a,flexShrink:c};return(0,A.jsx)(b.m.div,{ref:e,__css:l,...u})}));I.displayName="Flex";var C=r(8911),N=(0,w.G)((function(t,e){return(0,A.jsx)(b.m.div,{...t,ref:e,role:"group",className:(0,S.cx)("chakra-stat__group",t.className),__css:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start"}})}));N.displayName="StatGroup";var T=r(5227),k=r(1639),R=r(3179),[L,j]=(0,T.k)({name:"StatStylesContext",errorMessage:"useStatStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Stat />\" "}),U=(0,w.G)((function(t,e){const r=(0,k.jC)("Stat",t),n={position:"relative",flex:"1 1 0%",...r.container},{className:i,children:s,...o}=(0,R.Lr)(t);return(0,A.jsx)(L,{value:r,children:(0,A.jsx)(b.m.div,{ref:e,...o,className:(0,S.cx)("chakra-stat",i),__css:n,children:(0,A.jsx)("dl",{children:s})})})}));U.displayName="Stat";var B=(0,w.G)((function(t,e){const r=j();return(0,A.jsx)(b.m.dt,{ref:e,...t,className:(0,S.cx)("chakra-stat__label",t.className),__css:r.label})}));B.displayName="StatLabel";var D=(0,w.G)((function(t,e){const r=j();return(0,A.jsx)(b.m.dd,{ref:e,...t,className:(0,S.cx)("chakra-stat__number",t.className),__css:{...r.number,fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}})}));D.displayName="StatNumber";var M=r(7754);var[F,z]=(0,T.k)({strict:!1,name:"ButtonGroupContext"});function H(t){const{children:e,className:r,...n}=t,i=(0,m.isValidElement)(e)?(0,m.cloneElement)(e,{"aria-hidden":!0,focusable:!1}):e,s=(0,S.cx)("chakra-button__icon",r);return(0,A.jsx)(b.m.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...n,className:s,children:i})}H.displayName="ButtonIcon";var q=r(295);function G(t){const{label:e,placement:r,spacing:n="0.5rem",children:i=(0,A.jsx)(q.$,{color:"currentColor",width:"1em",height:"1em"}),className:s,__css:o,...a}=t,c=(0,S.cx)("chakra-button__spinner",s),u="start"===r?"marginEnd":"marginStart",l=(0,m.useMemo)((()=>({display:"flex",alignItems:"center",position:e?"relative":"absolute",[u]:e?n:0,fontSize:"1em",lineHeight:"normal",...o})),[o,e,u,n]);return(0,A.jsx)(b.m.div,{className:c,...a,__css:l,children:i})}function V(...t){return e=>{t.forEach((t=>{!function(t,e){if(null!=t)if("function"!=typeof t)try{t.current=e}catch(r){throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}else t(e)}(t,e)}))}}function K(...t){return(0,m.useMemo)((()=>V(...t)),t)}G.displayName="ButtonSpinner";var W=(0,w.G)(((t,e)=>{const r=z(),n=(0,k.mq)("Button",{...r,...t}),{isDisabled:i=(null==r?void 0:r.isDisabled),isLoading:s,isActive:o,children:a,leftIcon:c,rightIcon:u,loadingText:l,iconSpacing:h="0.5rem",type:f,spinner:p,spinnerPlacement:d="start",className:g,as:y,...v}=(0,R.Lr)(t),w=(0,m.useMemo)((()=>{const t={...null==n?void 0:n._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...n,...!!r&&{_focus:t}}}),[n,r]),{ref:E,type:_}=function(t){const[e,r]=(0,m.useState)(!t);return{ref:(0,m.useCallback)((t=>{t&&r("BUTTON"===t.tagName)}),[]),type:e?"button":void 0}}(y),x={rightIcon:u,leftIcon:c,iconSpacing:h,children:a};return(0,A.jsxs)(b.m.button,{ref:K(e,E),as:y,type:null!=f?f:_,"data-active":(0,S.PB)(o),"data-loading":(0,S.PB)(s),__css:w,className:(0,S.cx)("chakra-button",g),...v,disabled:i||s,children:[s&&"start"===d&&(0,A.jsx)(G,{className:"chakra-button__spinner--start",label:l,placement:"start",spacing:h,children:p}),s?l||(0,A.jsx)(b.m.span,{opacity:0,children:(0,A.jsx)($,{...x})}):(0,A.jsx)($,{...x}),s&&"end"===d&&(0,A.jsx)(G,{className:"chakra-button__spinner--end",label:l,placement:"end",spacing:h,children:p})]})}));function $(t){const{leftIcon:e,rightIcon:r,children:n,iconSpacing:i}=t;return(0,A.jsxs)(A.Fragment,{children:[e&&(0,A.jsx)(H,{marginEnd:i,children:e}),n,r&&(0,A.jsx)(H,{marginStart:i,children:r})]})}function J(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}W.displayName="Button";var Q=0;function Z(t){return"__private_"+Q+++"_"+t}var Y=r(7187),X=r.n(Y),tt=r(5501),et=r(512),rt=r(1416),nt=r(3294),it=r(7664);function st(t){return null!=globalThis.Buffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function ot(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?st(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function at(t,e){e||(e=t.reduce(((t,e)=>t+e.length),0));const r=ot(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return st(r)}var ct=function(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;var e=0;if(" "!==t[e]){for(var n=0,i=0;t[e]===c;)n++,e++;for(var s=(t.length-e)*u+1>>>0,o=new Uint8Array(s);t[e];){var l=r[t.charCodeAt(e)];if(255===l)return;for(var h=0,f=s-1;(0!==l||h<i)&&-1!==f;f--,h++)l+=a*o[f]>>>0,o[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=h,e++}if(" "!==t[e]){for(var p=s-i;p!==s&&0===o[p];)p++;for(var d=new Uint8Array(n+(s-p)),g=n;p!==s;)d[g++]=o[p++];return d}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,s=e.length;i!==s&&0===e[i];)i++,r++;for(var o=(s-i)*l+1>>>0,u=new Uint8Array(o);i!==s;){for(var h=e[i],f=0,p=o-1;(0!==h||f<n)&&-1!==p;p--,f++)h+=256*u[p]>>>0,u[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");n=f,i++}for(var d=o-n;d!==o&&0===u[d];)d++;for(var g=c.repeat(r);d<o;++d)g+=t.charAt(u[d]);return g},decodeUnsafe:h,decode:function(t){var r=h(t);if(r)return r;throw new Error(`Non-${e} character`)}}},ut=ct;new Uint8Array(0);const lt=t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};class ht{constructor(t,e,r){this.name=t,this.prefix=e,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class ft{constructor(t,e,r){if(this.name=t,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=r}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return dt(this,t)}}class pt{constructor(t){this.decoders=t}or(t){return dt(this,t)}decode(t){const e=t[0],r=this.decoders[e];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const dt=(t,e)=>new pt({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class gt{constructor(t,e,r,n){this.name=t,this.prefix=e,this.baseEncode=r,this.baseDecode=n,this.encoder=new ht(t,e,r),this.decoder=new ft(t,e,n)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const yt=({name:t,prefix:e,encode:r,decode:n})=>new gt(t,e,r,n),mt=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=ut(r,e);return yt({prefix:t,name:e,encode:n,decode:t=>lt(i(t))})},vt=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>yt({prefix:e,name:t,encode(t){return((t,e,r)=>{const n="="===e[e.length-1],i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s})(t,n,r)},decode(e){return((t,e,r,n)=>{const i={};for(let l=0;l<e.length;++l)i[e[l]]=l;let s=t.length;for(;"="===t[s-1];)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,u=0;for(let l=0;l<s;++l){const e=i[t[l]];if(void 0===e)throw new SyntaxError(`Non-${n} character`);c=c<<r|e,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,n,r,t)}}),wt=yt({prefix:"\0",name:"identity",encode:t=>(t=>(new TextDecoder).decode(t))(t),decode:t=>(t=>(new TextEncoder).encode(t))(t)}),bt=vt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),At=vt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Et=mt({prefix:"9",name:"base10",alphabet:"0123456789"}),_t=vt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),xt=vt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),St=vt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Pt=vt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ot=vt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),It=vt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ct=vt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Nt=vt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Tt=vt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),kt=vt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Rt=vt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Lt=mt({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),jt=mt({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Ut=mt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Bt=mt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Dt=vt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Mt=vt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ft=vt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),zt=vt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Ht=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),qt=Ht.reduce(((t,e,r)=>(t[r]=e,t)),[]),Gt=Ht.reduce(((t,e,r)=>(t[e.codePointAt(0)]=r,t)),[]);const Vt=yt({prefix:"🚀",name:"base256emoji",encode:function(t){return t.reduce(((t,e)=>t+=qt[e]),"")},decode:function(t){const e=[];for(const r of t){const t=Gt[r.codePointAt(0)];if(void 0===t)throw new Error(`Non-base256emoji character: ${r}`);e.push(t)}return new Uint8Array(e)}});var Kt=function t(e,r,n){r=r||[],n=n||0;var i=n;for(;e>=Jt;)r[n++]=255&e|Wt,e/=128;for(;e&$t;)r[n++]=255&e|Wt,e>>>=7;return r[n]=0|e,t.bytes=n-i+1,r},Wt=128,$t=-128,Jt=Math.pow(2,31);var Qt=function t(e,r){var n,i=0,s=(r=r||0,0),o=r,a=e.length;do{if(o>=a)throw t.bytes=0,new RangeError("Could not decode varint");n=e[o++],i+=s<28?(n&Yt)<<s:(n&Yt)*Math.pow(2,s),s+=7}while(n>=Zt);return t.bytes=o-r,i},Zt=128,Yt=127;var Xt=Math.pow(2,7),te=Math.pow(2,14),ee=Math.pow(2,21),re=Math.pow(2,28),ne=Math.pow(2,35),ie=Math.pow(2,42),se=Math.pow(2,49),oe=Math.pow(2,56),ae=Math.pow(2,63),ce={encode:Kt,decode:Qt,encodingLength:function(t){return t<Xt?1:t<te?2:t<ee?3:t<re?4:t<ne?5:t<ie?6:t<se?7:t<oe?8:t<ae?9:10}};const ue=(t,e,r=0)=>(ce.encode(t,e,r),e),le=t=>ce.encodingLength(t),he=(t,e)=>{const r=e.byteLength,n=le(t),i=n+le(r),s=new Uint8Array(i+r);return ue(t,s,0),ue(r,s,n),s.set(e,i),new fe(t,r,e,s)};class fe{constructor(t,e,r,n){this.code=t,this.size=e,this.digest=r,this.bytes=n}}const pe=({name:t,code:e,encode:r})=>new de(t,e,r);class de{constructor(t,e,r){this.name=t,this.code=e,this.encode=r}digest(t){if(t instanceof Uint8Array){const e=this.encode(t);return e instanceof Uint8Array?he(this.code,e):e.then((t=>he(this.code,t)))}throw Error("Unknown type, must be binary type")}}const ge=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),ye=pe({name:"sha2-256",code:18,encode:ge("SHA-256")}),me=pe({name:"sha2-512",code:19,encode:ge("SHA-512")}),ve=lt,we={code:0,name:"identity",encode:ve,digest:t=>he(0,ve(t))},be="raw",Ae=85,Ee=t=>lt(t),_e=t=>lt(t),xe=new TextEncoder,Se=new TextDecoder,Pe="json",Oe=512,Ie=t=>xe.encode(JSON.stringify(t)),Ce=t=>JSON.parse(Se.decode(t));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const Ne={...n,...i,...s,...o,...a,...c,...u,...l,...h,...f};function Te(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const ke=Te("utf8","u",(t=>"u"+new TextDecoder("utf8").decode(t)),(t=>(new TextEncoder).encode(t.substring(1)))),Re=Te("ascii","a",(t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}),(t=>{const e=ot((t=t.substring(1)).length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}));var Le={utf8:ke,"utf-8":ke,hex:Ne.base16,latin1:Re,ascii:Re,binary:Re,...Ne};function je(t,e="utf8"){const r=Le[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${t}`):st(globalThis.Buffer.from(t,"utf-8"))}function Ue(t,e="utf8"){const r=Le[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(t).substring(1):globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8")}var Be=function(t,e,r){if(r||2===arguments.length)for(var n,i=0,s=e.length;i<s;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))},De=function(t,e,r){this.name=t,this.version=e,this.os=r,this.type="browser"},Me=function(t){this.version=t,this.type="node",this.name="node",this.os=process.platform},Fe=function(t,e,r,n){this.name=t,this.version=e,this.os=r,this.bot=n,this.type="bot-device"},ze=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},He=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},qe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Ge=3,Ve=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Ke=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function We(t){return t?Je(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new He:"undefined"!=typeof navigator?Je(navigator.userAgent):"undefined"!=typeof process&&process.version?new Me(process.version.slice(1)):null}function $e(t){return""!==t&&Ve.reduce((function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]}),!1)}function Je(t){var e=$e(t);if(!e)return null;var r=e[0],n=e[1];if("searchbot"===r)return new ze;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<Ge&&(i=Be(Be([],i,!0),function(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}(Ge-i.length),!0)):i=[];var s=i.join("."),o=function(t){for(var e=0,r=Ke.length;e<r;e++){var n=Ke[e],i=n[0];if(n[1].exec(t))return i}return null}(t),a=qe.exec(t);return a&&a[1]?new Fe(r,s,o,a[1]):new De(r,s,o)}var Qe=r(6736),Ze=r(2873),Ye=r(5755),Xe=r(7563);r(1882);const tr={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function er(t,e){return t.includes(":")?[t]:e.chains||[]}const rr="base10",nr="base16",ir="base64pad",sr="utf8",or=0,ar=1,cr=0,ur=1,lr=12,hr=32;function fr(){return Ue((0,rt.randomBytes)(hr),nr)}function pr(t){return Ue((0,nt.vp)(je(t,sr)),nr)}function dr(t){return Number(Ue(t,rr))}function gr(t){const e=function(t){return je(`${t}`,rr)}(typeof t.type<"u"?t.type:or);if(dr(e)===ar&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?je(t.senderPublicKey,nr):void 0,n=typeof t.iv<"u"?je(t.iv,nr):(0,rt.randomBytes)(lr);return function(t){if(dr(t.type)===ar){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ue(at([t.type,t.senderPublicKey,t.iv,t.sealed]),ir)}return Ue(at([t.type,t.iv,t.sealed]),ir)}({type:e,sealed:new tt.OK(je(t.symKey,nr)).seal(n,je(t.message,sr)),iv:n,senderPublicKey:r})}function yr(t){const e=je(t,ir),r=e.slice(cr,ur),n=ur;if(dr(r)===ar){const t=n+hr,i=t+lr,s=e.slice(n,t),o=e.slice(t,i);return{type:r,sealed:e.slice(i),iv:o,senderPublicKey:s}}const i=n+lr,s=e.slice(n,i);return{type:r,sealed:e.slice(i),iv:s}}function mr(t){const e=t?.type||or;if(e===ar){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function vr(t){return t.type===ar&&"string"==typeof t.senderPublicKey&&"string"==typeof t.receiverPublicKey}var wr=Object.defineProperty,br=Object.getOwnPropertySymbols,Ar=Object.prototype.hasOwnProperty,Er=Object.prototype.propertyIsEnumerable,_r=(t,e,r)=>e in t?wr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xr=(t,e)=>{for(var r in e||(e={}))Ar.call(e,r)&&_r(t,r,e[r]);if(br)for(var r of br(e))Er.call(e,r)&&_r(t,r,e[r]);return t};const Sr="ReactNative",Pr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Or="js";function Ir(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Cr(){return!(0,Ze.getDocument)()&&!!(0,Ze.getNavigator)()&&navigator.product===Sr}function Nr(){return!Ir()&&!!(0,Ze.getNavigator)()}function Tr(){return Cr()?Pr.reactNative:Ir()?Pr.node:Nr()?Pr.browser:Pr.unknown}function kr(t,e,r){const n=function(){const t=We();if(null===t)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return"browser"===t.type?[e,t.name,t.version].join("-"):[e,t.version].join("-")}(),i=function(){var t;const e=Tr();return e===Pr.browser?[e,(null==(t=(0,Ze.getLocation)())?void 0:t.host)||"unknown"].join(":"):e}();return[[t,e].join("-"),[Or,r].join("-"),n,i].join("/")}function Rr({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o}){const a=r.split("?"),c={auth:i,ua:kr(t,e,n),projectId:s,useOnCloseEvent:o||void 0},u=function(t,e){let r=Xe.parse(t);return r=xr(xr({},r),e),Xe.stringify(r)}(a[1]||"",c);return a[0]+"?"+u}function Lr(t,e){return t.filter((t=>e.includes(t))).length===t.length}function jr(t){return Object.fromEntries(t.entries())}function Ur(t){return new Map(Object.entries(t))}function Br(t=Qe.FIVE_MINUTES,e){const r=(0,Qe.toMiliseconds)(t||Qe.FIVE_MINUTES);let n,i,s;return{resolve:t=>{s&&n&&(clearTimeout(s),n(t))},reject:t=>{s&&i&&(clearTimeout(s),i(t))},done:()=>new Promise(((t,o)=>{s=setTimeout((()=>{o(new Error(e))}),r),n=t,i=o}))}}function Dr(t,e,r){return new Promise((async(n,i)=>{const s=setTimeout((()=>i(new Error(r))),e);try{n(await t)}catch(o){i(o)}clearTimeout(s)}))}function Mr(t,e){if("string"==typeof e&&e.startsWith(`${t}:`))return e;if("topic"===t.toLowerCase()){if("string"!=typeof e)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}if("id"===t.toLowerCase()){if("number"!=typeof e)throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Fr(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if("topic"===e&&"string"==typeof r)n.topic=r;else{if("id"!==e||!Number.isInteger(Number(r)))throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);n.id=Number(r)}return n}function zr(t,e){return(0,Qe.fromMiliseconds)((e||Date.now())+(0,Qe.toMiliseconds)(t))}function Hr(t){return Date.now()>=(0,Qe.toMiliseconds)(t)}function qr(t,e){return`${t}${e?`:${e}`:""}`}function Gr(t=[],e=[]){return[...new Set([...t,...e])]}function Vr(t){return t?.relay||{protocol:"irn"}}function Kr(t){const e=tr[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var Wr=Object.defineProperty,$r=Object.getOwnPropertySymbols,Jr=Object.prototype.hasOwnProperty,Qr=Object.prototype.propertyIsEnumerable,Zr=(t,e,r)=>e in t?Wr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;function Yr(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach((e=>{if(e.startsWith(n)){const i=e.replace(n,""),s=t[e];r[i]=s}})),r}function Xr(t){return t.startsWith("//")?t.substring(2):t}function tn(t){return`${t.protocol}:${t.topic}@${t.version}?`+Xe.stringify(((t,e)=>{for(var r in e||(e={}))Jr.call(e,r)&&Zr(t,r,e[r]);if($r)for(var r of $r(e))Qr.call(e,r)&&Zr(t,r,e[r]);return t})({symKey:t.symKey},function(t,e="-"){const r={};return Object.keys(t).forEach((n=>{const i="relay"+e+n;t[n]&&(r[i]=t[n])})),r}(t.relay)))}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function en(t){const e=[];return t.forEach((t=>{const[r,n]=t.split(":");e.push(`${r}:${n}`)})),e}function rn(t){return t.includes(":")}function nn(t){return rn(t)?t.split(":")[0]:t}const sn={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},on={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function an(t,e){const{message:r,code:n}=on[t];return{message:e?`${r} ${e}`:r,code:n}}function cn(t,e){const{message:r,code:n}=sn[t];return{message:e?`${r} ${e}`:r,code:n}}function un(t,e){return!!Array.isArray(t)&&(!(typeof e<"u"&&t.length)||t.every(e))}function ln(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function hn(t){return typeof t>"u"}function fn(t,e){return!(!e||!hn(t))||"string"==typeof t&&!!t.trim().length}function pn(t,e){return!(!e||!hn(t))||"number"==typeof t&&!isNaN(t)}function dn(t){return!(!fn(t,!1)||!t.includes(":"))&&2===t.split(":").length}function gn(t){let e=!0;return un(t)?t.length&&(e=t.every((t=>fn(t,!1)))):e=!1,e}function yn(t,e){let r=null;return Object.entries(t).forEach((([t,n])=>{if(r)return;const i=function(t,e,r){let n=null;return un(e)?e.forEach((e=>{n||(!dn(e)||!e.includes(t))&&(n=cn("UNSUPPORTED_CHAINS",`${r}, chain ${e} should be a string and conform to "namespace:chainId" format`))})):n=cn("UNSUPPORTED_CHAINS",`${r}, chains ${e} should be an array of strings conforming to "namespace:chainId" format`),n}(t,er(t,n),`${e} requiredNamespace`);i&&(r=i)})),r}function mn(t,e){let r=null;return un(t)?t.forEach((t=>{r||function(t){if(fn(t,!1)&&t.includes(":")){const e=t.split(":");if(3===e.length){const t=e[0]+":"+e[1];return!!e[2]&&dn(t)}}return!1}(t)||(r=cn("UNSUPPORTED_ACCOUNTS",`${e}, account ${t} should be a string and conform to "namespace:chainId:address" format`))})):r=cn("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function vn(t,e){let r=null;return Object.values(t).forEach((t=>{if(r)return;const n=function(t,e){let r=null;return gn(t?.methods)?gn(t?.events)||(r=cn("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=cn("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}(t,`${e}, namespace`);n&&(r=n)})),r}function wn(t,e){let r=null;if(t&&ln(t)){const n=vn(t,e);n&&(r=n);const i=function(t,e){let r=null;return Object.values(t).forEach((t=>{if(r)return;const n=mn(t?.accounts,`${e} namespace`);n&&(r=n)})),r}(t,e);i&&(r=i)}else r=an("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function bn(t){return fn(t.protocol,!0)}function An(t){return typeof t<"u"&&null!==typeof t}function En(t,e){return!(!dn(e)||!function(t){const e=[];return Object.values(t).forEach((t=>{e.push(...en(t.accounts))})),e}(t).includes(e))}function _n(t,e,r){return!!fn(r,!1)&&function(t,e){const r=[];return Object.values(t).forEach((t=>{en(t.accounts).includes(e)&&r.push(...t.methods)})),r}(t,e).includes(r)}function xn(t,e,r){return!!fn(r,!1)&&function(t,e){const r=[];return Object.values(t).forEach((t=>{en(t.accounts).includes(e)&&r.push(...t.events)})),r}(t,e).includes(r)}function Sn(t,e,r){let n=null;const i=function(t){const e={};return Object.keys(t).forEach((r=>{var n;r.includes(":")?e[r]=t[r]:null==(n=t[r].chains)||n.forEach((n=>{e[n]={methods:t[r].methods,events:t[r].events}}))})),e}(t),s=function(t){const e={};return Object.keys(t).forEach((r=>{if(r.includes(":"))e[r]=t[r];else{const n=en(t[r].accounts);n?.forEach((n=>{e[n]={accounts:t[r].accounts.filter((t=>t.includes(`${n}:`))),methods:t[r].methods,events:t[r].events}}))}})),e}(e),o=Object.keys(i),a=Object.keys(s),c=Pn(Object.keys(t)),u=Pn(Object.keys(e)),l=c.filter((t=>!u.includes(t)));return l.length&&(n=an("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${l.toString()}\n      Received: ${Object.keys(e).toString()}`)),Lr(o,a)||(n=an("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.\n      Required: ${o.toString()}\n      Approved: ${a.toString()}`)),Object.keys(e).forEach((t=>{if(!t.includes(":")||n)return;const i=en(e[t].accounts);i.includes(t)||(n=an("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${t}\n        Required: ${t}\n        Approved: ${i.toString()}`))})),o.forEach((t=>{n||(Lr(i[t].methods,s[t].methods)?Lr(i[t].events,s[t].events)||(n=an("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${t}`)):n=an("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${t}`))})),n}function Pn(t){return[...new Set(t.map((t=>t.includes(":")?t.split(":")[0]:t)))]}var On=r(5150),In=r(772),Cn=r(9107),Nn=r(8200);class Tn extends Nn.q{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}}class kn extends Nn.q{constructor(t,e){super(),this.core=t,this.logger=e,this.records=new Map}}class Rn{constructor(t,e){this.logger=t,this.core=e}}class Ln extends Nn.q{constructor(t,e){super(),this.relayer=t,this.logger=e}}class jn extends Nn.q{constructor(t){super()}}class Un{constructor(t,e,r,n){this.core=t,this.logger=e,this.name=r}}class Bn extends Nn.q{constructor(t,e){super(),this.relayer=t,this.logger=e}}class Dn extends Nn.q{constructor(t,e){super(),this.core=t,this.logger=e}}class Mn{constructor(t,e){this.projectId=t,this.logger=e}}class Fn{constructor(t){this.opts=t,this.protocol="wc",this.version=2}}class zn{constructor(t){this.client=t}}const Hn=t=>JSON.stringify(t,((t,e)=>"bigint"==typeof e?e.toString()+"n":e));function qn(t){if("string"!=typeof t)throw new Error("Cannot safe json parse value of type "+typeof t);try{return(t=>{const e=t.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(e,((t,e)=>"string"==typeof e&&e.match(/^\d+n$/)?BigInt(e.substring(0,e.length-1)):e))})(t)}catch(e){return t}}function Gn(t){return"string"==typeof t?t:Hn(t)||""}var Vn=r(1050);const Kn=".",Wn="base64url",$n="utf8",Jn="utf8",Qn=":",Zn="did",Yn="key",Xn="base58btc",ti="z",ei="K36";function ri(t){return Ue(je(Gn(t),$n),Wn)}function ni(t){const e=je(ei,Xn),r=ti+Ue(at([e,t]),Xn);return[Zn,Yn,r].join(Qn)}function ii(t){return Ue(t,Wn)}function si(t=(0,rt.randomBytes)(32)){return Vn._w(t)}async function oi(t,e,r,n,i=(0,Qe.fromMiliseconds)(Date.now())){const s={alg:"EdDSA",typ:"JWT"},o={iss:ni(n.publicKey),sub:t,aud:e,iat:i,exp:i+r},a=je([ri((c={header:s,payload:o}).header),ri(c.payload)].join(Kn),Jn);var c;return function(t){return[ri(t.header),ri(t.payload),ii(t.signature)].join(Kn)}({header:s,payload:o,signature:Vn.Xx(n.secretKey,a)})}r(3014);const ai="INTERNAL_ERROR",ci="SERVER_ERROR",ui=[-32700,-32600,-32601,-32602,-32603],li={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[ai]:{code:-32603,message:"Internal error"},[ci]:{code:-32e3,message:"Server error"}},hi=ci;function fi(t){return ui.includes(t)}function pi(t){return Object.keys(li).includes(t)?li[t]:li[hi]}function di(t){const e=Object.values(li).find((e=>e.code===t));return e||li[hi]}function gi(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var yi=r(1468);function mi(t=3){return Date.now()*Math.pow(10,t)+Math.floor(Math.random()*Math.pow(10,t))}function vi(t=6){return BigInt(mi(t))}function wi(t,e,r){return{id:r||mi(),jsonrpc:"2.0",method:t,params:e}}function bi(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Ai(t,e,r){return{id:t,jsonrpc:"2.0",error:Ei(e,r)}}function Ei(t,e){return void 0===t?pi(ai):("string"==typeof t&&(t=Object.assign(Object.assign({},pi(ci)),{message:t})),void 0!==e&&(t.data=e),fi(t.code)&&(t=di(t.code)),t)}class _i{}class xi extends _i{constructor(){super()}}class Si extends xi{constructor(t){super()}}function Pi(t,e){const r=function(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(e&&e.length)return e[0]}(t);return void 0!==r&&new RegExp(e).test(r)}function Oi(t){return Pi(t,"^https?:")}function Ii(t){return Pi(t,"^wss?:")}function Ci(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function Ni(t){return"object"==typeof t&&"id"in t&&"jsonrpc"in t&&"2.0"===t.jsonrpc}function Ti(t){return Ni(t)&&"method"in t}function ki(t){return Ni(t)&&(Ri(t)||Li(t))}function Ri(t){return"result"in t}function Li(t){return"error"in t}class ji extends Si{constructor(t){super(t),this.events=new Y.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async request(t,e){return this.requestStrict(wi(t.method,t.params||[],t.id||vi().toString()),e)}async requestStrict(t,e){return new Promise((async(r,n)=>{if(!this.connection.connected)try{await this.open()}catch(i){n(i)}this.events.on(`${t.id}`,(t=>{Li(t)?n(t.error):r(t.result)}));try{await this.connection.send(t,e)}catch(i){n(i)}}))}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),ki(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&3e3===t.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof t&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",(t=>this.onPayload(t))),this.connection.on("close",(t=>this.onClose(t))),this.connection.on("error",(t=>this.events.emit("error",t))),this.connection.on("register_error",(t=>this.onClose())),this.hasRegisteredEventListeners=!0)}}const Ui=void 0!==r.g&&void 0!==r.g.WebSocket?r.g.WebSocket:"undefined"!=typeof window&&void 0!==window.WebSocket?window.WebSocket:r(2030);var Bi=class{constructor(t){if(this.url=t,this.events=new Y.EventEmitter,this.registering=!1,!Ii(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return void 0!==this.socket}get connecting(){return this.registering}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async open(t=this.url){await this.register(t)}async close(){return new Promise(((t,e)=>{void 0!==this.socket?(this.socket.onclose=e=>{this.onClose(e),t()},this.socket.close()):e(new Error("Connection already closed"))}))}async send(t,e){void 0===this.socket&&(this.socket=await this.register());try{this.socket.send(Gn(t))}catch(r){this.onError(t.id,r)}}register(t=this.url){if(!Ii(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise(((t,e)=>{this.events.once("register_error",(t=>{this.resetMaxListeners(),e(t)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),void 0===this.socket)return e(new Error("WebSocket connection is missing or invalid"));t(this.socket)}))}))}return this.url=t,this.registering=!0,new Promise(((e,r)=>{const n=(0,yi.isReactNative)()?void 0:{rejectUnauthorized:!Ci(t)},i=new Ui(t,[],n);"undefined"!=typeof window?i.onerror=t=>{const e=t;r(this.emitError(e.error))}:i.on("error",(t=>{r(this.emitError(t))})),i.onopen=()=>{this.onOpen(i),e(i)}}))}onOpen(t){t.onmessage=t=>this.onPayload(t),t.onclose=t=>this.onClose(t),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(void 0===t.data)return;const e="string"==typeof t.data?qn(t.data):t.data;this.events.emit("payload",e)}onError(t,e){const r=this.parseError(e),n=Ai(t,r.message||r.toString());this.events.emit("payload",n)}parseError(t,e=this.url){return gi(t,e,"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(t){const e=this.parseError(new Error((null==t?void 0:t.message)||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",e),e}},Di=Bi,Mi=r(2307),Fi=r.n(Mi);var zi=function(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;var e=0;if(" "!==t[e]){for(var n=0,i=0;t[e]===c;)n++,e++;for(var s=(t.length-e)*u+1>>>0,o=new Uint8Array(s);t[e];){var l=r[t.charCodeAt(e)];if(255===l)return;for(var h=0,f=s-1;(0!==l||h<i)&&-1!==f;f--,h++)l+=a*o[f]>>>0,o[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=h,e++}if(" "!==t[e]){for(var p=s-i;p!==s&&0===o[p];)p++;for(var d=new Uint8Array(n+(s-p)),g=n;p!==s;)d[g++]=o[p++];return d}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,s=e.length;i!==s&&0===e[i];)i++,r++;for(var o=(s-i)*l+1>>>0,u=new Uint8Array(o);i!==s;){for(var h=e[i],f=0,p=o-1;(0!==h||f<n)&&-1!==p;p--,f++)h+=256*u[p]>>>0,u[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");n=f,i++}for(var d=o-n;d!==o&&0===u[d];)d++;for(var g=c.repeat(r);d<o;++d)g+=t.charAt(u[d]);return g},decodeUnsafe:h,decode:function(t){var r=h(t);if(r)return r;throw new Error(`Non-${e} character`)}}},Hi=zi;const qi=t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};class Gi{constructor(t,e,r){this.name=t,this.prefix=e,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Vi{constructor(t,e,r){if(this.name=t,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=r}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return Wi(this,t)}}class Ki{constructor(t){this.decoders=t}or(t){return Wi(this,t)}decode(t){const e=t[0],r=this.decoders[e];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Wi=(t,e)=>new Ki({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class $i{constructor(t,e,r,n){this.name=t,this.prefix=e,this.baseEncode=r,this.baseDecode=n,this.encoder=new Gi(t,e,r),this.decoder=new Vi(t,e,n)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Ji=({name:t,prefix:e,encode:r,decode:n})=>new $i(t,e,r,n),Qi=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=Hi(r,e);return Ji({prefix:t,name:e,encode:n,decode:t=>qi(i(t))})},Zi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Ji({prefix:e,name:t,encode(t){return((t,e,r)=>{const n="="===e[e.length-1],i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s})(t,n,r)},decode(e){return((t,e,r,n)=>{const i={};for(let l=0;l<e.length;++l)i[e[l]]=l;let s=t.length;for(;"="===t[s-1];)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,u=0;for(let l=0;l<s;++l){const e=i[t[l]];if(void 0===e)throw new SyntaxError(`Non-${n} character`);c=c<<r|e,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,n,r,t)}}),Yi=Ji({prefix:"\0",name:"identity",encode:t=>(t=>(new TextDecoder).decode(t))(t),decode:t=>(t=>(new TextEncoder).encode(t))(t)});var Xi=Object.freeze({__proto__:null,identity:Yi});const ts=Zi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var es=Object.freeze({__proto__:null,base2:ts});const rs=Zi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var ns=Object.freeze({__proto__:null,base8:rs});const is=Qi({prefix:"9",name:"base10",alphabet:"0123456789"});var ss=Object.freeze({__proto__:null,base10:is});const os=Zi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),as=Zi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var cs=Object.freeze({__proto__:null,base16:os,base16upper:as});const us=Zi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ls=Zi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),hs=Zi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),fs=Zi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ps=Zi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ds=Zi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),gs=Zi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ys=Zi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ms=Zi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var vs=Object.freeze({__proto__:null,base32:us,base32upper:ls,base32pad:hs,base32padupper:fs,base32hex:ps,base32hexupper:ds,base32hexpad:gs,base32hexpadupper:ys,base32z:ms});const ws=Qi({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),bs=Qi({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var As=Object.freeze({__proto__:null,base36:ws,base36upper:bs});const Es=Qi({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),_s=Qi({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var xs=Object.freeze({__proto__:null,base58btc:Es,base58flickr:_s});const Ss=Zi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ps=Zi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Os=Zi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Is=Zi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Cs=Object.freeze({__proto__:null,base64:Ss,base64pad:Ps,base64url:Os,base64urlpad:Is});const Ns=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Ts=Ns.reduce(((t,e,r)=>(t[r]=e,t)),[]),ks=Ns.reduce(((t,e,r)=>(t[e.codePointAt(0)]=r,t)),[]);const Rs=Ji({prefix:"🚀",name:"base256emoji",encode:function(t){return t.reduce(((t,e)=>t+=Ts[e]),"")},decode:function(t){const e=[];for(const r of t){const t=ks[r.codePointAt(0)];if(void 0===t)throw new Error(`Non-base256emoji character: ${r}`);e.push(t)}return new Uint8Array(e)}});var Ls=Object.freeze({__proto__:null,base256emoji:Rs}),js=function t(e,r,n){r=r||[];for(var i=n=n||0;e>=Ds;)r[n++]=255&e|Us,e/=128;for(;e&Bs;)r[n++]=255&e|Us,e>>>=7;return r[n]=0|e,t.bytes=n-i+1,r},Us=128,Bs=-128,Ds=Math.pow(2,31);var Ms=function t(e,r){var n,i=0,s=0,o=r=r||0,a=e.length;do{if(o>=a)throw t.bytes=0,new RangeError("Could not decode varint");n=e[o++],i+=s<28?(n&zs)<<s:(n&zs)*Math.pow(2,s),s+=7}while(n>=Fs);return t.bytes=o-r,i},Fs=128,zs=127;var Hs=Math.pow(2,7),qs=Math.pow(2,14),Gs=Math.pow(2,21),Vs=Math.pow(2,28),Ks=Math.pow(2,35),Ws=Math.pow(2,42),$s=Math.pow(2,49),Js=Math.pow(2,56),Qs=Math.pow(2,63),Zs={encode:js,decode:Ms,encodingLength:function(t){return t<Hs?1:t<qs?2:t<Gs?3:t<Vs?4:t<Ks?5:t<Ws?6:t<$s?7:t<Js?8:t<Qs?9:10}},Ys=Zs;const Xs=(t,e,r=0)=>(Ys.encode(t,e,r),e),to=t=>Ys.encodingLength(t),eo=(t,e)=>{const r=e.byteLength,n=to(t),i=n+to(r),s=new Uint8Array(i+r);return Xs(t,s,0),Xs(r,s,n),s.set(e,i),new ro(t,r,e,s)};class ro{constructor(t,e,r,n){this.code=t,this.size=e,this.digest=r,this.bytes=n}}const no=({name:t,code:e,encode:r})=>new io(t,e,r);class io{constructor(t,e,r){this.name=t,this.code=e,this.encode=r}digest(t){if(t instanceof Uint8Array){const e=this.encode(t);return e instanceof Uint8Array?eo(this.code,e):e.then((t=>eo(this.code,t)))}throw Error("Unknown type, must be binary type")}}const so=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),oo=no({name:"sha2-256",code:18,encode:so("SHA-256")}),ao=no({name:"sha2-512",code:19,encode:so("SHA-512")});Object.freeze({__proto__:null,sha256:oo,sha512:ao});const co=qi,uo={code:0,name:"identity",encode:co,digest:t=>eo(0,co(t))};Object.freeze({__proto__:null,identity:uo});new TextEncoder,new TextDecoder;const lo={...Xi,...es,...ns,...ss,...cs,...vs,...As,...xs,...Cs,...Ls};function ho(t){return null!=globalThis.Buffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function fo(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const po=fo("utf8","u",(t=>"u"+new TextDecoder("utf8").decode(t)),(t=>(new TextEncoder).encode(t.substring(1)))),go=fo("ascii","a",(t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}),(t=>{const e=function(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?ho(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}((t=t.substring(1)).length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e})),yo={utf8:po,"utf-8":po,hex:lo.base16,latin1:go,ascii:go,binary:go,...lo};const mo="core",vo=`wc@2:${mo}:`,wo="error",bo={database:":memory:"},Ao="client_ed25519_seed",Eo=Qe.ONE_DAY,_o=Qe.SIX_HOURS,xo="wss://relay.walletconnect.com",So="relayer_message",Po="relayer_message_ack",Oo="relayer_connect",Io="relayer_disconnect",Co="relayer_error",No="relayer_connection_stalled",To="relayer_transport_closed",ko="relayer_publish",Ro="payload",Lo="connect",jo="disconnect",Uo="error",Bo=Qe.ONE_SECOND/2,Do="subscription_created",Mo="subscription_deleted",Fo="subscription_sync",zo="subscription_resubscribed",Ho=1e3*Qe.FIVE_SECONDS,qo={wc_pairingDelete:{req:{ttl:Qe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Qe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Qe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Qe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Qe.ONE_DAY,prompt:!1,tag:0},res:{ttl:Qe.ONE_DAY,prompt:!1,tag:0}}},Go="history_created",Vo="history_updated",Ko="history_deleted",Wo="history_sync",$o="expirer_created",Jo="expirer_deleted",Qo="expirer_expired",Zo="expirer_sync",Yo="verify-api",Xo="https://verify.walletconnect.com";class ta{constructor(t,e){this.core=t,this.logger=e,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=vo,this.init=async()=>{if(!this.initialized){const t=await this.getKeyChain();typeof t<"u"&&(this.keychain=t),this.initialized=!0}},this.has=t=>(this.isInitialized(),this.keychain.has(t)),this.set=async(t,e)=>{this.isInitialized(),this.keychain.set(t,e),await this.persist()},this.get=t=>{this.isInitialized();const e=this.keychain.get(t);if(typeof e>"u"){const{message:e}=an("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(e)}return e},this.del=async t=>{this.isInitialized(),this.keychain.delete(t),await this.persist()},this.core=t,this.logger=(0,Cn.generateChildLogger)(e,this.name)}get context(){return(0,Cn.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,jr(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Ur(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=an("NOT_INITIALIZED",this.name);throw new Error(t)}}}class ea{constructor(t,e,r){this.core=t,this.logger=e,this.name="crypto",this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=t=>(this.isInitialized(),this.keychain.has(t)),this.getClientId=async()=>{this.isInitialized();return ni(si(await this.getClientSeed()).publicKey)},this.generateKeyPair=()=>{this.isInitialized();const t=function(){const t=it.Au();return{privateKey:Ue(t.secretKey,nr),publicKey:Ue(t.publicKey,nr)}}();return this.setPrivateKey(t.publicKey,t.privateKey)},this.signJWT=async t=>{this.isInitialized();const e=si(await this.getClientSeed()),r=fr(),n=Eo;return await oi(r,t,n,e)},this.generateSharedKey=(t,e,r)=>{this.isInitialized();const n=function(t,e){const r=it.gi(je(t,nr),je(e,nr));return Ue(new et.t(nt.mE,r).expand(hr),nr)}(this.getPrivateKey(t),e);return this.setSymKey(n,r)},this.setSymKey=async(t,e)=>{this.isInitialized();const r=e||function(t){return Ue((0,nt.vp)(je(t,nr)),nr)}(t);return await this.keychain.set(r,t),r},this.deleteKeyPair=async t=>{this.isInitialized(),await this.keychain.del(t)},this.deleteSymKey=async t=>{this.isInitialized(),await this.keychain.del(t)},this.encode=async(t,e,r)=>{this.isInitialized();const n=mr(r),i=Gn(e);if(vr(n)){const e=n.senderPublicKey,r=n.receiverPublicKey;t=await this.generateSharedKey(e,r)}const s=this.getSymKey(t),{type:o,senderPublicKey:a}=n;return gr({type:o,symKey:s,message:i,senderPublicKey:a})},this.decode=async(t,e,r)=>{this.isInitialized();const n=function(t,e){const r=yr(t);return mr({type:dr(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Ue(r.senderPublicKey,nr):void 0,receiverPublicKey:e?.receiverPublicKey})}(e,r);if(vr(n)){const e=n.receiverPublicKey,r=n.senderPublicKey;t=await this.generateSharedKey(e,r)}const i=function(t){const e=new tt.OK(je(t.symKey,nr)),{sealed:r,iv:n}=yr(t.encoded),i=e.open(n,r);if(null===i)throw new Error("Failed to decrypt");return Ue(i,sr)}({symKey:this.getSymKey(t),encoded:e});return qn(i)},this.getPayloadType=t=>dr(yr(t).type),this.getPayloadSenderPublicKey=t=>{const e=yr(t);return e.senderPublicKey?Ue(e.senderPublicKey,nr):void 0},this.core=t,this.logger=(0,Cn.generateChildLogger)(e,this.name),this.keychain=r||new ta(this.core,this.logger)}get context(){return(0,Cn.getLoggerContext)(this.logger)}async setPrivateKey(t,e){return await this.keychain.set(t,e),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(Ao)}catch{t=fr(),await this.keychain.set(Ao,t)}return function(t,e="utf8"){const r=yo[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${t}`):ho(globalThis.Buffer.from(t,"utf-8"))}(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=an("NOT_INITIALIZED",this.name);throw new Error(t)}}}class ra extends Rn{constructor(t,e){super(t,e),this.logger=t,this.core=e,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=vo,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const t=await this.getRelayerMessages();typeof t<"u"&&(this.messages=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}finally{this.initialized=!0}}},this.set=async(t,e)=>{this.isInitialized();const r=pr(e);let n=this.messages.get(t);return typeof n>"u"&&(n={}),typeof n[r]<"u"||(n[r]=e,this.messages.set(t,n),await this.persist()),r},this.get=t=>{this.isInitialized();let e=this.messages.get(t);return typeof e>"u"&&(e={}),e},this.has=(t,e)=>{this.isInitialized();return typeof this.get(t)[pr(e)]<"u"},this.del=async t=>{this.isInitialized(),this.messages.delete(t),await this.persist()},this.logger=(0,Cn.generateChildLogger)(t,this.name),this.core=e}get context(){return(0,Cn.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,jr(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Ur(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:t}=an("NOT_INITIALIZED",this.name);throw new Error(t)}}}class na extends Ln{constructor(t,e){super(t,e),this.relayer=t,this.logger=e,this.events=new Y.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=1e4,this.publish=async(t,e,r)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:t,message:e,opts:r}});try{const n=r?.ttl||_o,i=Vr(r),s=r?.prompt||!1,o=r?.tag||0,a=r?.id||vi().toString(),c={topic:t,message:e,opts:{ttl:n,relay:i,prompt:s,tag:o,id:a}};this.queue.set(a,c);try{await await Dr(this.rpcPublish(t,e,n,i,s,o,a),this.publishTimeout),this.relayer.events.emit(ko,c)}catch{return this.logger.debug("Publishing Payload stalled"),void this.relayer.events.emit(No)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:t,message:e,opts:r}})}catch(Rn){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(Rn),Rn}},this.on=(t,e)=>{this.events.on(t,e)},this.once=(t,e)=>{this.events.once(t,e)},this.off=(t,e)=>{this.events.off(t,e)},this.removeListener=(t,e)=>{this.events.removeListener(t,e)},this.relayer=t,this.logger=(0,Cn.generateChildLogger)(e,this.name),this.registerEventListeners()}get context(){return(0,Cn.getLoggerContext)(this.logger)}rpcPublish(t,e,r,n,i,s,o){var a,c,u,l;const h={method:Kr(n.protocol).publish,params:{topic:t,message:e,ttl:r,prompt:i,tag:s},id:o};return hn(null==(a=h.params)?void 0:a.prompt)&&(null==(c=h.params)||delete c.prompt),hn(null==(u=h.params)?void 0:u.tag)&&(null==(l=h.params)||delete l.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:h}),this.relayer.request(h)}onPublish(t){this.queue.delete(t)}checkQueue(){this.queue.forEach((async t=>{const{topic:e,message:r,opts:n}=t;await this.publish(e,r,n)}))}registerEventListeners(){this.relayer.core.heartbeat.on(In.HEARTBEAT_EVENTS.pulse,(()=>{this.checkQueue()})),this.relayer.on(Po,(t=>{this.onPublish(t.id.toString())}))}}class ia{constructor(){this.map=new Map,this.set=(t,e)=>{const r=this.get(t);this.exists(t,e)||this.map.set(t,[...r,e])},this.get=t=>this.map.get(t)||[],this.exists=(t,e)=>this.get(t).includes(e),this.delete=(t,e)=>{if(typeof e>"u")return void this.map.delete(t);if(!this.map.has(t))return;const r=this.get(t);if(!this.exists(t,e))return;const n=r.filter((t=>t!==e));n.length?this.map.set(t,n):this.map.delete(t)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var sa=Object.defineProperty,oa=Object.defineProperties,aa=Object.getOwnPropertyDescriptors,ca=Object.getOwnPropertySymbols,ua=Object.prototype.hasOwnProperty,la=Object.prototype.propertyIsEnumerable,ha=(t,e,r)=>e in t?sa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fa=(t,e)=>{for(var r in e||(e={}))ua.call(e,r)&&ha(t,r,e[r]);if(ca)for(var r of ca(e))la.call(e,r)&&ha(t,r,e[r]);return t},pa=(t,e)=>oa(t,aa(e));class da extends Bn{constructor(t,e){super(t,e),this.relayer=t,this.logger=e,this.subscriptions=new Map,this.topicMap=new ia,this.events=new Y.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=vo,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(t,e)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:e}});try{const r=Vr(e),n={topic:t,relay:r};this.pending.set(t,n);const i=await this.rpcSubscribe(t,r);return this.onSubscribe(i,n),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:e}}),i}catch(Tn){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(Tn),Tn}},this.unsubscribe=async(t,e)=>{await this.restartToComplete(),this.isInitialized(),typeof e?.id<"u"?await this.unsubscribeById(t,e.id,e):await this.unsubscribeByTopic(t,e)},this.isSubscribed=async t=>!!this.topics.includes(t)||await new Promise(((e,r)=>{const n=new Qe.Watch;n.start(this.pendingSubscriptionWatchLabel);const i=setInterval((()=>{!this.pending.has(t)&&this.topics.includes(t)&&(clearInterval(i),n.stop(this.pendingSubscriptionWatchLabel),e(!0)),n.elapsed(this.pendingSubscriptionWatchLabel)>=Ho&&(clearInterval(i),n.stop(this.pendingSubscriptionWatchLabel),r(new Error("Subscription resolution timeout")))}),this.pollingInterval)})).catch((()=>!1)),this.on=(t,e)=>{this.events.on(t,e)},this.once=(t,e)=>{this.events.once(t,e)},this.off=(t,e)=>{this.events.off(t,e)},this.removeListener=(t,e)=>{this.events.removeListener(t,e)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=(0,Cn.generateChildLogger)(e,this.name),this.clientId=""}get context(){return(0,Cn.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,e){let r=!1;try{r=this.getSubscription(t).topic===e}catch{}return r}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,e){const r=this.topicMap.get(t);await Promise.all(r.map((async r=>await this.unsubscribeById(t,r,e))))}async unsubscribeById(t,e,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:e,opts:r}});try{const n=Vr(r);await this.rpcUnsubscribe(t,e,n);const i=cn("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,e,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:e,opts:r}})}catch(n){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(n),n}}async rpcSubscribe(t,e){const r={method:Kr(e.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Dr(this.relayer.request(r),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(No)}return pr(t+this.clientId)}async rpcBatchSubscribe(t){if(!t.length)return;const e={method:Kr(t[0].relay.protocol).batchSubscribe,params:{topics:t.map((t=>t.topic))}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:e});try{return await await Dr(this.relayer.request(e),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(No)}}rpcUnsubscribe(t,e,r){const n={method:Kr(r.protocol).unsubscribe,params:{topic:t,id:e}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(t,e){this.setSubscription(t,pa(fa({},e),{id:t})),this.pending.delete(e.topic)}onBatchSubscribe(t){t.length&&t.forEach((t=>{this.setSubscription(t.id,fa({},t)),this.pending.delete(t.topic)}))}async onUnsubscribe(t,e,r){this.events.removeAllListeners(e),this.hasSubscription(e,t)&&this.deleteSubscription(e,r),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,e){this.subscriptions.has(t)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:e}),this.addSubscription(t,e))}addSubscription(t,e){this.subscriptions.set(t,fa({},e)),this.topicMap.set(e.topic,t),this.events.emit(Do,e)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const e=this.subscriptions.get(t);if(!e){const{message:e}=an("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(e)}return e}deleteSubscription(t,e){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:e});const r=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(r.topic,t),this.events.emit(Mo,pa(fa({},r),{reason:e}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Fo)}async reset(){if(this.cached.length){const t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let e=0;e<t;e++){const t=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit(zo)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:t}=an("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;const e=await this.rpcBatchSubscribe(t);un(e)&&this.onBatchSubscribe(e.map(((e,r)=>pa(fa({},t[r]),{id:e}))))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(this.relayer.transportExplicitlyClosed)return;const t=[];this.pending.forEach((e=>{t.push(e)})),await this.batchSubscribe(t)}registerEventListeners(){this.relayer.core.heartbeat.on(In.HEARTBEAT_EVENTS.pulse,(async()=>{await this.checkPending()})),this.relayer.on(Oo,(async()=>{await this.onConnect()})),this.relayer.on(Io,(()=>{this.onDisconnect()})),this.events.on(Do,(async t=>{const e=Do;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),await this.persist()})),this.events.on(Mo,(async t=>{const e=Mo;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),await this.persist()}))}isInitialized(){if(!this.initialized){const{message:t}=an("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(){this.restartInProgress&&await new Promise((t=>{const e=setInterval((()=>{this.restartInProgress||(clearInterval(e),t())}),this.pollingInterval)}))}}var ga=Object.defineProperty,ya=Object.getOwnPropertySymbols,ma=Object.prototype.hasOwnProperty,va=Object.prototype.propertyIsEnumerable,wa=(t,e,r)=>e in t?ga(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;class ba extends jn{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new Y.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=async t=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(t)}catch(e){throw this.logger.debug("Failed to Publish Request"),this.logger.error(e),e}},this.core=t.core,this.logger=typeof t.logger<"u"&&"string"!=typeof t.logger?(0,Cn.generateChildLogger)(t.logger,this.name):(0,Cn.pino)((0,Cn.getDefaultLoggerOptions)({level:t.logger||"error"})),this.messages=new ra(this.logger,t.core),this.subscriber=new da(this,this.logger),this.publisher=new na(this,this.logger),this.relayUrl=t?.relayUrl||xo,this.projectId=t.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),await this.createProvider(),await Promise.all([this.messages.init(),this.transportOpen(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0,setTimeout((async()=>{0===this.subscriber.topics.length&&(this.logger.info("No topics subscribted to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)}),1e4)}get context(){return(0,Cn.getLoggerContext)(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(t,e,r){this.isInitialized(),await this.publisher.publish(t,e,r),await this.recordMessageEvent({topic:t,message:e,publishedAt:Date.now()})}async subscribe(t,e){var r;this.isInitialized();let n=(null==(r=this.subscriber.topicMap.get(t))?void 0:r[0])||"";return n||(await Promise.all([new Promise((e=>{this.subscriber.once(Do,(r=>{r.topic===t&&e()}))})),new Promise((async r=>{n=await this.subscriber.subscribe(t,e),r()}))]),n)}async unsubscribe(t,e){this.isInitialized(),await this.subscriber.unsubscribe(t,e)}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&(await this.provider.disconnect(),this.events.emit(To))}async transportOpen(t){if(this.transportExplicitlyClosed=!1,!this.reconnecting){this.relayUrl=t||this.relayUrl,this.reconnecting=!0;try{await Promise.all([new Promise((t=>{this.initialized||t(),this.subscriber.once(zo,(()=>{t()}))})),await Promise.race([new Promise((async(t,e)=>{await Dr(this.provider.connect(),5e3,"socket stalled").catch((t=>e(t))).then((()=>t())).finally((()=>this.removeListener(To,this.rejectTransportOpen)))})),new Promise((t=>this.once(To,this.rejectTransportOpen)))])])}catch(e){this.logger.error(e);const t=e;if(!this.isConnectionStalled(t.message))throw e;this.events.emit(To)}finally{this.reconnecting=!1}}}async restartTransport(t){this.transportExplicitlyClosed||this.reconnecting||(this.relayUrl=t||this.relayUrl,this.connected&&await Promise.all([new Promise((t=>{this.provider.once(jo,(()=>{t()}))})),this.transportClose()]),await this.createProvider(),await this.transportOpen())}isConnectionStalled(t){return this.staleConnectionErrors.some((e=>t.includes(e)))}rejectTransportOpen(){throw new Error("closeTransport called before connection was established")}async createProvider(){const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new ji(new Di(Rr({sdkVersion:"2.8.0",protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(t){const{topic:e,message:r}=t;await this.messages.set(e,r)}async shouldIgnoreMessageEvent(t){const{topic:e,message:r}=t;return!await this.subscriber.isSubscribed(e)||this.messages.has(e,r)}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),Ti(t)){if(!t.method.endsWith("_subscription"))return;const e=t.params,{topic:r,message:n,publishedAt:i}=e.data,s={topic:r,message:n,publishedAt:i};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(((t,e)=>{for(var r in e||(e={}))ma.call(e,r)&&wa(t,r,e[r]);if(ya)for(var r of ya(e))va.call(e,r)&&wa(t,r,e[r]);return t})({type:"event",event:e.id},s)),this.events.emit(e.id,s),await this.acknowledgePayload(t),await this.onMessageEvent(s)}else ki(t)&&this.events.emit(Po,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(So,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){const e=bi(t.id,!0);await this.provider.connection.send(e)}registerProviderListeners(){this.provider.on(Ro,(t=>this.onProviderPayload(t))),this.provider.on(Lo,(()=>{this.events.emit(Oo)})),this.provider.on(jo,(()=>{this.onProviderDisconnect()})),this.provider.on(Uo,(t=>{this.logger.error(t),this.events.emit(Co,t)}))}registerEventListeners(){this.events.on(No,(async()=>{await this.restartTransport()}))}onProviderDisconnect(){this.events.emit(Io),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout((async()=>{await this.restartTransport()}),(0,Qe.toMiliseconds)(Bo))}isInitialized(){if(!this.initialized){const{message:t}=an("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(!this.connected){if(this.connecting)return await new Promise((t=>{const e=setInterval((()=>{this.connected&&(clearInterval(e),t())}),this.connectionStatusPollingInterval)}));await this.restartTransport()}}}var Aa=Object.defineProperty,Ea=Object.getOwnPropertySymbols,_a=Object.prototype.hasOwnProperty,xa=Object.prototype.propertyIsEnumerable,Sa=(t,e,r)=>e in t?Aa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pa=(t,e)=>{for(var r in e||(e={}))_a.call(e,r)&&Sa(t,r,e[r]);if(Ea)for(var r of Ea(e))xa.call(e,r)&&Sa(t,r,e[r]);return t};class Oa extends Un{constructor(t,e,r,n=vo,i=void 0){super(t,e,r,n),this.core=t,this.logger=e,this.name=r,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=vo,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((t=>{this.getKey&&null!==t&&!hn(t)?this.map.set(this.getKey(t),t):function(t){var e;return null==(e=t?.proposer)?void 0:e.publicKey}(t)?this.map.set(t.id,t):function(t){return t?.topic}(t)&&this.map.set(t.topic,t)})),this.cached=[],this.initialized=!0)},this.set=async(t,e)=>{this.isInitialized(),this.map.has(t)?await this.update(t,e):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:t,value:e}),this.map.set(t,e),await this.persist())},this.get=t=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:t}),this.getData(t)),this.getAll=t=>(this.isInitialized(),t?this.values.filter((e=>Object.keys(t).every((r=>Fi()(e[r],t[r]))))):this.values),this.update=async(t,e)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:t,update:e});const r=Pa(Pa({},this.getData(t)),e);this.map.set(t,r),await this.persist()},this.delete=async(t,e)=>{this.isInitialized(),this.map.has(t)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:t,reason:e}),this.map.delete(t),await this.persist())},this.logger=(0,Cn.generateChildLogger)(e,this.name),this.storagePrefix=n,this.getKey=i}get context(){return(0,Cn.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const e=this.map.get(t);if(!e){const{message:e}=an("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(e),new Error(e)}return e}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:t}=an("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=an("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Ia{constructor(t,e){this.core=t,this.logger=e,this.name="pairing",this.version="0.3",this.events=new(X()),this.initialized=!1,this.storagePrefix=vo,this.ignoredPayloadTypes=[ar],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:t})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...t])]},this.create=async()=>{this.isInitialized();const t=fr(),e=await this.core.crypto.setSymKey(t),r=zr(Qe.FIVE_MINUTES),n={protocol:"irn"},i={topic:e,expiry:r,relay:n,active:!1},s=tn({protocol:this.core.protocol,version:this.core.version,topic:e,symKey:t,relay:n});return await this.pairings.set(e,i),await this.core.relayer.subscribe(e),this.core.expirer.set(e,r),{topic:e,uri:s}},this.pair=async t=>{this.isInitialized(),this.isValidPair(t);const{topic:e,symKey:r,relay:n}=function(t){const e=t.indexOf(":"),r=-1!==t.indexOf("?")?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=Xe.parse(s);return{protocol:n,topic:Xr(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:Yr(o)}}(t.uri);if(this.pairings.keys.includes(e))throw new Error(`Pairing already exists: ${e}`);if(this.core.crypto.hasKeys(e))throw new Error(`Keychain already exists: ${e}`);const i=zr(Qe.FIVE_MINUTES),s={topic:e,relay:n,expiry:i,active:!1};return await this.pairings.set(e,s),await this.core.crypto.setSymKey(r,e),await this.core.relayer.subscribe(e,{relay:n}),this.core.expirer.set(e,i),t.activatePairing&&await this.activate({topic:e}),s},this.activate=async({topic:t})=>{this.isInitialized();const e=zr(Qe.THIRTY_DAYS);await this.pairings.update(t,{active:!0,expiry:e}),this.core.expirer.set(t,e)},this.ping=async t=>{this.isInitialized(),await this.isValidPing(t);const{topic:e}=t;if(this.pairings.keys.includes(e)){const t=await this.sendRequest(e,"wc_pairingPing",{}),{done:r,resolve:n,reject:i}=Br();this.events.once(qr("pairing_ping",t),(({error:t})=>{t?i(t):n()})),await r()}},this.updateExpiry=async({topic:t,expiry:e})=>{this.isInitialized(),await this.pairings.update(t,{expiry:e})},this.updateMetadata=async({topic:t,metadata:e})=>{this.isInitialized(),await this.pairings.update(t,{peerMetadata:e})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async t=>{this.isInitialized(),await this.isValidDisconnect(t);const{topic:e}=t;this.pairings.keys.includes(e)&&(await this.sendRequest(e,"wc_pairingDelete",cn("USER_DISCONNECTED")),await this.deletePairing(e))},this.sendRequest=async(t,e,r)=>{const n=wi(e,r),i=await this.core.crypto.encode(t,n),s=qo[e].req;return this.core.history.set(t,n),this.core.relayer.publish(t,i,s),n.id},this.sendResult=async(t,e,r)=>{const n=bi(t,r),i=await this.core.crypto.encode(e,n),s=await this.core.history.get(e,t),o=qo[s.request.method].res;await this.core.relayer.publish(e,i,o),await this.core.history.resolve(n)},this.sendError=async(t,e,r)=>{const n=Ai(t,r),i=await this.core.crypto.encode(e,n),s=await this.core.history.get(e,t),o=qo[s.request.method]?qo[s.request.method].res:qo.unregistered_method.res;await this.core.relayer.publish(e,i,o),await this.core.history.resolve(n)},this.deletePairing=async(t,e)=>{await this.core.relayer.unsubscribe(t),await Promise.all([this.pairings.delete(t,cn("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(t),e?Promise.resolve():this.core.expirer.del(t)])},this.cleanup=async()=>{const t=this.pairings.getAll().filter((t=>Hr(t.expiry)));await Promise.all(t.map((t=>this.deletePairing(t.topic))))},this.onRelayEventRequest=t=>{const{topic:e,payload:r}=t,n=r.method;if(this.pairings.keys.includes(e))switch(n){case"wc_pairingPing":return this.onPairingPingRequest(e,r);case"wc_pairingDelete":return this.onPairingDeleteRequest(e,r);default:return this.onUnknownRpcMethodRequest(e,r)}},this.onRelayEventResponse=async t=>{const{topic:e,payload:r}=t,n=(await this.core.history.get(e,r.id)).request.method;if(this.pairings.keys.includes(e)){if("wc_pairingPing"===n)return this.onPairingPingResponse(e,r);return this.onUnknownRpcMethodResponse(n)}},this.onPairingPingRequest=async(t,e)=>{const{id:r}=e;try{this.isValidPing({topic:t}),await this.sendResult(r,t,!0),this.events.emit("pairing_ping",{id:r,topic:t})}catch(Rn){await this.sendError(r,t,Rn),this.logger.error(Rn)}},this.onPairingPingResponse=(t,e)=>{const{id:r}=e;setTimeout((()=>{Ri(e)?this.events.emit(qr("pairing_ping",r),{}):Li(e)&&this.events.emit(qr("pairing_ping",r),{error:e.error})}),500)},this.onPairingDeleteRequest=async(t,e)=>{const{id:r}=e;try{this.isValidDisconnect({topic:t}),await this.deletePairing(t),this.events.emit("pairing_delete",{id:r,topic:t})}catch(Rn){await this.sendError(r,t,Rn),this.logger.error(Rn)}},this.onUnknownRpcMethodRequest=async(t,e)=>{const{id:r,method:n}=e;try{if(this.registeredMethods.includes(n))return;const e=cn("WC_METHOD_UNSUPPORTED",n);await this.sendError(r,t,e),this.logger.error(e)}catch(i){await this.sendError(r,t,i),this.logger.error(i)}},this.onUnknownRpcMethodResponse=t=>{this.registeredMethods.includes(t)||this.logger.error(cn("WC_METHOD_UNSUPPORTED",t))},this.isValidPair=t=>{if(!An(t)){const{message:e}=an("MISSING_OR_INVALID",`pair() params: ${t}`);throw new Error(e)}if(!function(t){if(fn(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}(t.uri)){const{message:e}=an("MISSING_OR_INVALID",`pair() uri: ${t.uri}`);throw new Error(e)}},this.isValidPing=async t=>{if(!An(t)){const{message:e}=an("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidPairingTopic(e)},this.isValidDisconnect=async t=>{if(!An(t)){const{message:e}=an("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidPairingTopic(e)},this.isValidPairingTopic=async t=>{if(!fn(t,!1)){const{message:e}=an("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(e)}if(!this.pairings.keys.includes(t)){const{message:e}=an("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(e)}if(Hr(this.pairings.get(t).expiry)){await this.deletePairing(t);const{message:e}=an("EXPIRED",`pairing topic: ${t}`);throw new Error(e)}},this.core=t,this.logger=(0,Cn.generateChildLogger)(e,this.name),this.pairings=new Oa(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,Cn.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=an("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(So,(async t=>{const{topic:e,message:r}=t;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))return;const n=await this.core.crypto.decode(e,r);Ti(n)?(this.core.history.set(e,n),this.onRelayEventRequest({topic:e,payload:n})):ki(n)&&(await this.core.history.resolve(n),this.onRelayEventResponse({topic:e,payload:n}))}))}registerExpirerEvents(){this.core.expirer.on(Qo,(async t=>{const{topic:e}=Fr(t.target);e&&this.pairings.keys.includes(e)&&(await this.deletePairing(e,!0),this.events.emit("pairing_expire",{topic:e}))}))}}class Ca extends kn{constructor(t,e){super(t,e),this.core=t,this.logger=e,this.records=new Map,this.events=new Y.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=vo,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((t=>this.records.set(t.id,t))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(t,e,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:t,request:e,chainId:r}),this.records.has(e.id))return;const n={id:e.id,topic:t,request:{method:e.method,params:e.params||null},chainId:r};this.records.set(n.id,n),this.events.emit(Go,n)},this.resolve=async t=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:t}),!this.records.has(t.id))return;const e=await this.getRecord(t.id);typeof e.response>"u"&&(e.response=Li(t)?{error:t.error}:{result:t.result},this.records.set(e.id,e),this.events.emit(Vo,e))},this.get=async(t,e)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:t,id:e}),await this.getRecord(e)),this.delete=(t,e)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:e}),this.values.forEach((r=>{if(r.topic===t){if(typeof e<"u"&&r.id!==e)return;this.records.delete(r.id),this.events.emit(Ko,r)}}))},this.exists=async(t,e)=>(this.isInitialized(),!!this.records.has(e)&&(await this.getRecord(e)).topic===t),this.on=(t,e)=>{this.events.on(t,e)},this.once=(t,e)=>{this.events.once(t,e)},this.off=(t,e)=>{this.events.off(t,e)},this.removeListener=(t,e)=>{this.events.removeListener(t,e)},this.logger=(0,Cn.generateChildLogger)(e,this.name)}get context(){return(0,Cn.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach((e=>{if(typeof e.response<"u")return;const r={topic:e.topic,request:wi(e.request.method,e.request.params,e.id),chainId:e.chainId};return t.push(r)})),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const e=this.records.get(t);if(!e){const{message:e}=an("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(e)}return e}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Wo)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:t}=an("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(Go,(t=>{const e=Go;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,record:t}),this.persist()})),this.events.on(Vo,(t=>{const e=Vo;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,record:t}),this.persist()})),this.events.on(Ko,(t=>{const e=Ko;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,record:t}),this.persist()}))}isInitialized(){if(!this.initialized){const{message:t}=an("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Na extends Dn{constructor(t,e){super(t,e),this.core=t,this.logger=e,this.expirations=new Map,this.events=new Y.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=vo,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((t=>this.expirations.set(t.target,t))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=t=>{try{const e=this.formatTarget(t);return typeof this.getExpiration(e)<"u"}catch{return!1}},this.set=(t,e)=>{this.isInitialized();const r=this.formatTarget(t),n={target:r,expiry:e};this.expirations.set(r,n),this.checkExpiry(r,n),this.events.emit($o,{target:r,expiration:n})},this.get=t=>{this.isInitialized();const e=this.formatTarget(t);return this.getExpiration(e)},this.del=t=>{if(this.isInitialized(),this.has(t)){const e=this.formatTarget(t),r=this.getExpiration(e);this.expirations.delete(e),this.events.emit(Jo,{target:e,expiration:r})}},this.on=(t,e)=>{this.events.on(t,e)},this.once=(t,e)=>{this.events.once(t,e)},this.off=(t,e)=>{this.events.off(t,e)},this.removeListener=(t,e)=>{this.events.removeListener(t,e)},this.logger=(0,Cn.generateChildLogger)(e,this.name)}get context(){return(0,Cn.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if("string"==typeof t)return function(t){return Mr("topic",t)}(t);if("number"==typeof t)return function(t){return Mr("id",t)}(t);const{message:e}=an("UNKNOWN_TYPE","Target type: "+typeof t);throw new Error(e)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Zo)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:t}=an("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const e=this.expirations.get(t);if(!e){const{message:e}=an("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(e),new Error(e)}return e}checkExpiry(t,e){const{expiry:r}=e;(0,Qe.toMiliseconds)(r)-Date.now()<=0&&this.expire(t,e)}expire(t,e){this.expirations.delete(t),this.events.emit(Qo,{target:t,expiration:e})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach(((t,e)=>this.checkExpiry(e,t)))}registerEventListeners(){this.core.heartbeat.on(In.HEARTBEAT_EVENTS.pulse,(()=>this.checkExpirations())),this.events.on($o,(t=>{const e=$o;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),this.persist()})),this.events.on(Qo,(t=>{const e=Qo;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),this.persist()})),this.events.on(Jo,(t=>{const e=Jo;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),this.persist()}))}isInitialized(){if(!this.initialized){const{message:t}=an("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Ta extends Mn{constructor(t,e){super(t,e),this.projectId=t,this.logger=e,this.name=Yo,this.initialized=!1,this.init=async t=>{Cr()||!Nr()||(this.verifyUrl=t?.verifyUrl||Xo,await this.createIframe())},this.register=async t=>{var e;this.initialized||await this.init(),this.iframe&&(null==(e=this.iframe.contentWindow)||e.postMessage(t.attestationId,this.verifyUrl),this.logger.info(`postMessage sent: ${t.attestationId} ${this.verifyUrl}`))},this.resolve=async t=>{var e;if(this.isDevEnv)return"";this.logger.info(`resolving attestation: ${t.attestationId}`);const r=this.startAbortTimer(Qe.FIVE_SECONDS),n=await fetch(`${this.verifyUrl}/attestation/${t.attestationId}`,{signal:this.abortController.signal});return clearTimeout(r),200===n.status?null==(e=await n.json())?void 0:e.origin:""},this.createIframe=async()=>{try{await Promise.race([new Promise(((t,e)=>{if(document.getElementById(Yo))return t();const r=document.createElement("iframe");r.setAttribute("id",Yo),r.setAttribute("src",`${this.verifyUrl}/${this.projectId}`),r.style.display="none",r.addEventListener("load",(()=>{this.initialized=!0,t()})),r.addEventListener("error",(t=>{e(t)})),document.body.append(r),this.iframe=r})),new Promise((t=>{setTimeout((()=>t("iframe load timeout")),(0,Qe.toMiliseconds)(Qe.ONE_SECOND/2))}))])}catch(t){this.logger.error(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.error(t)}},this.logger=(0,Cn.generateChildLogger)(e,this.name),this.verifyUrl=Xo,this.abortController=new AbortController,this.isDevEnv=Ir()&&{}.IS_VITEST}get context(){return(0,Cn.getLoggerContext)(this.logger)}startAbortTimer(t){return setTimeout((()=>this.abortController.abort()),(0,Qe.toMiliseconds)(t))}}var ka=Object.defineProperty,Ra=Object.getOwnPropertySymbols,La=Object.prototype.hasOwnProperty,ja=Object.prototype.propertyIsEnumerable,Ua=(t,e,r)=>e in t?ka(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ba=(t,e)=>{for(var r in e||(e={}))La.call(e,r)&&Ua(t,r,e[r]);if(Ra)for(var r of Ra(e))ja.call(e,r)&&Ua(t,r,e[r]);return t};class Da extends Tn{constructor(t){super(t),this.protocol="wc",this.version=2,this.name=mo,this.events=new Y.EventEmitter,this.initialized=!1,this.on=(t,e)=>this.events.on(t,e),this.once=(t,e)=>this.events.once(t,e),this.off=(t,e)=>this.events.off(t,e),this.removeListener=(t,e)=>this.events.removeListener(t,e),this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||xo;const e=typeof t?.logger<"u"&&"string"!=typeof t?.logger?t.logger:(0,Cn.pino)((0,Cn.getDefaultLoggerOptions)({level:t?.logger||wo}));this.logger=(0,Cn.generateChildLogger)(e,this.name),this.heartbeat=new In.HeartBeat,this.crypto=new ea(this,this.logger,t?.keychain),this.history=new Ca(this,this.logger),this.expirer=new Na(this,this.logger),this.storage=null!=t&&t.storage?t.storage:new On.ZP(Ba(Ba({},bo),t?.storageOptions)),this.relayer=new ba({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Ia(this,this.logger),this.verify=new Ta(this.projectId||"",this.logger)}static async init(t){const e=new Da(t);await e.initialize();const r=await e.crypto.getClientId();return await e.storage.setItem("WALLETCONNECT_CLIENT_ID",r),e}get context(){return(0,Cn.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}}const Ma=Da,Fa="client",za=`wc@2:${Fa}:`,Ha=Fa,qa="error",Ga="Proposal expired",Va=Qe.SEVEN_DAYS,Ka={wc_sessionPropose:{req:{ttl:Qe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Qe.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:Qe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Qe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Qe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Qe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Qe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Qe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Qe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Qe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Qe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Qe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Qe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Qe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Qe.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:Qe.THIRTY_SECONDS,prompt:!1,tag:1115}}},Wa={min:Qe.FIVE_MINUTES,max:Qe.SEVEN_DAYS},$a=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var Ja=Object.defineProperty,Qa=Object.defineProperties,Za=Object.getOwnPropertyDescriptors,Ya=Object.getOwnPropertySymbols,Xa=Object.prototype.hasOwnProperty,tc=Object.prototype.propertyIsEnumerable,ec=(t,e,r)=>e in t?Ja(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,rc=(t,e)=>{for(var r in e||(e={}))Xa.call(e,r)&&ec(t,r,e[r]);if(Ya)for(var r of Ya(e))tc.call(e,r)&&ec(t,r,e[r]);return t},nc=(t,e)=>Qa(t,Za(e));class ic extends zn{constructor(t){super(t),this.name="engine",this.events=new(X()),this.initialized=!1,this.ignoredPayloadTypes=[ar],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(Ka)}),this.initialized=!0)},this.connect=async t=>{this.isInitialized();const e=nc(rc({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(e);const{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:i,sessionProperties:s,relays:o}=e;let a,c=r,u=!1;if(c&&(u=this.client.core.pairing.pairings.get(c).active),!c||!u){const{topic:t,uri:e}=await this.client.core.pairing.create();c=t,a=e}const l=await this.client.core.crypto.generateKeyPair(),h=rc({requiredNamespaces:n,optionalNamespaces:i,relays:o??[{protocol:"irn"}],proposer:{publicKey:l,metadata:this.client.metadata}},s&&{sessionProperties:s}),{reject:f,resolve:p,done:d}=Br(Qe.FIVE_MINUTES,Ga);if(this.events.once(qr("session_connect"),(async({error:t,session:e})=>{if(t)f(t);else if(e){e.self.publicKey=l;const t=nc(rc({},e),{requiredNamespaces:e.requiredNamespaces,optionalNamespaces:e.optionalNamespaces});await this.client.session.set(e.topic,t),await this.setExpiry(e.topic,e.expiry),c&&await this.client.core.pairing.updateMetadata({topic:c,metadata:e.peer.metadata}),p(t)}})),!c){const{message:t}=an("NO_MATCHING_KEY",`connect() pairing topic: ${c}`);throw new Error(t)}const g=await this.sendRequest(c,"wc_sessionPropose",h),y=zr(Qe.FIVE_MINUTES);return await this.setProposal(g,rc({id:g,expiry:y},h)),{uri:a,approval:d}},this.pair=async t=>(this.isInitialized(),await this.client.core.pairing.pair(t)),this.approve=async t=>{this.isInitialized(),await this.isValidApprove(t);const{id:e,relayProtocol:r,namespaces:n,sessionProperties:i}=t,s=this.client.proposal.get(e);let{pairingTopic:o,proposer:a,requiredNamespaces:c,optionalNamespaces:u}=s;o=o||"",ln(c)||(c=function(t,e){const r=wn(t,e);if(r)throw new Error(r.message);const n={};for(const[i,s]of Object.entries(t))n[i]={methods:s.methods,events:s.events,chains:s.accounts.map((t=>`${t.split(":")[0]}:${t.split(":")[1]}`))};return n}(n,"approve()"));const l=await this.client.core.crypto.generateKeyPair(),h=a.publicKey,f=await this.client.core.crypto.generateSharedKey(l,h);o&&e&&(await this.client.core.pairing.updateMetadata({topic:o,metadata:a.metadata}),await this.sendResult(e,o,{relay:{protocol:r??"irn"},responderPublicKey:l}),await this.client.proposal.delete(e,cn("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:o}));const p=rc({relay:{protocol:r??"irn"},namespaces:n,requiredNamespaces:c,optionalNamespaces:u,pairingTopic:o,controller:{publicKey:l,metadata:this.client.metadata},expiry:zr(Va)},i&&{sessionProperties:i});await this.client.core.relayer.subscribe(f),await this.sendRequest(f,"wc_sessionSettle",p);const d=nc(rc({},p),{topic:f,pairingTopic:o,acknowledged:!1,self:p.controller,peer:{publicKey:a.publicKey,metadata:a.metadata},controller:l});return await this.client.session.set(f,d),await this.setExpiry(f,zr(Va)),{topic:f,acknowledged:()=>new Promise((t=>setTimeout((()=>t(this.client.session.get(f))),500)))}},this.reject=async t=>{this.isInitialized(),await this.isValidReject(t);const{id:e,reason:r}=t,{pairingTopic:n}=this.client.proposal.get(e);n&&(await this.sendError(e,n,r),await this.client.proposal.delete(e,cn("USER_DISCONNECTED")))},this.update=async t=>{this.isInitialized(),await this.isValidUpdate(t);const{topic:e,namespaces:r}=t,n=await this.sendRequest(e,"wc_sessionUpdate",{namespaces:r}),{done:i,resolve:s,reject:o}=Br();return this.events.once(qr("session_update",n),(({error:t})=>{t?o(t):s()})),await this.client.session.update(e,{namespaces:r}),{acknowledged:i}},this.extend=async t=>{this.isInitialized(),await this.isValidExtend(t);const{topic:e}=t,r=await this.sendRequest(e,"wc_sessionExtend",{}),{done:n,resolve:i,reject:s}=Br();return this.events.once(qr("session_extend",r),(({error:t})=>{t?s(t):i()})),await this.setExpiry(e,zr(Va)),{acknowledged:n}},this.request=async t=>{this.isInitialized(),await this.isValidRequest(t);const{chainId:e,request:n,topic:i,expiry:s}=t,o=await this.sendRequest(i,"wc_sessionRequest",{request:n,chainId:e},s),{done:a,resolve:c,reject:u}=Br(s);this.events.once(qr("session_request",o),(({error:t,result:e})=>{t?u(t):c(e)})),this.client.events.emit("session_request_sent",{topic:i,request:n,chainId:e,id:o});return async function({id:t,topic:e,wcDeepLink:n}){try{if(!n)return;const i="string"==typeof n?JSON.parse(n):n;let s=i?.href;if("string"!=typeof s)return;s.endsWith("/")&&(s=s.slice(0,-1));const o=`${s}/wc?requestId=${t}&sessionTopic=${e}`,a=Tr();a===Pr.browser?window.open(o,"_self","noreferrer noopener"):a===Pr.reactNative&&typeof(null==r.g?void 0:r.g.Linking)<"u"&&await r.g.Linking.openURL(o)}catch(s){console.error(s)}}({id:o,topic:i,wcDeepLink:await this.client.core.storage.getItem("WALLETCONNECT_DEEPLINK_CHOICE")}),await a()},this.respond=async t=>{this.isInitialized(),await this.isValidRespond(t);const{topic:e,response:r}=t,{id:n}=r;Ri(r)?await this.sendResult(n,e,r.result):Li(r)&&await this.sendError(n,e,r.error),this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0})},this.ping=async t=>{this.isInitialized(),await this.isValidPing(t);const{topic:e}=t;if(this.client.session.keys.includes(e)){const t=await this.sendRequest(e,"wc_sessionPing",{}),{done:r,resolve:n,reject:i}=Br();this.events.once(qr("session_ping",t),(({error:t})=>{t?i(t):n()})),await r()}else this.client.core.pairing.pairings.keys.includes(e)&&await this.client.core.pairing.ping({topic:e})},this.emit=async t=>{this.isInitialized(),await this.isValidEmit(t);const{topic:e,event:r,chainId:n}=t;await this.sendRequest(e,"wc_sessionEvent",{event:r,chainId:n})},this.disconnect=async t=>{this.isInitialized(),await this.isValidDisconnect(t);const{topic:e}=t;if(this.client.session.keys.includes(e)){const t=vi().toString();let r;const n=e=>{e?.id.toString()===t&&(this.client.core.relayer.events.removeListener(Po,n),r())};await Promise.all([new Promise((t=>{r=t,this.client.core.relayer.on(Po,n)})),this.sendRequest(e,"wc_sessionDelete",cn("USER_DISCONNECTED"),void 0,t)]),await this.deleteSession(e)}else await this.client.core.pairing.disconnect({topic:e})},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter((e=>function(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return!!Lr(i,n)&&(n.forEach((e=>{const{accounts:n,methods:i,events:o}=t.namespaces[e],a=en(n),c=r[e];Lr(er(e,c),a)&&Lr(c.methods,i)&&Lr(c.events,o)||(s=!1)})),s)}(e,t)))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async t=>{try{const e=this.client.core.pairing.pairings.get(t.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter((r=>{var n,i;return(null==(n=r.peerMetadata)?void 0:n.url)&&(null==(i=r.peerMetadata)?void 0:i.url)===t.peer.metadata.url&&r.topic&&r.topic!==e.topic}));if(0===r.length)return;this.client.logger.info(`Cleaning up ${r.length} duplicate pairing(s)`),await Promise.all(r.map((t=>this.client.core.pairing.disconnect({topic:t.topic})))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}},this.deleteSession=async(t,e)=>{const{self:r}=this.client.session.get(t);await this.client.core.relayer.unsubscribe(t),this.client.session.delete(t,cn("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(r.publicKey)&&await this.client.core.crypto.deleteKeyPair(r.publicKey),this.client.core.crypto.keychain.has(t)&&await this.client.core.crypto.deleteSymKey(t),e||this.client.core.expirer.del(t)},this.deleteProposal=async(t,e)=>{await Promise.all([this.client.proposal.delete(t,cn("USER_DISCONNECTED")),e?Promise.resolve():this.client.core.expirer.del(t)])},this.deletePendingSessionRequest=async(t,e,r=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,e),r?Promise.resolve():this.client.core.expirer.del(t)])},this.setExpiry=async(t,e)=>{this.client.session.keys.includes(t)&&await this.client.session.update(t,{expiry:e}),this.client.core.expirer.set(t,e)},this.setProposal=async(t,e)=>{await this.client.proposal.set(t,e),this.client.core.expirer.set(t,e.expiry)},this.setPendingSessionRequest=async t=>{const e=Ka.wc_sessionRequest.req.ttl,{id:r,topic:n,params:i}=t;await this.client.pendingRequest.set(r,{id:r,topic:n,params:i}),e&&this.client.core.expirer.set(r,zr(e))},this.sendRequest=async(t,e,r,n,i)=>{const s=wi(e,r);if(Nr()&&$a.includes(e)){const t=pr(JSON.stringify(s));await this.client.core.verify.register({attestationId:t})}const o=await this.client.core.crypto.encode(t,s),a=Ka[e].req;return n&&(a.ttl=n),i&&(a.id=i),this.client.core.history.set(t,s),this.client.core.relayer.publish(t,o,a),s.id},this.sendResult=async(t,e,r)=>{const n=bi(t,r),i=await this.client.core.crypto.encode(e,n),s=await this.client.core.history.get(e,t),o=Ka[s.request.method].res;this.client.core.relayer.publish(e,i,o),await this.client.core.history.resolve(n)},this.sendError=async(t,e,r)=>{const n=Ai(t,r),i=await this.client.core.crypto.encode(e,n),s=await this.client.core.history.get(e,t),o=Ka[s.request.method].res;this.client.core.relayer.publish(e,i,o),await this.client.core.history.resolve(n)},this.cleanup=async()=>{const t=[],e=[];this.client.session.getAll().forEach((e=>{Hr(e.expiry)&&t.push(e.topic)})),this.client.proposal.getAll().forEach((t=>{Hr(t.expiry)&&e.push(t.id)})),await Promise.all([...t.map((t=>this.deleteSession(t))),...e.map((t=>this.deleteProposal(t)))])},this.onRelayEventRequest=t=>{const{topic:e,payload:r}=t,n=r.method;switch(n){case"wc_sessionPropose":return this.onSessionProposeRequest(e,r);case"wc_sessionSettle":return this.onSessionSettleRequest(e,r);case"wc_sessionUpdate":return this.onSessionUpdateRequest(e,r);case"wc_sessionExtend":return this.onSessionExtendRequest(e,r);case"wc_sessionPing":return this.onSessionPingRequest(e,r);case"wc_sessionDelete":return this.onSessionDeleteRequest(e,r);case"wc_sessionRequest":return this.onSessionRequest(e,r);case"wc_sessionEvent":return this.onSessionEventRequest(e,r);default:return this.client.logger.info(`Unsupported request method ${n}`)}},this.onRelayEventResponse=async t=>{const{topic:e,payload:r}=t,n=(await this.client.core.history.get(e,r.id)).request.method;switch(n){case"wc_sessionPropose":return this.onSessionProposeResponse(e,r);case"wc_sessionSettle":return this.onSessionSettleResponse(e,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(e,r);case"wc_sessionExtend":return this.onSessionExtendResponse(e,r);case"wc_sessionPing":return this.onSessionPingResponse(e,r);case"wc_sessionRequest":return this.onSessionRequestResponse(e,r);default:return this.client.logger.info(`Unsupported response method ${n}`)}},this.onRelayEventUnknownPayload=t=>{const{topic:e}=t,{message:r}=an("MISSING_OR_INVALID",`Decoded payload on topic ${e} is not identifiable as a JSON-RPC request or a response.`);throw new Error(r)},this.onSessionProposeRequest=async(t,e)=>{const{params:r,id:n}=e;try{this.isValidConnect(rc({},e.params));const i=zr(Qe.FIVE_MINUTES),s=rc({id:n,pairingTopic:t,expiry:i},r);await this.setProposal(n,s);const o=pr(JSON.stringify(e)),a=await this.getVerifyContext(o,s.proposer.metadata);this.client.events.emit("session_proposal",{id:n,params:s,verifyContext:a})}catch(Kp){await this.sendError(n,t,Kp),this.client.logger.error(Kp)}},this.onSessionProposeResponse=async(t,e)=>{const{id:r}=e;if(Ri(e)){const{result:n}=e;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:n});const i=this.client.proposal.get(r);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:i});const s=i.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:s});const o=n.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:o});const a=await this.client.core.crypto.generateSharedKey(s,o);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:a});const c=await this.client.core.relayer.subscribe(a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:c}),await this.client.core.pairing.activate({topic:t})}else Li(e)&&(await this.client.proposal.delete(r,cn("USER_DISCONNECTED")),this.events.emit(qr("session_connect"),{error:e.error}))},this.onSessionSettleRequest=async(t,e)=>{const{id:r,params:n}=e;try{this.isValidSessionSettleRequest(n);const{relay:r,controller:i,expiry:s,namespaces:o,requiredNamespaces:a,optionalNamespaces:c,sessionProperties:u,pairingTopic:l}=e.params,h=rc({topic:t,relay:r,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:l,requiredNamespaces:a,optionalNamespaces:c,controller:i.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},u&&{sessionProperties:u});await this.sendResult(e.id,t,!0),this.events.emit(qr("session_connect"),{session:h}),this.cleanupDuplicatePairings(h)}catch(Kp){await this.sendError(r,t,Kp),this.client.logger.error(Kp)}},this.onSessionSettleResponse=async(t,e)=>{const{id:r}=e;Ri(e)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(qr("session_approve",r),{})):Li(e)&&(await this.client.session.delete(t,cn("USER_DISCONNECTED")),this.events.emit(qr("session_approve",r),{error:e.error}))},this.onSessionUpdateRequest=async(t,e)=>{const{params:r,id:n}=e;try{this.isValidUpdate(rc({topic:t},r)),await this.client.session.update(t,{namespaces:r.namespaces}),await this.sendResult(n,t,!0),this.client.events.emit("session_update",{id:n,topic:t,params:r})}catch(Kp){await this.sendError(n,t,Kp),this.client.logger.error(Kp)}},this.onSessionUpdateResponse=(t,e)=>{const{id:r}=e;Ri(e)?this.events.emit(qr("session_update",r),{}):Li(e)&&this.events.emit(qr("session_update",r),{error:e.error})},this.onSessionExtendRequest=async(t,e)=>{const{id:r}=e;try{this.isValidExtend({topic:t}),await this.setExpiry(t,zr(Va)),await this.sendResult(r,t,!0),this.client.events.emit("session_extend",{id:r,topic:t})}catch(n){await this.sendError(r,t,n),this.client.logger.error(n)}},this.onSessionExtendResponse=(t,e)=>{const{id:r}=e;Ri(e)?this.events.emit(qr("session_extend",r),{}):Li(e)&&this.events.emit(qr("session_extend",r),{error:e.error})},this.onSessionPingRequest=async(t,e)=>{const{id:r}=e;try{this.isValidPing({topic:t}),await this.sendResult(r,t,!0),this.client.events.emit("session_ping",{id:r,topic:t})}catch(n){await this.sendError(r,t,n),this.client.logger.error(n)}},this.onSessionPingResponse=(t,e)=>{const{id:r}=e;setTimeout((()=>{Ri(e)?this.events.emit(qr("session_ping",r),{}):Li(e)&&this.events.emit(qr("session_ping",r),{error:e.error})}),500)},this.onSessionDeleteRequest=async(t,e)=>{const{id:r}=e;try{this.isValidDisconnect({topic:t,reason:e.params}),await Promise.all([new Promise((e=>{this.client.core.relayer.once(ko,(async()=>{e(await this.deleteSession(t))}))})),this.sendResult(r,t,!0)]),this.client.events.emit("session_delete",{id:r,topic:t})}catch(n){this.client.logger.error(n)}},this.onSessionRequest=async(t,e)=>{const{id:r,params:n}=e;try{this.isValidRequest(rc({topic:t},n)),await this.setPendingSessionRequest({id:r,topic:t,params:n});const i=pr(JSON.stringify(e)),s=this.client.session.get(t),o=await this.getVerifyContext(i,s.peer.metadata);this.client.events.emit("session_request",{id:r,topic:t,params:n,verifyContext:o})}catch(Kp){await this.sendError(r,t,Kp),this.client.logger.error(Kp)}},this.onSessionRequestResponse=(t,e)=>{const{id:r}=e;Ri(e)?this.events.emit(qr("session_request",r),{result:e.result}):Li(e)&&this.events.emit(qr("session_request",r),{error:e.error})},this.onSessionEventRequest=async(t,e)=>{const{id:r,params:n}=e;try{this.isValidEmit(rc({topic:t},n)),this.client.events.emit("session_event",{id:r,topic:t,params:n})}catch(Kp){await this.sendError(r,t,Kp),this.client.logger.error(Kp)}},this.isValidConnect=async t=>{if(!An(t)){const{message:e}=an("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(e)}const{pairingTopic:e,requiredNamespaces:r,optionalNamespaces:n,sessionProperties:i,relays:s}=t;if(hn(e)||await this.isValidPairingTopic(e),!function(t,e){let r=!1;return e&&!t?r=!0:t&&un(t)&&t.length&&t.forEach((t=>{r=bn(t)})),r}(s,!0)){const{message:t}=an("MISSING_OR_INVALID",`connect() relays: ${s}`);throw new Error(t)}!hn(r)&&0!==ln(r)&&this.validateNamespaces(r,"requiredNamespaces"),!hn(n)&&0!==ln(n)&&this.validateNamespaces(n,"optionalNamespaces"),hn(i)||this.validateSessionProps(i,"sessionProperties")},this.validateNamespaces=(t,e)=>{const r=function(t,e,r){let n=null;if(t&&ln(t)){const r=vn(t,e);r&&(n=r);const i=yn(t,e);i&&(n=i)}else n=an("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}(t,"connect()",e);if(r)throw new Error(r.message)},this.isValidApprove=async t=>{if(!An(t))throw new Error(an("MISSING_OR_INVALID",`approve() params: ${t}`).message);const{id:e,namespaces:r,relayProtocol:n,sessionProperties:i}=t;await this.isValidProposalId(e);const s=this.client.proposal.get(e),o=wn(r,"approve()");if(o)throw new Error(o.message);const a=Sn(s.requiredNamespaces,r,"approve()");if(a)throw new Error(a.message);if(!fn(n,!0)){const{message:t}=an("MISSING_OR_INVALID",`approve() relayProtocol: ${n}`);throw new Error(t)}hn(i)||this.validateSessionProps(i,"sessionProperties")},this.isValidReject=async t=>{if(!An(t)){const{message:e}=an("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(e)}const{id:e,reason:r}=t;if(await this.isValidProposalId(e),!function(t){return!!(t&&"object"==typeof t&&t.code&&pn(t.code,!1)&&t.message&&fn(t.message,!1))}(r)){const{message:t}=an("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(r)}`);throw new Error(t)}},this.isValidSessionSettleRequest=t=>{if(!An(t)){const{message:e}=an("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(e)}const{relay:e,controller:r,namespaces:n,expiry:i}=t;if(!bn(e)){const{message:t}=an("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(t)}const s=function(t,e){let r=null;return fn(t?.publicKey,!1)||(r=an("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}(r,"onSessionSettleRequest()");if(s)throw new Error(s.message);const o=wn(n,"onSessionSettleRequest()");if(o)throw new Error(o.message);if(Hr(i)){const{message:t}=an("EXPIRED","onSessionSettleRequest()");throw new Error(t)}},this.isValidUpdate=async t=>{if(!An(t)){const{message:e}=an("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(e)}const{topic:e,namespaces:r}=t;await this.isValidSessionTopic(e);const n=this.client.session.get(e),i=wn(r,"update()");if(i)throw new Error(i.message);const s=Sn(n.requiredNamespaces,r,"update()");if(s)throw new Error(s.message)},this.isValidExtend=async t=>{if(!An(t)){const{message:e}=an("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidSessionTopic(e)},this.isValidRequest=async t=>{if(!An(t)){const{message:e}=an("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(e)}const{topic:e,request:r,chainId:n,expiry:i}=t;await this.isValidSessionTopic(e);const{namespaces:s}=this.client.session.get(e);if(!En(s,n)){const{message:t}=an("MISSING_OR_INVALID",`request() chainId: ${n}`);throw new Error(t)}if(!function(t){return!(hn(t)||!fn(t.method,!1))}(r)){const{message:t}=an("MISSING_OR_INVALID",`request() ${JSON.stringify(r)}`);throw new Error(t)}if(!_n(s,n,r.method)){const{message:t}=an("MISSING_OR_INVALID",`request() method: ${r.method}`);throw new Error(t)}if(i&&!function(t,e){return pn(t,!1)&&t<=e.max&&t>=e.min}(i,Wa)){const{message:t}=an("MISSING_OR_INVALID",`request() expiry: ${i}. Expiry must be a number (in seconds) between ${Wa.min} and ${Wa.max}`);throw new Error(t)}},this.isValidRespond=async t=>{if(!An(t)){const{message:e}=an("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(e)}const{topic:e,response:r}=t;if(await this.isValidSessionTopic(e),!function(t){return!(hn(t)||hn(t.result)&&hn(t.error)||!pn(t.id,!1)||!fn(t.jsonrpc,!1))}(r)){const{message:t}=an("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(r)}`);throw new Error(t)}},this.isValidPing=async t=>{if(!An(t)){const{message:e}=an("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidSessionOrPairingTopic(e)},this.isValidEmit=async t=>{if(!An(t)){const{message:e}=an("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(e)}const{topic:e,event:r,chainId:n}=t;await this.isValidSessionTopic(e);const{namespaces:i}=this.client.session.get(e);if(!En(i,n)){const{message:t}=an("MISSING_OR_INVALID",`emit() chainId: ${n}`);throw new Error(t)}if(!function(t){return!(hn(t)||!fn(t.name,!1))}(r)){const{message:t}=an("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw new Error(t)}if(!xn(i,n,r.name)){const{message:t}=an("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw new Error(t)}},this.isValidDisconnect=async t=>{if(!An(t)){const{message:e}=an("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidSessionOrPairingTopic(e)},this.getVerifyContext=async(t,e)=>{const r={verified:{verifyUrl:e.verifyUrl||"",validation:"UNKNOWN",origin:e.url||""}};try{const n=await this.client.core.verify.resolve({attestationId:t,verifyUrl:e.verifyUrl});n&&(r.verified.origin=n,r.verified.validation=n===e.url?"VALID":"INVALID")}catch(n){this.client.logger.error(n)}return this.client.logger.info(`Verify context: ${JSON.stringify(r)}`),r},this.validateSessionProps=(t,e)=>{Object.values(t).forEach((t=>{if(!fn(t,!1)){const{message:r}=an("MISSING_OR_INVALID",`${e} must be in Record<string, string> format. Received: ${JSON.stringify(t)}`);throw new Error(r)}}))}}isInitialized(){if(!this.initialized){const{message:t}=an("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.client.core.relayer.on(So,(async t=>{const{topic:e,message:r}=t;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(r)))return;const n=await this.client.core.crypto.decode(e,r);Ti(n)?(this.client.core.history.set(e,n),this.onRelayEventRequest({topic:e,payload:n})):ki(n)?(await this.client.core.history.resolve(n),this.onRelayEventResponse({topic:e,payload:n})):this.onRelayEventUnknownPayload({topic:e,payload:n})}))}registerExpirerEvents(){this.client.core.expirer.on(Qo,(async t=>{const{topic:e,id:r}=Fr(t.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,an("EXPIRED"),!0);e?this.client.session.keys.includes(e)&&(await this.deleteSession(e,!0),this.client.events.emit("session_expire",{topic:e})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))}))}isValidPairingTopic(t){if(!fn(t,!1)){const{message:e}=an("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(e)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:e}=an("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(e)}if(Hr(this.client.core.pairing.pairings.get(t).expiry)){const{message:e}=an("EXPIRED",`pairing topic: ${t}`);throw new Error(e)}}async isValidSessionTopic(t){if(!fn(t,!1)){const{message:e}=an("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(e)}if(!this.client.session.keys.includes(t)){const{message:e}=an("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(e)}if(Hr(this.client.session.get(t).expiry)){await this.deleteSession(t);const{message:e}=an("EXPIRED",`session topic: ${t}`);throw new Error(e)}}async isValidSessionOrPairingTopic(t){if(this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else{if(!this.client.core.pairing.pairings.keys.includes(t)){if(fn(t,!1)){const{message:e}=an("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(e)}{const{message:e}=an("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(e)}}this.isValidPairingTopic(t)}}async isValidProposalId(t){if("number"!=typeof t){const{message:e}=an("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(e)}if(!this.client.proposal.keys.includes(t)){const{message:e}=an("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(e)}if(Hr(this.client.proposal.get(t).expiry)){await this.deleteProposal(t);const{message:e}=an("EXPIRED",`proposal id: ${t}`);throw new Error(e)}}}class sc extends Oa{constructor(t,e){super(t,e,"proposal",za),this.core=t,this.logger=e}}class oc extends Oa{constructor(t,e){super(t,e,"session",za),this.core=t,this.logger=e}}class ac extends Oa{constructor(t,e){super(t,e,"request",za,(t=>t.id)),this.core=t,this.logger=e}}class cc extends Fn{constructor(t){super(t),this.protocol="wc",this.version=2,this.name=Ha,this.events=new Y.EventEmitter,this.on=(t,e)=>this.events.on(t,e),this.once=(t,e)=>this.events.once(t,e),this.off=(t,e)=>this.events.off(t,e),this.removeListener=(t,e)=>this.events.removeListener(t,e),this.removeAllListeners=t=>this.events.removeAllListeners(t),this.connect=async t=>{try{return await this.engine.connect(t)}catch(e){throw this.logger.error(e.message),e}},this.pair=async t=>{try{return await this.engine.pair(t)}catch(e){throw this.logger.error(e.message),e}},this.approve=async t=>{try{return await this.engine.approve(t)}catch(e){throw this.logger.error(e.message),e}},this.reject=async t=>{try{return await this.engine.reject(t)}catch(e){throw this.logger.error(e.message),e}},this.update=async t=>{try{return await this.engine.update(t)}catch(e){throw this.logger.error(e.message),e}},this.extend=async t=>{try{return await this.engine.extend(t)}catch(e){throw this.logger.error(e.message),e}},this.request=async t=>{try{return await this.engine.request(t)}catch(e){throw this.logger.error(e.message),e}},this.respond=async t=>{try{return await this.engine.respond(t)}catch(e){throw this.logger.error(e.message),e}},this.ping=async t=>{try{return await this.engine.ping(t)}catch(e){throw this.logger.error(e.message),e}},this.emit=async t=>{try{return await this.engine.emit(t)}catch(e){throw this.logger.error(e.message),e}},this.disconnect=async t=>{try{return await this.engine.disconnect(t)}catch(e){throw this.logger.error(e.message),e}},this.find=t=>{try{return this.engine.find(t)}catch(e){throw this.logger.error(e.message),e}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(t){throw this.logger.error(t.message),t}},this.name=t?.name||Ha,this.metadata=t?.metadata||(0,Ye.D)()||{name:"",description:"",url:"",icons:[""]};const e=typeof t?.logger<"u"&&"string"!=typeof t?.logger?t.logger:(0,Cn.pino)((0,Cn.getDefaultLoggerOptions)({level:t?.logger||qa}));this.core=t?.core||new Ma(t),this.logger=(0,Cn.generateChildLogger)(e,this.name),this.session=new oc(this.core,this.logger),this.proposal=new sc(this.core,this.logger),this.pendingRequest=new ac(this.core,this.logger),this.engine=new ic(this)}static async init(t){const e=new cc(t);return await e.initialize(),e}get context(){return(0,Cn.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(Tn){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(Tn.message),Tn}}}var uc=r(4098),lc=r.n(uc);const hc={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class fc{constructor(t,e=!1){if(this.url=t,this.disableProviderPing=e,this.events=new Y.EventEmitter,this.isAvailable=!1,this.registering=!1,!Oi(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t,e){this.isAvailable||await this.register();try{const e=Gn(t),r=await lc()(this.url,Object.assign(Object.assign({},hc),{body:e})),n=await r.json();this.onPayload({data:n})}catch(r){this.onError(t.id,r)}}async register(t=this.url){if(!Oi(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise(((t,e)=>{this.events.once("register_error",(t=>{this.resetMaxListeners(),e(t)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),void 0===this.isAvailable)return e(new Error("HTTP connection is missing or invalid"));t()}))}))}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const e=Gn({id:1,jsonrpc:"2.0",method:"test",params:[]});await lc()(t,Object.assign(Object.assign({},hc),{body:e}))}this.onOpen()}catch(e){const t=this.parseError(e);throw this.events.emit("register_error",t),this.onClose(),t}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(void 0===t.data)return;const e="string"==typeof t.data?qn(t.data):t.data;this.events.emit("payload",e)}onError(t,e){const r=this.parseError(e),n=Ai(t,r.message||r.toString());this.events.emit("payload",n)}parseError(t,e=this.url){return gi(t,e,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}var pc=fc;const dc="error",gc="wc@2:universal_provider:",yc="default_chain_changed";var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r.g<"u"?r.g:typeof self<"u"?self:{},vc={exports:{}};!function(t,e){(function(){var r,n="Expected a function",i="__lodash_hash_undefined__",s="__lodash_placeholder__",o=16,a=32,c=64,u=128,l=256,h=1/0,f=9007199254740991,p=NaN,d=4294967295,g=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",o],["flip",512],["partial",a],["partialRight",c],["rearg",l]],y="[object Arguments]",m="[object Array]",v="[object Boolean]",w="[object Date]",b="[object Error]",A="[object Function]",E="[object GeneratorFunction]",_="[object Map]",x="[object Number]",S="[object Object]",P="[object Promise]",O="[object RegExp]",I="[object Set]",C="[object String]",N="[object Symbol]",T="[object WeakMap]",k="[object ArrayBuffer]",R="[object DataView]",L="[object Float32Array]",j="[object Float64Array]",U="[object Int8Array]",B="[object Int16Array]",D="[object Int32Array]",M="[object Uint8Array]",F="[object Uint8ClampedArray]",z="[object Uint16Array]",H="[object Uint32Array]",q=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,$=RegExp(K.source),J=RegExp(W.source),Q=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,Y=/<%=([\s\S]+?)%>/g,X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tt=/^\w*$/,et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rt=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(rt.source),it=/^\s+/,st=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,at=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/[()=,{}\[\]\/\s]/,ht=/\\(\\)?/g,ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pt=/\w*$/,dt=/^[-+]0x[0-9a-f]+$/i,gt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,mt=/^0o[0-7]+$/i,vt=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bt=/($^)/,At=/['\n\r\u2028\u2029\\]/g,Et="\\ud800-\\udfff",_t="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xt="\\u2700-\\u27bf",St="a-z\\xdf-\\xf6\\xf8-\\xff",Pt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ot="\\ufe0e\\ufe0f",It="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ct="['’]",Nt="["+Et+"]",Tt="["+It+"]",kt="["+_t+"]",Rt="\\d+",Lt="["+xt+"]",jt="["+St+"]",Ut="[^"+Et+It+Rt+xt+St+Pt+"]",Bt="\\ud83c[\\udffb-\\udfff]",Dt="[^"+Et+"]",Mt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ft="[\\ud800-\\udbff][\\udc00-\\udfff]",zt="["+Pt+"]",Ht="\\u200d",qt="(?:"+jt+"|"+Ut+")",Gt="(?:"+zt+"|"+Ut+")",Vt="(?:['’](?:d|ll|m|re|s|t|ve))?",Kt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Wt="(?:"+kt+"|"+Bt+")"+"?",$t="["+Ot+"]?",Jt=$t+Wt+("(?:"+Ht+"(?:"+[Dt,Mt,Ft].join("|")+")"+$t+Wt+")*"),Qt="(?:"+[Lt,Mt,Ft].join("|")+")"+Jt,Zt="(?:"+[Dt+kt+"?",kt,Mt,Ft,Nt].join("|")+")",Yt=RegExp(Ct,"g"),Xt=RegExp(kt,"g"),te=RegExp(Bt+"(?="+Bt+")|"+Zt+Jt,"g"),ee=RegExp([zt+"?"+jt+"+"+Vt+"(?="+[Tt,zt,"$"].join("|")+")",Gt+"+"+Kt+"(?="+[Tt,zt+qt,"$"].join("|")+")",zt+"?"+qt+"+"+Vt,zt+"+"+Kt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Rt,Qt].join("|"),"g"),re=RegExp("["+Ht+Et+_t+Ot+"]"),ne=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ie=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],se=-1,oe={};oe[L]=oe[j]=oe[U]=oe[B]=oe[D]=oe[M]=oe[F]=oe[z]=oe[H]=!0,oe[y]=oe[m]=oe[k]=oe[v]=oe[R]=oe[w]=oe[b]=oe[A]=oe[_]=oe[x]=oe[S]=oe[O]=oe[I]=oe[C]=oe[T]=!1;var ae={};ae[y]=ae[m]=ae[k]=ae[R]=ae[v]=ae[w]=ae[L]=ae[j]=ae[U]=ae[B]=ae[D]=ae[_]=ae[x]=ae[S]=ae[O]=ae[I]=ae[C]=ae[N]=ae[M]=ae[F]=ae[z]=ae[H]=!0,ae[b]=ae[A]=ae[T]=!1;var ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ue=parseFloat,le=parseInt,he="object"==typeof mc&&mc&&mc.Object===Object&&mc,fe="object"==typeof self&&self&&self.Object===Object&&self,pe=he||fe||Function("return this")(),de=e&&!e.nodeType&&e,ge=de&&t&&!t.nodeType&&t,ye=ge&&ge.exports===de,me=ye&&he.process,ve=function(){try{return ge&&ge.require&&ge.require("util").types||me&&me.binding&&me.binding("util")}catch{}}(),we=ve&&ve.isArrayBuffer,be=ve&&ve.isDate,Ae=ve&&ve.isMap,Ee=ve&&ve.isRegExp,_e=ve&&ve.isSet,xe=ve&&ve.isTypedArray;function Se(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Pe(t,e,r,n){for(var i=-1,s=null==t?0:t.length;++i<s;){var o=t[i];e(n,o,r(o),t)}return n}function Oe(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function Ie(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function Ce(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function Ne(t,e){for(var r=-1,n=null==t?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}function Te(t,e){return!!(null==t?0:t.length)&&ze(t,e,0)>-1}function ke(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function Re(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function Le(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function je(t,e,r,n){var i=-1,s=null==t?0:t.length;for(n&&s&&(r=t[++i]);++i<s;)r=e(r,t[i],i,t);return r}function Ue(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function Be(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var De=Ve("length");function Me(t,e,r){var n;return r(t,(function(t,r,i){if(e(t,r,i))return n=r,!1})),n}function Fe(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function ze(t,e,r){return e==e?function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):Fe(t,qe,r)}function He(t,e,r,n){for(var i=r-1,s=t.length;++i<s;)if(n(t[i],e))return i;return-1}function qe(t){return t!=t}function Ge(t,e){var r=null==t?0:t.length;return r?$e(t,e)/r:p}function Ve(t){return function(e){return null==e?r:e[t]}}function Ke(t){return function(e){return null==t?r:t[e]}}function We(t,e,r,n,i){return i(t,(function(t,i,s){r=n?(n=!1,t):e(r,t,i,s)})),r}function $e(t,e){for(var n,i=-1,s=t.length;++i<s;){var o=e(t[i]);o!==r&&(n=n===r?o:n+o)}return n}function Je(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function Qe(t){return t&&t.slice(0,fr(t)+1).replace(it,"")}function Ze(t){return function(e){return t(e)}}function Ye(t,e){return Re(e,(function(e){return t[e]}))}function Xe(t,e){return t.has(e)}function tr(t,e){for(var r=-1,n=t.length;++r<n&&ze(e,t[r],0)>-1;);return r}function er(t,e){for(var r=t.length;r--&&ze(e,t[r],0)>-1;);return r}var rr=Ke({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),nr=Ke({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ir(t){return"\\"+ce[t]}function sr(t){return re.test(t)}function or(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function ar(t,e){return function(r){return t(e(r))}}function cr(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var a=t[r];(a===e||a===s)&&(t[r]=s,o[i++]=r)}return o}function ur(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function lr(t){return sr(t)?function(t){for(var e=te.lastIndex=0;te.test(t);)++e;return e}(t):De(t)}function hr(t){return sr(t)?function(t){return t.match(te)||[]}(t):function(t){return t.split("")}(t)}function fr(t){for(var e=t.length;e--&&st.test(t.charAt(e)););return e}var pr=Ke({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var dr=function t(e){var st=(e=null==e?pe:dr.defaults(pe.Object(),e,dr.pick(pe,ie))).Array,Et=e.Date,_t=e.Error,xt=e.Function,St=e.Math,Pt=e.Object,Ot=e.RegExp,It=e.String,Ct=e.TypeError,Nt=st.prototype,Tt=xt.prototype,kt=Pt.prototype,Rt=e["__core-js_shared__"],Lt=Tt.toString,jt=kt.hasOwnProperty,Ut=0,Bt=function(){var t=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Dt=kt.toString,Mt=Lt.call(Pt),Ft=pe._,zt=Ot("^"+Lt.call(jt).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ht=ye?e.Buffer:r,qt=e.Symbol,Gt=e.Uint8Array,Vt=Ht?Ht.allocUnsafe:r,Kt=ar(Pt.getPrototypeOf,Pt),Wt=Pt.create,$t=kt.propertyIsEnumerable,Jt=Nt.splice,Qt=qt?qt.isConcatSpreadable:r,Zt=qt?qt.iterator:r,te=qt?qt.toStringTag:r,re=function(){try{var t=ls(Pt,"defineProperty");return t({},"",{}),t}catch{}}(),ce=e.clearTimeout!==pe.clearTimeout&&e.clearTimeout,he=Et&&Et.now!==pe.Date.now&&Et.now,fe=e.setTimeout!==pe.setTimeout&&e.setTimeout,de=St.ceil,ge=St.floor,me=Pt.getOwnPropertySymbols,ve=Ht?Ht.isBuffer:r,De=e.isFinite,Ke=Nt.join,gr=ar(Pt.keys,Pt),yr=St.max,mr=St.min,vr=Et.now,wr=e.parseInt,br=St.random,Ar=Nt.reverse,Er=ls(e,"DataView"),_r=ls(e,"Map"),xr=ls(e,"Promise"),Sr=ls(e,"Set"),Pr=ls(e,"WeakMap"),Or=ls(Pt,"create"),Ir=Pr&&new Pr,Cr={},Nr=Us(Er),Tr=Us(_r),kr=Us(xr),Rr=Us(Sr),Lr=Us(Pr),jr=qt?qt.prototype:r,Ur=jr?jr.valueOf:r,Br=jr?jr.toString:r;function Dr(t){if(ta(t)&&!qo(t)&&!(t instanceof Hr)){if(t instanceof zr)return t;if(jt.call(t,"__wrapped__"))return Bs(t)}return new zr(t)}var Mr=function(){function t(){}return function(e){if(!Xo(e))return{};if(Wt)return Wt(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function Fr(){}function zr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function Hr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function qr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Gr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Vr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Kr(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Vr;++e<r;)this.add(t[e])}function Wr(t){var e=this.__data__=new Gr(t);this.size=e.size}function $r(t,e){var r=qo(t),n=!r&&Ho(t),i=!r&&!n&&Wo(t),s=!r&&!n&&!i&&ca(t),o=r||n||i||s,a=o?Je(t.length,It):[],c=a.length;for(var u in t)(e||jt.call(t,u))&&(!o||!("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ms(u,c)))&&a.push(u);return a}function Jr(t){var e=t.length;return e?t[Wn(0,e-1)]:r}function Qr(t,e){return Rs(Ii(t),on(e,0,t.length))}function Zr(t){return Rs(Ii(t))}function Yr(t,e,n){(n!==r&&!Mo(t[e],n)||n===r&&!(e in t))&&nn(t,e,n)}function Xr(t,e,n){var i=t[e];(!jt.call(t,e)||!Mo(i,n)||n===r&&!(e in t))&&nn(t,e,n)}function tn(t,e){for(var r=t.length;r--;)if(Mo(t[r][0],e))return r;return-1}function en(t,e,r,n){return hn(t,(function(t,i,s){e(n,t,r(t),s)})),n}function rn(t,e){return t&&Ci(e,Na(e),t)}function nn(t,e,r){"__proto__"==e&&re?re(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function sn(t,e){for(var n=-1,i=e.length,s=st(i),o=null==t;++n<i;)s[n]=o?r:Sa(t,e[n]);return s}function on(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function an(t,e,n,i,s,o){var a,c=1&e,u=2&e,l=4&e;if(n&&(a=s?n(t,i,s,o):n(t)),a!==r)return a;if(!Xo(t))return t;var h=qo(t);if(h){if(a=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&jt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!c)return Ii(t,a)}else{var f=ps(t),p=f==A||f==E;if(Wo(t))return Ei(t,c);if(f==S||f==y||p&&!s){if(a=u||p?{}:gs(t),!c)return u?function(t,e){return Ci(t,fs(t),e)}(t,function(t,e){return t&&Ci(e,Ta(e),t)}(a,t)):function(t,e){return Ci(t,hs(t),e)}(t,rn(a,t))}else{if(!ae[f])return s?t:{};a=function(t,e,r){var n=t.constructor;switch(e){case k:return _i(t);case v:case w:return new n(+t);case R:return function(t,e){var r=e?_i(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case L:case j:case U:case B:case D:case M:case F:case z:case H:return xi(t,r);case _:return new n;case x:case C:return new n(t);case O:return function(t){var e=new t.constructor(t.source,pt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case I:return new n;case N:return function(t){return Ur?Pt(Ur.call(t)):{}}(t)}}(t,f,c)}}o||(o=new Wr);var d=o.get(t);if(d)return d;o.set(t,a),sa(t)?t.forEach((function(r){a.add(an(r,e,n,r,t,o))})):ea(t)&&t.forEach((function(r,i){a.set(i,an(r,e,n,i,t,o))}));var g=h?r:(l?u?ns:rs:u?Ta:Na)(t);return Oe(g||t,(function(r,i){g&&(r=t[i=r]),Xr(a,i,an(r,e,n,i,t,o))})),a}function cn(t,e,n){var i=n.length;if(null==t)return!i;for(t=Pt(t);i--;){var s=n[i],o=e[s],a=t[s];if(a===r&&!(s in t)||!o(a))return!1}return!0}function un(t,e,i){if("function"!=typeof t)throw new Ct(n);return Cs((function(){t.apply(r,i)}),e)}function ln(t,e,r,n){var i=-1,s=Te,o=!0,a=t.length,c=[],u=e.length;if(!a)return c;r&&(e=Re(e,Ze(r))),n?(s=ke,o=!1):e.length>=200&&(s=Xe,o=!1,e=new Kr(e));t:for(;++i<a;){var l=t[i],h=null==r?l:r(l);if(l=n||0!==l?l:0,o&&h==h){for(var f=u;f--;)if(e[f]===h)continue t;c.push(l)}else s(e,h,n)||c.push(l)}return c}Dr.templateSettings={escape:Q,evaluate:Z,interpolate:Y,variable:"",imports:{_:Dr}},Dr.prototype=Fr.prototype,Dr.prototype.constructor=Dr,zr.prototype=Mr(Fr.prototype),zr.prototype.constructor=zr,Hr.prototype=Mr(Fr.prototype),Hr.prototype.constructor=Hr,qr.prototype.clear=function(){this.__data__=Or?Or(null):{},this.size=0},qr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},qr.prototype.get=function(t){var e=this.__data__;if(Or){var n=e[t];return n===i?r:n}return jt.call(e,t)?e[t]:r},qr.prototype.has=function(t){var e=this.__data__;return Or?e[t]!==r:jt.call(e,t)},qr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Or&&e===r?i:e,this},Gr.prototype.clear=function(){this.__data__=[],this.size=0},Gr.prototype.delete=function(t){var e=this.__data__,r=tn(e,t);return!(r<0)&&(r==e.length-1?e.pop():Jt.call(e,r,1),--this.size,!0)},Gr.prototype.get=function(t){var e=this.__data__,n=tn(e,t);return n<0?r:e[n][1]},Gr.prototype.has=function(t){return tn(this.__data__,t)>-1},Gr.prototype.set=function(t,e){var r=this.__data__,n=tn(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Vr.prototype.clear=function(){this.size=0,this.__data__={hash:new qr,map:new(_r||Gr),string:new qr}},Vr.prototype.delete=function(t){var e=cs(this,t).delete(t);return this.size-=e?1:0,e},Vr.prototype.get=function(t){return cs(this,t).get(t)},Vr.prototype.has=function(t){return cs(this,t).has(t)},Vr.prototype.set=function(t,e){var r=cs(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Kr.prototype.add=Kr.prototype.push=function(t){return this.__data__.set(t,i),this},Kr.prototype.has=function(t){return this.__data__.has(t)},Wr.prototype.clear=function(){this.__data__=new Gr,this.size=0},Wr.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Wr.prototype.get=function(t){return this.__data__.get(t)},Wr.prototype.has=function(t){return this.__data__.has(t)},Wr.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Gr){var n=r.__data__;if(!_r||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Vr(n)}return r.set(t,e),this.size=r.size,this};var hn=ki(wn),fn=ki(bn,!0);function pn(t,e){var r=!0;return hn(t,(function(t,n,i){return r=!!e(t,n,i)})),r}function dn(t,e,n){for(var i=-1,s=t.length;++i<s;){var o=t[i],a=e(o);if(null!=a&&(c===r?a==a&&!aa(a):n(a,c)))var c=a,u=o}return u}function gn(t,e){var r=[];return hn(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function yn(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=ys),i||(i=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?yn(a,e-1,r,n,i):Le(i,a):n||(i[i.length]=a)}return i}var mn=Ri(),vn=Ri(!0);function wn(t,e){return t&&mn(t,e,Na)}function bn(t,e){return t&&vn(t,e,Na)}function An(t,e){return Ne(e,(function(e){return Qo(t[e])}))}function En(t,e){for(var n=0,i=(e=vi(e,t)).length;null!=t&&n<i;)t=t[js(e[n++])];return n&&n==i?t:r}function _n(t,e,r){var n=e(t);return qo(t)?n:Le(n,r(t))}function xn(t){return null==t?t===r?"[object Undefined]":"[object Null]":te&&te in Pt(t)?function(t){var e=jt.call(t,te),n=t[te];try{t[te]=r;var i=!0}catch{}var s=Dt.call(t);return i&&(e?t[te]=n:delete t[te]),s}(t):function(t){return Dt.call(t)}(t)}function Sn(t,e){return t>e}function Pn(t,e){return null!=t&&jt.call(t,e)}function On(t,e){return null!=t&&e in Pt(t)}function In(t,e,n){for(var i=n?ke:Te,s=t[0].length,o=t.length,a=o,c=st(o),u=1/0,l=[];a--;){var h=t[a];a&&e&&(h=Re(h,Ze(e))),u=mr(h.length,u),c[a]=!n&&(e||s>=120&&h.length>=120)?new Kr(a&&h):r}h=t[0];var f=-1,p=c[0];t:for(;++f<s&&l.length<u;){var d=h[f],g=e?e(d):d;if(d=n||0!==d?d:0,!(p?Xe(p,g):i(l,g,n))){for(a=o;--a;){var y=c[a];if(!(y?Xe(y,g):i(t[a],g,n)))continue t}p&&p.push(g),l.push(d)}}return l}function Cn(t,e,n){var i=null==(t=Ps(t,e=vi(e,t)))?t:t[js($s(e))];return null==i?r:Se(i,t,n)}function Nn(t){return ta(t)&&xn(t)==y}function Tn(t,e,n,i,s){return t===e||(null==t||null==e||!ta(t)&&!ta(e)?t!=t&&e!=e:function(t,e,n,i,s,o){var a=qo(t),c=qo(e),u=a?m:ps(t),l=c?m:ps(e);u=u==y?S:u,l=l==y?S:l;var h=u==S,f=l==S,p=u==l;if(p&&Wo(t)){if(!Wo(e))return!1;a=!0,h=!1}if(p&&!h)return o||(o=new Wr),a||ca(t)?ts(t,e,n,i,s,o):function(t,e,r,n,i,s,o){switch(r){case R:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case k:return!(t.byteLength!=e.byteLength||!s(new Gt(t),new Gt(e)));case v:case w:case x:return Mo(+t,+e);case b:return t.name==e.name&&t.message==e.message;case O:case C:return t==e+"";case _:var a=or;case I:var c=1&n;if(a||(a=ur),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;n|=2,o.set(t,e);var l=ts(a(t),a(e),n,i,s,o);return o.delete(t),l;case N:if(Ur)return Ur.call(t)==Ur.call(e)}return!1}(t,e,u,n,i,s,o);if(!(1&n)){var d=h&&jt.call(t,"__wrapped__"),g=f&&jt.call(e,"__wrapped__");if(d||g){var A=d?t.value():t,E=g?e.value():e;return o||(o=new Wr),s(A,E,n,i,o)}}return!!p&&(o||(o=new Wr),function(t,e,n,i,s,o){var a=1&n,c=rs(t),u=c.length,l=rs(e),h=l.length;if(u!=h&&!a)return!1;for(var f=u;f--;){var p=c[f];if(!(a?p in e:jt.call(e,p)))return!1}var d=o.get(t),g=o.get(e);if(d&&g)return d==e&&g==t;var y=!0;o.set(t,e),o.set(e,t);for(var m=a;++f<u;){var v=t[p=c[f]],w=e[p];if(i)var b=a?i(w,v,p,e,t,o):i(v,w,p,t,e,o);if(!(b===r?v===w||s(v,w,n,i,o):b)){y=!1;break}m||(m="constructor"==p)}if(y&&!m){var A=t.constructor,E=e.constructor;A!=E&&"constructor"in t&&"constructor"in e&&!("function"==typeof A&&A instanceof A&&"function"==typeof E&&E instanceof E)&&(y=!1)}return o.delete(t),o.delete(e),y}(t,e,n,i,s,o))}(t,e,n,i,Tn,s))}function kn(t,e,n,i){var s=n.length,o=s,a=!i;if(null==t)return!o;for(t=Pt(t);s--;){var c=n[s];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++s<o;){var u=(c=n[s])[0],l=t[u],h=c[1];if(a&&c[2]){if(l===r&&!(u in t))return!1}else{var f=new Wr;if(i)var p=i(l,h,u,t,e,f);if(!(p===r?Tn(h,l,3,i,f):p))return!1}}return!0}function Rn(t){return!(!Xo(t)||function(t){return!!Bt&&Bt in t}(t))&&(Qo(t)?zt:yt).test(Us(t))}function Ln(t){return"function"==typeof t?t:null==t?rc:"object"==typeof t?qo(t)?Fn(t[0],t[1]):Mn(t):hc(t)}function jn(t){if(!Es(t))return gr(t);var e=[];for(var r in Pt(t))jt.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Un(t){if(!Xo(t))return function(t){var e=[];if(null!=t)for(var r in Pt(t))e.push(r);return e}(t);var e=Es(t),r=[];for(var n in t)"constructor"==n&&(e||!jt.call(t,n))||r.push(n);return r}function Bn(t,e){return t<e}function Dn(t,e){var r=-1,n=Vo(t)?st(t.length):[];return hn(t,(function(t,i,s){n[++r]=e(t,i,s)})),n}function Mn(t){var e=us(t);return 1==e.length&&e[0][2]?xs(e[0][0],e[0][1]):function(r){return r===t||kn(r,t,e)}}function Fn(t,e){return ws(t)&&_s(e)?xs(js(t),e):function(n){var i=Sa(n,t);return i===r&&i===e?Pa(n,t):Tn(e,i,3)}}function zn(t,e,n,i,s){t!==e&&mn(e,(function(o,a){if(s||(s=new Wr),Xo(o))!function(t,e,n,i,s,o,a){var c=Os(t,n),u=Os(e,n),l=a.get(u);if(l)return void Yr(t,n,l);var h=o?o(c,u,n+"",t,e,a):r,f=h===r;if(f){var p=qo(u),d=!p&&Wo(u),g=!p&&!d&&ca(u);h=u,p||d||g?qo(c)?h=c:Ko(c)?h=Ii(c):d?(f=!1,h=Ei(u,!0)):g?(f=!1,h=xi(u,!0)):h=[]:na(u)||Ho(u)?(h=c,Ho(c)?h=ya(c):(!Xo(c)||Qo(c))&&(h=gs(u))):f=!1}f&&(a.set(u,h),s(h,u,i,o,a),a.delete(u)),Yr(t,n,h)}(t,e,a,n,zn,i,s);else{var c=i?i(Os(t,a),o,a+"",t,e,s):r;c===r&&(c=o),Yr(t,a,c)}}),Ta)}function Hn(t,e){var n=t.length;if(n)return ms(e+=e<0?n:0,n)?t[e]:r}function qn(t,e,r){e=e.length?Re(e,(function(t){return qo(t)?function(e){return En(e,1===t.length?t[0]:t)}:t})):[rc];var n=-1;e=Re(e,Ze(as()));var i=Dn(t,(function(t,r,i){var s=Re(e,(function(e){return e(t)}));return{criteria:s,index:++n,value:t}}));return function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(i,(function(t,e){return function(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,o=i.length,a=r.length;++n<o;){var c=Si(i[n],s[n]);if(c)return n>=a?c:c*("desc"==r[n]?-1:1)}return t.index-e.index}(t,e,r)}))}function Gn(t,e,r){for(var n=-1,i=e.length,s={};++n<i;){var o=e[n],a=En(t,o);r(a,o)&&Yn(s,vi(o,t),a)}return s}function Vn(t,e,r,n){var i=n?He:ze,s=-1,o=e.length,a=t;for(t===e&&(e=Ii(e)),r&&(a=Re(t,Ze(r)));++s<o;)for(var c=0,u=e[s],l=r?r(u):u;(c=i(a,l,c,n))>-1;)a!==t&&Jt.call(a,c,1),Jt.call(t,c,1);return t}function Kn(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==s){var s=i;ms(i)?Jt.call(t,i,1):li(t,i)}}return t}function Wn(t,e){return t+ge(br()*(e-t+1))}function $n(t,e){var r="";if(!t||e<1||e>f)return r;do{e%2&&(r+=t),(e=ge(e/2))&&(t+=t)}while(e);return r}function Jn(t,e){return Ns(Ss(t,e,rc),t+"")}function Qn(t){return Jr(Ma(t))}function Zn(t,e){var r=Ma(t);return Rs(r,on(e,0,r.length))}function Yn(t,e,n,i){if(!Xo(t))return t;for(var s=-1,o=(e=vi(e,t)).length,a=o-1,c=t;null!=c&&++s<o;){var u=js(e[s]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(s!=a){var h=c[u];(l=i?i(h,u,c):r)===r&&(l=Xo(h)?h:ms(e[s+1])?[]:{})}Xr(c,u,l),c=c[u]}return t}var Xn=Ir?function(t,e){return Ir.set(t,e),t}:rc,ti=re?function(t,e){return re(t,"toString",{configurable:!0,enumerable:!1,value:Xa(e),writable:!0})}:rc;function ei(t){return Rs(Ma(t))}function ri(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=st(i);++n<i;)s[n]=t[n+e];return s}function ni(t,e){var r;return hn(t,(function(t,n,i){return!(r=e(t,n,i))})),!!r}function ii(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;n<i;){var s=n+i>>>1,o=t[s];null!==o&&!aa(o)&&(r?o<=e:o<e)?n=s+1:i=s}return i}return si(t,e,rc,r)}function si(t,e,n,i){var s=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,c=null===e,u=aa(e),l=e===r;s<o;){var h=ge((s+o)/2),f=n(t[h]),p=f!==r,d=null===f,g=f==f,y=aa(f);if(a)var m=i||g;else m=l?g&&(i||p):c?g&&p&&(i||!d):u?g&&p&&!d&&(i||!y):!d&&!y&&(i?f<=e:f<e);m?s=h+1:o=h}return mr(o,4294967294)}function oi(t,e){for(var r=-1,n=t.length,i=0,s=[];++r<n;){var o=t[r],a=e?e(o):o;if(!r||!Mo(a,c)){var c=a;s[i++]=0===o?0:o}}return s}function ai(t){return"number"==typeof t?t:aa(t)?p:+t}function ci(t){if("string"==typeof t)return t;if(qo(t))return Re(t,ci)+"";if(aa(t))return Br?Br.call(t):"";var e=t+"";return"0"==e&&1/t==-h?"-0":e}function ui(t,e,r){var n=-1,i=Te,s=t.length,o=!0,a=[],c=a;if(r)o=!1,i=ke;else if(s>=200){var u=e?null:$i(t);if(u)return ur(u);o=!1,i=Xe,c=new Kr}else c=e?[]:a;t:for(;++n<s;){var l=t[n],h=e?e(l):l;if(l=r||0!==l?l:0,o&&h==h){for(var f=c.length;f--;)if(c[f]===h)continue t;e&&c.push(h),a.push(l)}else i(c,h,r)||(c!==a&&c.push(h),a.push(l))}return a}function li(t,e){return null==(t=Ps(t,e=vi(e,t)))||delete t[js($s(e))]}function hi(t,e,r,n){return Yn(t,e,r(En(t,e)),n)}function fi(t,e,r,n){for(var i=t.length,s=n?i:-1;(n?s--:++s<i)&&e(t[s],s,t););return r?ri(t,n?0:s,n?s+1:i):ri(t,n?s+1:0,n?i:s)}function pi(t,e){var r=t;return r instanceof Hr&&(r=r.value()),je(e,(function(t,e){return e.func.apply(e.thisArg,Le([t],e.args))}),r)}function di(t,e,r){var n=t.length;if(n<2)return n?ui(t[0]):[];for(var i=-1,s=st(n);++i<n;)for(var o=t[i],a=-1;++a<n;)a!=i&&(s[i]=ln(s[i]||o,t[a],e,r));return ui(yn(s,1),e,r)}function gi(t,e,n){for(var i=-1,s=t.length,o=e.length,a={};++i<s;){var c=i<o?e[i]:r;n(a,t[i],c)}return a}function yi(t){return Ko(t)?t:[]}function mi(t){return"function"==typeof t?t:rc}function vi(t,e){return qo(t)?t:ws(t,e)?[t]:Ls(ma(t))}var wi=Jn;function bi(t,e,n){var i=t.length;return n=n===r?i:n,!e&&n>=i?t:ri(t,e,n)}var Ai=ce||function(t){return pe.clearTimeout(t)};function Ei(t,e){if(e)return t.slice();var r=t.length,n=Vt?Vt(r):new t.constructor(r);return t.copy(n),n}function _i(t){var e=new t.constructor(t.byteLength);return new Gt(e).set(new Gt(t)),e}function xi(t,e){var r=e?_i(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Si(t,e){if(t!==e){var n=t!==r,i=null===t,s=t==t,o=aa(t),a=e!==r,c=null===e,u=e==e,l=aa(e);if(!c&&!l&&!o&&t>e||o&&a&&u&&!c&&!l||i&&a&&u||!n&&u||!s)return 1;if(!i&&!o&&!l&&t<e||l&&n&&s&&!i&&!o||c&&n&&s||!a&&s||!u)return-1}return 0}function Pi(t,e,r,n){for(var i=-1,s=t.length,o=r.length,a=-1,c=e.length,u=yr(s-o,0),l=st(c+u),h=!n;++a<c;)l[a]=e[a];for(;++i<o;)(h||i<s)&&(l[r[i]]=t[i]);for(;u--;)l[a++]=t[i++];return l}function Oi(t,e,r,n){for(var i=-1,s=t.length,o=-1,a=r.length,c=-1,u=e.length,l=yr(s-a,0),h=st(l+u),f=!n;++i<l;)h[i]=t[i];for(var p=i;++c<u;)h[p+c]=e[c];for(;++o<a;)(f||i<s)&&(h[p+r[o]]=t[i++]);return h}function Ii(t,e){var r=-1,n=t.length;for(e||(e=st(n));++r<n;)e[r]=t[r];return e}function Ci(t,e,n,i){var s=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var c=e[o],u=i?i(n[c],t[c],c,n,t):r;u===r&&(u=t[c]),s?nn(n,c,u):Xr(n,c,u)}return n}function Ni(t,e){return function(r,n){var i=qo(r)?Pe:en,s=e?e():{};return i(r,t,as(n,2),s)}}function Ti(t){return Jn((function(e,n){var i=-1,s=n.length,o=s>1?n[s-1]:r,a=s>2?n[2]:r;for(o=t.length>3&&"function"==typeof o?(s--,o):r,a&&vs(n[0],n[1],a)&&(o=s<3?r:o,s=1),e=Pt(e);++i<s;){var c=n[i];c&&t(e,c,i,o)}return e}))}function ki(t,e){return function(r,n){if(null==r)return r;if(!Vo(r))return t(r,n);for(var i=r.length,s=e?i:-1,o=Pt(r);(e?s--:++s<i)&&!1!==n(o[s],s,o););return r}}function Ri(t){return function(e,r,n){for(var i=-1,s=Pt(e),o=n(e),a=o.length;a--;){var c=o[t?a:++i];if(!1===r(s[c],c,s))break}return e}}function Li(t){return function(e){var n=sr(e=ma(e))?hr(e):r,i=n?n[0]:e.charAt(0),s=n?bi(n,1).join(""):e.slice(1);return i[t]()+s}}function ji(t){return function(e){return je(Qa(Ha(e).replace(Yt,"")),t,"")}}function Ui(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Mr(t.prototype),n=t.apply(r,e);return Xo(n)?n:r}}function Bi(t){return function(e,n,i){var s=Pt(e);if(!Vo(e)){var o=as(n,3);e=Na(e),n=function(t){return o(s[t],t,s)}}var a=t(e,n,i);return a>-1?s[o?e[a]:a]:r}}function Di(t){return es((function(e){var i=e.length,s=i,o=zr.prototype.thru;for(t&&e.reverse();s--;){var a=e[s];if("function"!=typeof a)throw new Ct(n);if(o&&!c&&"wrapper"==ss(a))var c=new zr([],!0)}for(s=c?s:i;++s<i;){var u=ss(a=e[s]),l="wrapper"==u?is(a):r;c=l&&bs(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[ss(l[0])].apply(c,l[3]):1==a.length&&bs(a)?c[u]():c.thru(a)}return function(){var t=arguments,r=t[0];if(c&&1==t.length&&qo(r))return c.plant(r).value();for(var n=0,s=i?e[n].apply(this,t):r;++n<i;)s=e[n].call(this,s);return s}}))}function Mi(t,e,n,i,s,o,a,c,l,h){var f=e&u,p=1&e,d=2&e,g=24&e,y=512&e,m=d?r:Ui(t);return function u(){for(var v=arguments.length,w=st(v),b=v;b--;)w[b]=arguments[b];if(g)var A=os(u),E=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}(w,A);if(i&&(w=Pi(w,i,s,g)),o&&(w=Oi(w,o,a,g)),v-=E,g&&v<h){var _=cr(w,A);return Ki(t,e,Mi,u.placeholder,n,w,_,c,l,h-v)}var x=p?n:this,S=d?x[t]:t;return v=w.length,c?w=function(t,e){for(var n=t.length,i=mr(e.length,n),s=Ii(t);i--;){var o=e[i];t[i]=ms(o,n)?s[o]:r}return t}(w,c):y&&v>1&&w.reverse(),f&&l<v&&(w.length=l),this&&this!==pe&&this instanceof u&&(S=m||Ui(S)),S.apply(x,w)}}function Fi(t,e){return function(r,n){return function(t,e,r,n){return wn(t,(function(t,i,s){e(n,r(t),i,s)})),n}(r,t,e(n),{})}}function zi(t,e){return function(n,i){var s;if(n===r&&i===r)return e;if(n!==r&&(s=n),i!==r){if(s===r)return i;"string"==typeof n||"string"==typeof i?(n=ci(n),i=ci(i)):(n=ai(n),i=ai(i)),s=t(n,i)}return s}}function Hi(t){return es((function(e){return e=Re(e,Ze(as())),Jn((function(r){var n=this;return t(e,(function(t){return Se(t,n,r)}))}))}))}function qi(t,e){var n=(e=e===r?" ":ci(e)).length;if(n<2)return n?$n(e,t):e;var i=$n(e,de(t/lr(e)));return sr(e)?bi(hr(i),0,t).join(""):i.slice(0,t)}function Gi(t){return function(e,n,i){return i&&"number"!=typeof i&&vs(e,n,i)&&(n=i=r),e=fa(e),n===r?(n=e,e=0):n=fa(n),function(t,e,r,n){for(var i=-1,s=yr(de((e-t)/(r||1)),0),o=st(s);s--;)o[n?s:++i]=t,t+=r;return o}(e,n,i=i===r?e<n?1:-1:fa(i),t)}}function Vi(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=ga(e),r=ga(r)),t(e,r)}}function Ki(t,e,n,i,s,o,u,l,h,f){var p=8&e;e|=p?a:c,4&(e&=~(p?c:a))||(e&=-4);var d=[t,e,s,p?o:r,p?u:r,p?r:o,p?r:u,l,h,f],g=n.apply(r,d);return bs(t)&&Is(g,d),g.placeholder=i,Ts(g,t,e)}function Wi(t){var e=St[t];return function(t,r){if(t=ga(t),(r=null==r?0:mr(pa(r),292))&&De(t)){var n=(ma(t)+"e").split("e");return+((n=(ma(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var $i=Sr&&1/ur(new Sr([,-0]))[1]==h?function(t){return new Sr(t)}:ac;function Ji(t){return function(e){var r=ps(e);return r==_?or(e):r==I?function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}(e):function(t,e){return Re(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Qi(t,e,i,h,f,p,d,g){var y=2&e;if(!y&&"function"!=typeof t)throw new Ct(n);var m=h?h.length:0;if(m||(e&=-97,h=f=r),d=d===r?d:yr(pa(d),0),g=g===r?g:pa(g),m-=f?f.length:0,e&c){var v=h,w=f;h=f=r}var b=y?r:is(t),A=[t,e,i,h,f,v,w,p,d,g];if(b&&function(t,e){var r=t[1],n=e[1],i=r|n,o=i<131,a=n==u&&8==r||n==u&&r==l&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!o&&!a)return t;1&n&&(t[2]=e[2],i|=1&r?0:4);var c=e[3];if(c){var h=t[3];t[3]=h?Pi(h,c,e[4]):c,t[4]=h?cr(t[3],s):e[4]}c=e[5],c&&(h=t[5],t[5]=h?Oi(h,c,e[6]):c,t[6]=h?cr(t[5],s):e[6]),c=e[7],c&&(t[7]=c),n&u&&(t[8]=null==t[8]?e[8]:mr(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(A,b),t=A[0],e=A[1],i=A[2],h=A[3],f=A[4],!(g=A[9]=A[9]===r?y?0:t.length:yr(A[9]-m,0))&&24&e&&(e&=-25),e&&1!=e)E=8==e||e==o?function(t,e,n){var i=Ui(t);return function s(){for(var o=arguments.length,a=st(o),c=o,u=os(s);c--;)a[c]=arguments[c];var l=o<3&&a[0]!==u&&a[o-1]!==u?[]:cr(a,u);return(o-=l.length)<n?Ki(t,e,Mi,s.placeholder,r,a,l,r,r,n-o):Se(this&&this!==pe&&this instanceof s?i:t,this,a)}}(t,e,g):e!=a&&33!=e||f.length?Mi.apply(r,A):function(t,e,r,n){var i=1&e,s=Ui(t);return function e(){for(var o=-1,a=arguments.length,c=-1,u=n.length,l=st(u+a),h=this&&this!==pe&&this instanceof e?s:t;++c<u;)l[c]=n[c];for(;a--;)l[c++]=arguments[++o];return Se(h,i?r:this,l)}}(t,e,i,h);else var E=function(t,e,r){var n=1&e,i=Ui(t);return function e(){return(this&&this!==pe&&this instanceof e?i:t).apply(n?r:this,arguments)}}(t,e,i);return Ts((b?Xn:Is)(E,A),t,e)}function Zi(t,e,n,i){return t===r||Mo(t,kt[n])&&!jt.call(i,n)?e:t}function Yi(t,e,n,i,s,o){return Xo(t)&&Xo(e)&&(o.set(e,t),zn(t,e,r,Yi,o),o.delete(e)),t}function Xi(t){return na(t)?r:t}function ts(t,e,n,i,s,o){var a=1&n,c=t.length,u=e.length;if(c!=u&&!(a&&u>c))return!1;var l=o.get(t),h=o.get(e);if(l&&h)return l==e&&h==t;var f=-1,p=!0,d=2&n?new Kr:r;for(o.set(t,e),o.set(e,t);++f<c;){var g=t[f],y=e[f];if(i)var m=a?i(y,g,f,e,t,o):i(g,y,f,t,e,o);if(m!==r){if(m)continue;p=!1;break}if(d){if(!Be(e,(function(t,e){if(!Xe(d,e)&&(g===t||s(g,t,n,i,o)))return d.push(e)}))){p=!1;break}}else if(g!==y&&!s(g,y,n,i,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function es(t){return Ns(Ss(t,r,qs),t+"")}function rs(t){return _n(t,Na,hs)}function ns(t){return _n(t,Ta,fs)}var is=Ir?function(t){return Ir.get(t)}:ac;function ss(t){for(var e=t.name+"",r=Cr[e],n=jt.call(Cr,e)?r.length:0;n--;){var i=r[n],s=i.func;if(null==s||s==t)return i.name}return e}function os(t){return(jt.call(Dr,"placeholder")?Dr:t).placeholder}function as(){var t=Dr.iteratee||nc;return t=t===nc?Ln:t,arguments.length?t(arguments[0],arguments[1]):t}function cs(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function us(t){for(var e=Na(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,_s(i)]}return e}function ls(t,e){var n=function(t,e){return null==t?r:t[e]}(t,e);return Rn(n)?n:r}var hs=me?function(t){return null==t?[]:(t=Pt(t),Ne(me(t),(function(e){return $t.call(t,e)})))}:dc,fs=me?function(t){for(var e=[];t;)Le(e,hs(t)),t=Kt(t);return e}:dc,ps=xn;function ds(t,e,r){for(var n=-1,i=(e=vi(e,t)).length,s=!1;++n<i;){var o=js(e[n]);if(!(s=null!=t&&r(t,o)))break;t=t[o]}return s||++n!=i?s:!!(i=null==t?0:t.length)&&Yo(i)&&ms(o,i)&&(qo(t)||Ho(t))}function gs(t){return"function"!=typeof t.constructor||Es(t)?{}:Mr(Kt(t))}function ys(t){return qo(t)||Ho(t)||!!(Qt&&t&&t[Qt])}function ms(t,e){var r=typeof t;return!!(e=e??f)&&("number"==r||"symbol"!=r&&vt.test(t))&&t>-1&&t%1==0&&t<e}function vs(t,e,r){if(!Xo(r))return!1;var n=typeof e;return!!("number"==n?Vo(r)&&ms(e,r.length):"string"==n&&e in r)&&Mo(r[e],t)}function ws(t,e){if(qo(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!aa(t))||(tt.test(t)||!X.test(t)||null!=e&&t in Pt(e))}function bs(t){var e=ss(t),r=Dr[e];if("function"!=typeof r||!(e in Hr.prototype))return!1;if(t===r)return!0;var n=is(r);return!!n&&t===n[0]}(Er&&ps(new Er(new ArrayBuffer(1)))!=R||_r&&ps(new _r)!=_||xr&&ps(xr.resolve())!=P||Sr&&ps(new Sr)!=I||Pr&&ps(new Pr)!=T)&&(ps=function(t){var e=xn(t),n=e==S?t.constructor:r,i=n?Us(n):"";if(i)switch(i){case Nr:return R;case Tr:return _;case kr:return P;case Rr:return I;case Lr:return T}return e});var As=Rt?Qo:gc;function Es(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||kt)}function _s(t){return t==t&&!Xo(t)}function xs(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==r||t in Pt(n)))}}function Ss(t,e,n){return e=yr(e===r?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=yr(r.length-e,0),o=st(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=st(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),Se(t,this,a)}}function Ps(t,e){return e.length<2?t:En(t,ri(e,0,-1))}function Os(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Is=ks(Xn),Cs=fe||function(t,e){return pe.setTimeout(t,e)},Ns=ks(ti);function Ts(t,e,r){var n=e+"";return Ns(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(ot,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Oe(g,(function(r){var n="_."+r[0];e&r[1]&&!Te(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(at);return e?e[1].split(ct):[]}(n),r)))}function ks(t){var e=0,n=0;return function(){var i=vr(),s=16-(i-n);if(n=i,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(r,arguments)}}function Rs(t,e){var n=-1,i=t.length,s=i-1;for(e=e===r?i:e;++n<e;){var o=Wn(n,s),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var Ls=function(t){var e=Ro(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(et,(function(t,r,n,i){e.push(n?i.replace(ht,"$1"):r||t)})),e}));function js(t){if("string"==typeof t||aa(t))return t;var e=t+"";return"0"==e&&1/t==-h?"-0":e}function Us(t){if(null!=t){try{return Lt.call(t)}catch{}try{return t+""}catch{}}return""}function Bs(t){if(t instanceof Hr)return t.clone();var e=new zr(t.__wrapped__,t.__chain__);return e.__actions__=Ii(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ds=Jn((function(t,e){return Ko(t)?ln(t,yn(e,1,Ko,!0)):[]})),Ms=Jn((function(t,e){var n=$s(e);return Ko(n)&&(n=r),Ko(t)?ln(t,yn(e,1,Ko,!0),as(n,2)):[]})),Fs=Jn((function(t,e){var n=$s(e);return Ko(n)&&(n=r),Ko(t)?ln(t,yn(e,1,Ko,!0),r,n):[]}));function zs(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:pa(r);return i<0&&(i=yr(n+i,0)),Fe(t,as(e,3),i)}function Hs(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var s=i-1;return n!==r&&(s=pa(n),s=n<0?yr(i+s,0):mr(s,i-1)),Fe(t,as(e,3),s,!0)}function qs(t){return(null==t?0:t.length)?yn(t,1):[]}function Gs(t){return t&&t.length?t[0]:r}var Vs=Jn((function(t){var e=Re(t,yi);return e.length&&e[0]===t[0]?In(e):[]})),Ks=Jn((function(t){var e=$s(t),n=Re(t,yi);return e===$s(n)?e=r:n.pop(),n.length&&n[0]===t[0]?In(n,as(e,2)):[]})),Ws=Jn((function(t){var e=$s(t),n=Re(t,yi);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?In(n,r,e):[]}));function $s(t){var e=null==t?0:t.length;return e?t[e-1]:r}var Js=Jn(Qs);function Qs(t,e){return t&&t.length&&e&&e.length?Vn(t,e):t}var Zs=es((function(t,e){var r=null==t?0:t.length,n=sn(t,e);return Kn(t,Re(e,(function(t){return ms(t,r)?+t:t})).sort(Si)),n}));function Ys(t){return null==t?t:Ar.call(t)}var Xs=Jn((function(t){return ui(yn(t,1,Ko,!0))})),to=Jn((function(t){var e=$s(t);return Ko(e)&&(e=r),ui(yn(t,1,Ko,!0),as(e,2))})),eo=Jn((function(t){var e=$s(t);return e="function"==typeof e?e:r,ui(yn(t,1,Ko,!0),r,e)}));function ro(t){if(!t||!t.length)return[];var e=0;return t=Ne(t,(function(t){if(Ko(t))return e=yr(t.length,e),!0})),Je(e,(function(e){return Re(t,Ve(e))}))}function no(t,e){if(!t||!t.length)return[];var n=ro(t);return null==e?n:Re(n,(function(t){return Se(e,r,t)}))}var io=Jn((function(t,e){return Ko(t)?ln(t,e):[]})),so=Jn((function(t){return di(Ne(t,Ko))})),oo=Jn((function(t){var e=$s(t);return Ko(e)&&(e=r),di(Ne(t,Ko),as(e,2))})),ao=Jn((function(t){var e=$s(t);return e="function"==typeof e?e:r,di(Ne(t,Ko),r,e)})),co=Jn(ro);var uo=Jn((function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,no(t,n)}));function lo(t){var e=Dr(t);return e.__chain__=!0,e}function ho(t,e){return e(t)}var fo=es((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,s=function(e){return sn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Hr&&ms(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:ho,args:[s],thisArg:r}),new zr(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(s)}));var po=Ni((function(t,e,r){jt.call(t,r)?++t[r]:nn(t,r,1)}));var go=Bi(zs),yo=Bi(Hs);function mo(t,e){return(qo(t)?Oe:hn)(t,as(e,3))}function vo(t,e){return(qo(t)?Ie:fn)(t,as(e,3))}var wo=Ni((function(t,e,r){jt.call(t,r)?t[r].push(e):nn(t,r,[e])}));var bo=Jn((function(t,e,r){var n=-1,i="function"==typeof e,s=Vo(t)?st(t.length):[];return hn(t,(function(t){s[++n]=i?Se(e,t,r):Cn(t,e,r)})),s})),Ao=Ni((function(t,e,r){nn(t,r,e)}));function Eo(t,e){return(qo(t)?Re:Dn)(t,as(e,3))}var _o=Ni((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]}));var xo=Jn((function(t,e){if(null==t)return[];var r=e.length;return r>1&&vs(t,e[0],e[1])?e=[]:r>2&&vs(e[0],e[1],e[2])&&(e=[e[0]]),qn(t,yn(e,1),[])})),So=he||function(){return pe.Date.now()};function Po(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,Qi(t,u,r,r,r,r,e)}function Oo(t,e){var i;if("function"!=typeof e)throw new Ct(n);return t=pa(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=r),i}}var Io=Jn((function(t,e,r){var n=1;if(r.length){var i=cr(r,os(Io));n|=a}return Qi(t,n,e,r,i)})),Co=Jn((function(t,e,r){var n=3;if(r.length){var i=cr(r,os(Co));n|=a}return Qi(e,n,t,r,i)}));function No(t,e,i){var s,o,a,c,u,l,h=0,f=!1,p=!1,d=!0;if("function"!=typeof t)throw new Ct(n);function g(e){var n=s,i=o;return s=o=r,h=e,c=t.apply(i,n)}function y(t){var n=t-l;return l===r||n>=e||n<0||p&&t-h>=a}function m(){var t=So();if(y(t))return v(t);u=Cs(m,function(t){var r=e-(t-l);return p?mr(r,a-(t-h)):r}(t))}function v(t){return u=r,d&&s?g(t):(s=o=r,c)}function w(){var t=So(),n=y(t);if(s=arguments,o=this,l=t,n){if(u===r)return function(t){return h=t,u=Cs(m,e),f?g(t):c}(l);if(p)return Ai(u),u=Cs(m,e),g(l)}return u===r&&(u=Cs(m,e)),c}return e=ga(e)||0,Xo(i)&&(f=!!i.leading,a=(p="maxWait"in i)?yr(ga(i.maxWait)||0,e):a,d="trailing"in i?!!i.trailing:d),w.cancel=function(){u!==r&&Ai(u),h=0,s=l=o=u=r},w.flush=function(){return u===r?c:v(So())},w}var To=Jn((function(t,e){return un(t,1,e)})),ko=Jn((function(t,e,r){return un(t,ga(e)||0,r)}));function Ro(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ct(n);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=t.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(Ro.Cache||Vr),r}function Lo(t){if("function"!=typeof t)throw new Ct(n);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ro.Cache=Vr;var jo=wi((function(t,e){var r=(e=1==e.length&&qo(e[0])?Re(e[0],Ze(as())):Re(yn(e,1),Ze(as()))).length;return Jn((function(n){for(var i=-1,s=mr(n.length,r);++i<s;)n[i]=e[i].call(this,n[i]);return Se(t,this,n)}))})),Uo=Jn((function(t,e){var n=cr(e,os(Uo));return Qi(t,a,r,e,n)})),Bo=Jn((function(t,e){var n=cr(e,os(Bo));return Qi(t,c,r,e,n)})),Do=es((function(t,e){return Qi(t,l,r,r,r,e)}));function Mo(t,e){return t===e||t!=t&&e!=e}var Fo=Vi(Sn),zo=Vi((function(t,e){return t>=e})),Ho=Nn(function(){return arguments}())?Nn:function(t){return ta(t)&&jt.call(t,"callee")&&!$t.call(t,"callee")},qo=st.isArray,Go=we?Ze(we):function(t){return ta(t)&&xn(t)==k};function Vo(t){return null!=t&&Yo(t.length)&&!Qo(t)}function Ko(t){return ta(t)&&Vo(t)}var Wo=ve||gc,$o=be?Ze(be):function(t){return ta(t)&&xn(t)==w};function Jo(t){if(!ta(t))return!1;var e=xn(t);return e==b||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!na(t)}function Qo(t){if(!Xo(t))return!1;var e=xn(t);return e==A||e==E||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Zo(t){return"number"==typeof t&&t==pa(t)}function Yo(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=f}function Xo(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ta(t){return null!=t&&"object"==typeof t}var ea=Ae?Ze(Ae):function(t){return ta(t)&&ps(t)==_};function ra(t){return"number"==typeof t||ta(t)&&xn(t)==x}function na(t){if(!ta(t)||xn(t)!=S)return!1;var e=Kt(t);if(null===e)return!0;var r=jt.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Lt.call(r)==Mt}var ia=Ee?Ze(Ee):function(t){return ta(t)&&xn(t)==O};var sa=_e?Ze(_e):function(t){return ta(t)&&ps(t)==I};function oa(t){return"string"==typeof t||!qo(t)&&ta(t)&&xn(t)==C}function aa(t){return"symbol"==typeof t||ta(t)&&xn(t)==N}var ca=xe?Ze(xe):function(t){return ta(t)&&Yo(t.length)&&!!oe[xn(t)]};var ua=Vi(Bn),la=Vi((function(t,e){return t<=e}));function ha(t){if(!t)return[];if(Vo(t))return oa(t)?hr(t):Ii(t);if(Zt&&t[Zt])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[Zt]());var e=ps(t);return(e==_?or:e==I?ur:Ma)(t)}function fa(t){return t?(t=ga(t))===h||t===-h?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function pa(t){var e=fa(t),r=e%1;return e==e?r?e-r:e:0}function da(t){return t?on(pa(t),0,d):0}function ga(t){if("number"==typeof t)return t;if(aa(t))return p;if(Xo(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Xo(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Qe(t);var r=gt.test(t);return r||mt.test(t)?le(t.slice(2),r?2:8):dt.test(t)?p:+t}function ya(t){return Ci(t,Ta(t))}function ma(t){return null==t?"":ci(t)}var va=Ti((function(t,e){if(Es(e)||Vo(e))Ci(e,Na(e),t);else for(var r in e)jt.call(e,r)&&Xr(t,r,e[r])})),wa=Ti((function(t,e){Ci(e,Ta(e),t)})),ba=Ti((function(t,e,r,n){Ci(e,Ta(e),t,n)})),Aa=Ti((function(t,e,r,n){Ci(e,Na(e),t,n)})),Ea=es(sn);var _a=Jn((function(t,e){t=Pt(t);var n=-1,i=e.length,s=i>2?e[2]:r;for(s&&vs(e[0],e[1],s)&&(i=1);++n<i;)for(var o=e[n],a=Ta(o),c=-1,u=a.length;++c<u;){var l=a[c],h=t[l];(h===r||Mo(h,kt[l])&&!jt.call(t,l))&&(t[l]=o[l])}return t})),xa=Jn((function(t){return t.push(r,Yi),Se(Ra,r,t)}));function Sa(t,e,n){var i=null==t?r:En(t,e);return i===r?n:i}function Pa(t,e){return null!=t&&ds(t,e,On)}var Oa=Fi((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Dt.call(e)),t[e]=r}),Xa(rc)),Ia=Fi((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=Dt.call(e)),jt.call(t,e)?t[e].push(r):t[e]=[r]}),as),Ca=Jn(Cn);function Na(t){return Vo(t)?$r(t):jn(t)}function Ta(t){return Vo(t)?$r(t,!0):Un(t)}var ka=Ti((function(t,e,r){zn(t,e,r)})),Ra=Ti((function(t,e,r,n){zn(t,e,r,n)})),La=es((function(t,e){var r={};if(null==t)return r;var n=!1;e=Re(e,(function(e){return e=vi(e,t),n||(n=e.length>1),e})),Ci(t,ns(t),r),n&&(r=an(r,7,Xi));for(var i=e.length;i--;)li(r,e[i]);return r}));var ja=es((function(t,e){return null==t?{}:function(t,e){return Gn(t,e,(function(e,r){return Pa(t,r)}))}(t,e)}));function Ua(t,e){if(null==t)return{};var r=Re(ns(t),(function(t){return[t]}));return e=as(e),Gn(t,r,(function(t,r){return e(t,r[0])}))}var Ba=Ji(Na),Da=Ji(Ta);function Ma(t){return null==t?[]:Ye(t,Na(t))}var Fa=ji((function(t,e,r){return e=e.toLowerCase(),t+(r?za(e):e)}));function za(t){return Ja(ma(t).toLowerCase())}function Ha(t){return(t=ma(t))&&t.replace(wt,rr).replace(Xt,"")}var qa=ji((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),Ga=ji((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),Va=Li("toLowerCase");var Ka=ji((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}));var Wa=ji((function(t,e,r){return t+(r?" ":"")+Ja(e)}));var $a=ji((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),Ja=Li("toUpperCase");function Qa(t,e,n){return t=ma(t),(e=n?r:e)===r?function(t){return ne.test(t)}(t)?function(t){return t.match(ee)||[]}(t):function(t){return t.match(ut)||[]}(t):t.match(e)||[]}var Za=Jn((function(t,e){try{return Se(t,r,e)}catch(n){return Jo(n)?n:new _t(n)}})),Ya=es((function(t,e){return Oe(e,(function(e){e=js(e),nn(t,e,Io(t[e],t))})),t}));function Xa(t){return function(){return t}}var tc=Di(),ec=Di(!0);function rc(t){return t}function nc(t){return Ln("function"==typeof t?t:an(t,1))}var ic=Jn((function(t,e){return function(r){return Cn(r,t,e)}})),sc=Jn((function(t,e){return function(r){return Cn(t,r,e)}}));function oc(t,e,r){var n=Na(e),i=An(e,n);null==r&&(!Xo(e)||!i.length&&n.length)&&(r=e,e=t,t=this,i=An(e,Na(e)));var s=!(Xo(r)&&"chain"in r&&!r.chain),o=Qo(t);return Oe(i,(function(r){var n=e[r];t[r]=n,o&&(t.prototype[r]=function(){var e=this.__chain__;if(s||e){var r=t(this.__wrapped__);return(r.__actions__=Ii(this.__actions__)).push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,Le([this.value()],arguments))})})),t}function ac(){}var cc=Hi(Re),uc=Hi(Ce),lc=Hi(Be);function hc(t){return ws(t)?Ve(js(t)):function(t){return function(e){return En(e,t)}}(t)}var fc=Gi(),pc=Gi(!0);function dc(){return[]}function gc(){return!1}var yc=zi((function(t,e){return t+e}),0),mc=Wi("ceil"),vc=zi((function(t,e){return t/e}),1),wc=Wi("floor");var bc=zi((function(t,e){return t*e}),1),Ac=Wi("round"),Ec=zi((function(t,e){return t-e}),0);return Dr.after=function(t,e){if("function"!=typeof e)throw new Ct(n);return t=pa(t),function(){if(--t<1)return e.apply(this,arguments)}},Dr.ary=Po,Dr.assign=va,Dr.assignIn=wa,Dr.assignInWith=ba,Dr.assignWith=Aa,Dr.at=Ea,Dr.before=Oo,Dr.bind=Io,Dr.bindAll=Ya,Dr.bindKey=Co,Dr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return qo(t)?t:[t]},Dr.chain=lo,Dr.chunk=function(t,e,n){e=(n?vs(t,e,n):e===r)?1:yr(pa(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var s=0,o=0,a=st(de(i/e));s<i;)a[o++]=ri(t,s,s+=e);return a},Dr.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var s=t[e];s&&(i[n++]=s)}return i},Dr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=st(t-1),r=arguments[0],n=t;n--;)e[n-1]=arguments[n];return Le(qo(r)?Ii(r):[r],yn(e,1))},Dr.cond=function(t){var e=null==t?0:t.length,r=as();return t=e?Re(t,(function(t){if("function"!=typeof t[1])throw new Ct(n);return[r(t[0]),t[1]]})):[],Jn((function(r){for(var n=-1;++n<e;){var i=t[n];if(Se(i[0],this,r))return Se(i[1],this,r)}}))},Dr.conforms=function(t){return function(t){var e=Na(t);return function(r){return cn(r,t,e)}}(an(t,1))},Dr.constant=Xa,Dr.countBy=po,Dr.create=function(t,e){var r=Mr(t);return null==e?r:rn(r,e)},Dr.curry=function t(e,n,i){var s=Qi(e,8,r,r,r,r,r,n=i?r:n);return s.placeholder=t.placeholder,s},Dr.curryRight=function t(e,n,i){var s=Qi(e,o,r,r,r,r,r,n=i?r:n);return s.placeholder=t.placeholder,s},Dr.debounce=No,Dr.defaults=_a,Dr.defaultsDeep=xa,Dr.defer=To,Dr.delay=ko,Dr.difference=Ds,Dr.differenceBy=Ms,Dr.differenceWith=Fs,Dr.drop=function(t,e,n){var i=null==t?0:t.length;return i?ri(t,(e=n||e===r?1:pa(e))<0?0:e,i):[]},Dr.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?ri(t,0,(e=i-(e=n||e===r?1:pa(e)))<0?0:e):[]},Dr.dropRightWhile=function(t,e){return t&&t.length?fi(t,as(e,3),!0,!0):[]},Dr.dropWhile=function(t,e){return t&&t.length?fi(t,as(e,3),!0):[]},Dr.fill=function(t,e,n,i){var s=null==t?0:t.length;return s?(n&&"number"!=typeof n&&vs(t,e,n)&&(n=0,i=s),function(t,e,n,i){var s=t.length;for((n=pa(n))<0&&(n=-n>s?0:s+n),(i=i===r||i>s?s:pa(i))<0&&(i+=s),i=n>i?0:da(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},Dr.filter=function(t,e){return(qo(t)?Ne:gn)(t,as(e,3))},Dr.flatMap=function(t,e){return yn(Eo(t,e),1)},Dr.flatMapDeep=function(t,e){return yn(Eo(t,e),h)},Dr.flatMapDepth=function(t,e,n){return n=n===r?1:pa(n),yn(Eo(t,e),n)},Dr.flatten=qs,Dr.flattenDeep=function(t){return(null==t?0:t.length)?yn(t,h):[]},Dr.flattenDepth=function(t,e){return(null==t?0:t.length)?yn(t,e=e===r?1:pa(e)):[]},Dr.flip=function(t){return Qi(t,512)},Dr.flow=tc,Dr.flowRight=ec,Dr.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},Dr.functions=function(t){return null==t?[]:An(t,Na(t))},Dr.functionsIn=function(t){return null==t?[]:An(t,Ta(t))},Dr.groupBy=wo,Dr.initial=function(t){return(null==t?0:t.length)?ri(t,0,-1):[]},Dr.intersection=Vs,Dr.intersectionBy=Ks,Dr.intersectionWith=Ws,Dr.invert=Oa,Dr.invertBy=Ia,Dr.invokeMap=bo,Dr.iteratee=nc,Dr.keyBy=Ao,Dr.keys=Na,Dr.keysIn=Ta,Dr.map=Eo,Dr.mapKeys=function(t,e){var r={};return e=as(e,3),wn(t,(function(t,n,i){nn(r,e(t,n,i),t)})),r},Dr.mapValues=function(t,e){var r={};return e=as(e,3),wn(t,(function(t,n,i){nn(r,n,e(t,n,i))})),r},Dr.matches=function(t){return Mn(an(t,1))},Dr.matchesProperty=function(t,e){return Fn(t,an(e,1))},Dr.memoize=Ro,Dr.merge=ka,Dr.mergeWith=Ra,Dr.method=ic,Dr.methodOf=sc,Dr.mixin=oc,Dr.negate=Lo,Dr.nthArg=function(t){return t=pa(t),Jn((function(e){return Hn(e,t)}))},Dr.omit=La,Dr.omitBy=function(t,e){return Ua(t,Lo(as(e)))},Dr.once=function(t){return Oo(2,t)},Dr.orderBy=function(t,e,n,i){return null==t?[]:(qo(e)||(e=null==e?[]:[e]),qo(n=i?r:n)||(n=null==n?[]:[n]),qn(t,e,n))},Dr.over=cc,Dr.overArgs=jo,Dr.overEvery=uc,Dr.overSome=lc,Dr.partial=Uo,Dr.partialRight=Bo,Dr.partition=_o,Dr.pick=ja,Dr.pickBy=Ua,Dr.property=hc,Dr.propertyOf=function(t){return function(e){return null==t?r:En(t,e)}},Dr.pull=Js,Dr.pullAll=Qs,Dr.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?Vn(t,e,as(r,2)):t},Dr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Vn(t,e,r,n):t},Dr.pullAt=Zs,Dr.range=fc,Dr.rangeRight=pc,Dr.rearg=Do,Dr.reject=function(t,e){return(qo(t)?Ne:gn)(t,Lo(as(e,3)))},Dr.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],s=t.length;for(e=as(e,3);++n<s;){var o=t[n];e(o,n,t)&&(r.push(o),i.push(n))}return Kn(t,i),r},Dr.rest=function(t,e){if("function"!=typeof t)throw new Ct(n);return Jn(t,e=e===r?e:pa(e))},Dr.reverse=Ys,Dr.sampleSize=function(t,e,n){return e=(n?vs(t,e,n):e===r)?1:pa(e),(qo(t)?Qr:Zn)(t,e)},Dr.set=function(t,e,r){return null==t?t:Yn(t,e,r)},Dr.setWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:Yn(t,e,n,i)},Dr.shuffle=function(t){return(qo(t)?Zr:ei)(t)},Dr.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&vs(t,e,n)?(e=0,n=i):(e=null==e?0:pa(e),n=n===r?i:pa(n)),ri(t,e,n)):[]},Dr.sortBy=xo,Dr.sortedUniq=function(t){return t&&t.length?oi(t):[]},Dr.sortedUniqBy=function(t,e){return t&&t.length?oi(t,as(e,2)):[]},Dr.split=function(t,e,n){return n&&"number"!=typeof n&&vs(t,e,n)&&(e=n=r),(n=n===r?d:n>>>0)?(t=ma(t))&&("string"==typeof e||null!=e&&!ia(e))&&(!(e=ci(e))&&sr(t))?bi(hr(t),0,n):t.split(e,n):[]},Dr.spread=function(t,e){if("function"!=typeof t)throw new Ct(n);return e=null==e?0:yr(pa(e),0),Jn((function(r){var n=r[e],i=bi(r,0,e);return n&&Le(i,n),Se(t,this,i)}))},Dr.tail=function(t){var e=null==t?0:t.length;return e?ri(t,1,e):[]},Dr.take=function(t,e,n){return t&&t.length?ri(t,0,(e=n||e===r?1:pa(e))<0?0:e):[]},Dr.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?ri(t,(e=i-(e=n||e===r?1:pa(e)))<0?0:e,i):[]},Dr.takeRightWhile=function(t,e){return t&&t.length?fi(t,as(e,3),!1,!0):[]},Dr.takeWhile=function(t,e){return t&&t.length?fi(t,as(e,3)):[]},Dr.tap=function(t,e){return e(t),t},Dr.throttle=function(t,e,r){var i=!0,s=!0;if("function"!=typeof t)throw new Ct(n);return Xo(r)&&(i="leading"in r?!!r.leading:i,s="trailing"in r?!!r.trailing:s),No(t,e,{leading:i,maxWait:e,trailing:s})},Dr.thru=ho,Dr.toArray=ha,Dr.toPairs=Ba,Dr.toPairsIn=Da,Dr.toPath=function(t){return qo(t)?Re(t,js):aa(t)?[t]:Ii(Ls(ma(t)))},Dr.toPlainObject=ya,Dr.transform=function(t,e,r){var n=qo(t),i=n||Wo(t)||ca(t);if(e=as(e,4),null==r){var s=t&&t.constructor;r=i?n?new s:[]:Xo(t)&&Qo(s)?Mr(Kt(t)):{}}return(i?Oe:wn)(t,(function(t,n,i){return e(r,t,n,i)})),r},Dr.unary=function(t){return Po(t,1)},Dr.union=Xs,Dr.unionBy=to,Dr.unionWith=eo,Dr.uniq=function(t){return t&&t.length?ui(t):[]},Dr.uniqBy=function(t,e){return t&&t.length?ui(t,as(e,2)):[]},Dr.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?ui(t,r,e):[]},Dr.unset=function(t,e){return null==t||li(t,e)},Dr.unzip=ro,Dr.unzipWith=no,Dr.update=function(t,e,r){return null==t?t:hi(t,e,mi(r))},Dr.updateWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:hi(t,e,mi(n),i)},Dr.values=Ma,Dr.valuesIn=function(t){return null==t?[]:Ye(t,Ta(t))},Dr.without=io,Dr.words=Qa,Dr.wrap=function(t,e){return Uo(mi(e),t)},Dr.xor=so,Dr.xorBy=oo,Dr.xorWith=ao,Dr.zip=co,Dr.zipObject=function(t,e){return gi(t||[],e||[],Xr)},Dr.zipObjectDeep=function(t,e){return gi(t||[],e||[],Yn)},Dr.zipWith=uo,Dr.entries=Ba,Dr.entriesIn=Da,Dr.extend=wa,Dr.extendWith=ba,oc(Dr,Dr),Dr.add=yc,Dr.attempt=Za,Dr.camelCase=Fa,Dr.capitalize=za,Dr.ceil=mc,Dr.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=ga(n))==n?n:0),e!==r&&(e=(e=ga(e))==e?e:0),on(ga(t),e,n)},Dr.clone=function(t){return an(t,4)},Dr.cloneDeep=function(t){return an(t,5)},Dr.cloneDeepWith=function(t,e){return an(t,5,e="function"==typeof e?e:r)},Dr.cloneWith=function(t,e){return an(t,4,e="function"==typeof e?e:r)},Dr.conformsTo=function(t,e){return null==e||cn(t,e,Na(e))},Dr.deburr=Ha,Dr.defaultTo=function(t,e){return null==t||t!=t?e:t},Dr.divide=vc,Dr.endsWith=function(t,e,n){t=ma(t),e=ci(e);var i=t.length,s=n=n===r?i:on(pa(n),0,i);return(n-=e.length)>=0&&t.slice(n,s)==e},Dr.eq=Mo,Dr.escape=function(t){return(t=ma(t))&&J.test(t)?t.replace(W,nr):t},Dr.escapeRegExp=function(t){return(t=ma(t))&&nt.test(t)?t.replace(rt,"\\$&"):t},Dr.every=function(t,e,n){var i=qo(t)?Ce:pn;return n&&vs(t,e,n)&&(e=r),i(t,as(e,3))},Dr.find=go,Dr.findIndex=zs,Dr.findKey=function(t,e){return Me(t,as(e,3),wn)},Dr.findLast=yo,Dr.findLastIndex=Hs,Dr.findLastKey=function(t,e){return Me(t,as(e,3),bn)},Dr.floor=wc,Dr.forEach=mo,Dr.forEachRight=vo,Dr.forIn=function(t,e){return null==t?t:mn(t,as(e,3),Ta)},Dr.forInRight=function(t,e){return null==t?t:vn(t,as(e,3),Ta)},Dr.forOwn=function(t,e){return t&&wn(t,as(e,3))},Dr.forOwnRight=function(t,e){return t&&bn(t,as(e,3))},Dr.get=Sa,Dr.gt=Fo,Dr.gte=zo,Dr.has=function(t,e){return null!=t&&ds(t,e,Pn)},Dr.hasIn=Pa,Dr.head=Gs,Dr.identity=rc,Dr.includes=function(t,e,r,n){t=Vo(t)?t:Ma(t),r=r&&!n?pa(r):0;var i=t.length;return r<0&&(r=yr(i+r,0)),oa(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&ze(t,e,r)>-1},Dr.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:pa(r);return i<0&&(i=yr(n+i,0)),ze(t,e,i)},Dr.inRange=function(t,e,n){return e=fa(e),n===r?(n=e,e=0):n=fa(n),function(t,e,r){return t>=mr(e,r)&&t<yr(e,r)}(t=ga(t),e,n)},Dr.invoke=Ca,Dr.isArguments=Ho,Dr.isArray=qo,Dr.isArrayBuffer=Go,Dr.isArrayLike=Vo,Dr.isArrayLikeObject=Ko,Dr.isBoolean=function(t){return!0===t||!1===t||ta(t)&&xn(t)==v},Dr.isBuffer=Wo,Dr.isDate=$o,Dr.isElement=function(t){return ta(t)&&1===t.nodeType&&!na(t)},Dr.isEmpty=function(t){if(null==t)return!0;if(Vo(t)&&(qo(t)||"string"==typeof t||"function"==typeof t.splice||Wo(t)||ca(t)||Ho(t)))return!t.length;var e=ps(t);if(e==_||e==I)return!t.size;if(Es(t))return!jn(t).length;for(var r in t)if(jt.call(t,r))return!1;return!0},Dr.isEqual=function(t,e){return Tn(t,e)},Dr.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:r)?n(t,e):r;return i===r?Tn(t,e,r,n):!!i},Dr.isError=Jo,Dr.isFinite=function(t){return"number"==typeof t&&De(t)},Dr.isFunction=Qo,Dr.isInteger=Zo,Dr.isLength=Yo,Dr.isMap=ea,Dr.isMatch=function(t,e){return t===e||kn(t,e,us(e))},Dr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,kn(t,e,us(e),n)},Dr.isNaN=function(t){return ra(t)&&t!=+t},Dr.isNative=function(t){if(As(t))throw new _t("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rn(t)},Dr.isNil=function(t){return null==t},Dr.isNull=function(t){return null===t},Dr.isNumber=ra,Dr.isObject=Xo,Dr.isObjectLike=ta,Dr.isPlainObject=na,Dr.isRegExp=ia,Dr.isSafeInteger=function(t){return Zo(t)&&t>=-f&&t<=f},Dr.isSet=sa,Dr.isString=oa,Dr.isSymbol=aa,Dr.isTypedArray=ca,Dr.isUndefined=function(t){return t===r},Dr.isWeakMap=function(t){return ta(t)&&ps(t)==T},Dr.isWeakSet=function(t){return ta(t)&&"[object WeakSet]"==xn(t)},Dr.join=function(t,e){return null==t?"":Ke.call(t,e)},Dr.kebabCase=qa,Dr.last=$s,Dr.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var s=i;return n!==r&&(s=(s=pa(n))<0?yr(i+s,0):mr(s,i-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,s):Fe(t,qe,s,!0)},Dr.lowerCase=Ga,Dr.lowerFirst=Va,Dr.lt=ua,Dr.lte=la,Dr.max=function(t){return t&&t.length?dn(t,rc,Sn):r},Dr.maxBy=function(t,e){return t&&t.length?dn(t,as(e,2),Sn):r},Dr.mean=function(t){return Ge(t,rc)},Dr.meanBy=function(t,e){return Ge(t,as(e,2))},Dr.min=function(t){return t&&t.length?dn(t,rc,Bn):r},Dr.minBy=function(t,e){return t&&t.length?dn(t,as(e,2),Bn):r},Dr.stubArray=dc,Dr.stubFalse=gc,Dr.stubObject=function(){return{}},Dr.stubString=function(){return""},Dr.stubTrue=function(){return!0},Dr.multiply=bc,Dr.nth=function(t,e){return t&&t.length?Hn(t,pa(e)):r},Dr.noConflict=function(){return pe._===this&&(pe._=Ft),this},Dr.noop=ac,Dr.now=So,Dr.pad=function(t,e,r){t=ma(t);var n=(e=pa(e))?lr(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return qi(ge(i),r)+t+qi(de(i),r)},Dr.padEnd=function(t,e,r){t=ma(t);var n=(e=pa(e))?lr(t):0;return e&&n<e?t+qi(e-n,r):t},Dr.padStart=function(t,e,r){t=ma(t);var n=(e=pa(e))?lr(t):0;return e&&n<e?qi(e-n,r)+t:t},Dr.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),wr(ma(t).replace(it,""),e||0)},Dr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&vs(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=fa(t),e===r?(e=t,t=0):e=fa(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var s=br();return mr(t+s*(e-t+ue("1e-"+((s+"").length-1))),e)}return Wn(t,e)},Dr.reduce=function(t,e,r){var n=qo(t)?je:We,i=arguments.length<3;return n(t,as(e,4),r,i,hn)},Dr.reduceRight=function(t,e,r){var n=qo(t)?Ue:We,i=arguments.length<3;return n(t,as(e,4),r,i,fn)},Dr.repeat=function(t,e,n){return e=(n?vs(t,e,n):e===r)?1:pa(e),$n(ma(t),e)},Dr.replace=function(){var t=arguments,e=ma(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Dr.result=function(t,e,n){var i=-1,s=(e=vi(e,t)).length;for(s||(s=1,t=r);++i<s;){var o=null==t?r:t[js(e[i])];o===r&&(i=s,o=n),t=Qo(o)?o.call(t):o}return t},Dr.round=Ac,Dr.runInContext=t,Dr.sample=function(t){return(qo(t)?Jr:Qn)(t)},Dr.size=function(t){if(null==t)return 0;if(Vo(t))return oa(t)?lr(t):t.length;var e=ps(t);return e==_||e==I?t.size:jn(t).length},Dr.snakeCase=Ka,Dr.some=function(t,e,n){var i=qo(t)?Be:ni;return n&&vs(t,e,n)&&(e=r),i(t,as(e,3))},Dr.sortedIndex=function(t,e){return ii(t,e)},Dr.sortedIndexBy=function(t,e,r){return si(t,e,as(r,2))},Dr.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=ii(t,e);if(n<r&&Mo(t[n],e))return n}return-1},Dr.sortedLastIndex=function(t,e){return ii(t,e,!0)},Dr.sortedLastIndexBy=function(t,e,r){return si(t,e,as(r,2),!0)},Dr.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var r=ii(t,e,!0)-1;if(Mo(t[r],e))return r}return-1},Dr.startCase=Wa,Dr.startsWith=function(t,e,r){return t=ma(t),r=null==r?0:on(pa(r),0,t.length),e=ci(e),t.slice(r,r+e.length)==e},Dr.subtract=Ec,Dr.sum=function(t){return t&&t.length?$e(t,rc):0},Dr.sumBy=function(t,e){return t&&t.length?$e(t,as(e,2)):0},Dr.template=function(t,e,n){var i=Dr.templateSettings;n&&vs(t,e,n)&&(e=r),t=ma(t),e=ba({},e,i,Zi);var s,o,a=ba({},e.imports,i.imports,Zi),c=Na(a),u=Ye(a,c),l=0,h=e.interpolate||bt,f="__p += '",p=Ot((e.escape||bt).source+"|"+h.source+"|"+(h===Y?ft:bt).source+"|"+(e.evaluate||bt).source+"|$","g"),d="//# sourceURL="+(jt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++se+"]")+"\n";t.replace(p,(function(e,r,n,i,a,c){return n||(n=i),f+=t.slice(l,c).replace(At,ir),r&&(s=!0,f+="' +\n__e("+r+") +\n'"),a&&(o=!0,f+="';\n"+a+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=c+e.length,e})),f+="';\n";var g=jt.call(e,"variable")&&e.variable;if(g){if(lt.test(g))throw new _t("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(q,""):f).replace(G,"$1").replace(V,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=Za((function(){return xt(c,d+"return "+f).apply(r,u)}));if(y.source=f,Jo(y))throw y;return y},Dr.times=function(t,e){if((t=pa(t))<1||t>f)return[];var r=d,n=mr(t,d);e=as(e),t-=d;for(var i=Je(n,e);++r<t;)e(r);return i},Dr.toFinite=fa,Dr.toInteger=pa,Dr.toLength=da,Dr.toLower=function(t){return ma(t).toLowerCase()},Dr.toNumber=ga,Dr.toSafeInteger=function(t){return t?on(pa(t),-f,f):0===t?t:0},Dr.toString=ma,Dr.toUpper=function(t){return ma(t).toUpperCase()},Dr.trim=function(t,e,n){if((t=ma(t))&&(n||e===r))return Qe(t);if(!t||!(e=ci(e)))return t;var i=hr(t),s=hr(e);return bi(i,tr(i,s),er(i,s)+1).join("")},Dr.trimEnd=function(t,e,n){if((t=ma(t))&&(n||e===r))return t.slice(0,fr(t)+1);if(!t||!(e=ci(e)))return t;var i=hr(t);return bi(i,0,er(i,hr(e))+1).join("")},Dr.trimStart=function(t,e,n){if((t=ma(t))&&(n||e===r))return t.replace(it,"");if(!t||!(e=ci(e)))return t;var i=hr(t);return bi(i,tr(i,hr(e))).join("")},Dr.truncate=function(t,e){var n=30,i="...";if(Xo(e)){var s="separator"in e?e.separator:s;n="length"in e?pa(e.length):n,i="omission"in e?ci(e.omission):i}var o=(t=ma(t)).length;if(sr(t)){var a=hr(t);o=a.length}if(n>=o)return t;var c=n-lr(i);if(c<1)return i;var u=a?bi(a,0,c).join(""):t.slice(0,c);if(s===r)return u+i;if(a&&(c+=u.length-c),ia(s)){if(t.slice(c).search(s)){var l,h=u;for(s.global||(s=Ot(s.source,ma(pt.exec(s))+"g")),s.lastIndex=0;l=s.exec(h);)var f=l.index;u=u.slice(0,f===r?c:f)}}else if(t.indexOf(ci(s),c)!=c){var p=u.lastIndexOf(s);p>-1&&(u=u.slice(0,p))}return u+i},Dr.unescape=function(t){return(t=ma(t))&&$.test(t)?t.replace(K,pr):t},Dr.uniqueId=function(t){var e=++Ut;return ma(t)+e},Dr.upperCase=$a,Dr.upperFirst=Ja,Dr.each=mo,Dr.eachRight=vo,Dr.first=Gs,oc(Dr,function(){var t={};return wn(Dr,(function(e,r){jt.call(Dr.prototype,r)||(t[r]=e)})),t}(),{chain:!1}),Dr.VERSION="4.17.21",Oe(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Dr[t].placeholder=Dr})),Oe(["drop","take"],(function(t,e){Hr.prototype[t]=function(n){n=n===r?1:yr(pa(n),0);var i=this.__filtered__&&!e?new Hr(this):this.clone();return i.__filtered__?i.__takeCount__=mr(n,i.__takeCount__):i.__views__.push({size:mr(n,d),type:t+(i.__dir__<0?"Right":"")}),i},Hr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Oe(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;Hr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:as(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),Oe(["head","last"],(function(t,e){var r="take"+(e?"Right":"");Hr.prototype[t]=function(){return this[r](1).value()[0]}})),Oe(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");Hr.prototype[t]=function(){return this.__filtered__?new Hr(this):this[r](1)}})),Hr.prototype.compact=function(){return this.filter(rc)},Hr.prototype.find=function(t){return this.filter(t).head()},Hr.prototype.findLast=function(t){return this.reverse().find(t)},Hr.prototype.invokeMap=Jn((function(t,e){return"function"==typeof t?new Hr(this):this.map((function(r){return Cn(r,t,e)}))})),Hr.prototype.reject=function(t){return this.filter(Lo(as(t)))},Hr.prototype.slice=function(t,e){t=pa(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Hr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=pa(e))<0?n.dropRight(-e):n.take(e-t)),n)},Hr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Hr.prototype.toArray=function(){return this.take(d)},wn(Hr.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),s=Dr[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);s&&(Dr.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,c=e instanceof Hr,u=a[0],l=c||qo(e),h=function(t){var e=s.apply(Dr,Le([t],a));return i&&f?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var f=this.__chain__,p=!!this.__actions__.length,d=o&&!f,g=c&&!p;if(!o&&l){e=g?e:new Hr(this);var y=t.apply(e,a);return y.__actions__.push({func:ho,args:[h],thisArg:r}),new zr(y,f)}return d&&g?t.apply(this,a):(y=this.thru(h),d?i?y.value()[0]:y.value():y)})})),Oe(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Nt[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Dr.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(qo(i)?i:[],t)}return this[r]((function(r){return e.apply(qo(r)?r:[],t)}))}})),wn(Hr.prototype,(function(t,e){var r=Dr[e];if(r){var n=r.name+"";jt.call(Cr,n)||(Cr[n]=[]),Cr[n].push({name:e,func:r})}})),Cr[Mi(r,2).name]=[{name:"wrapper",func:r}],Hr.prototype.clone=function(){var t=new Hr(this.__wrapped__);return t.__actions__=Ii(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ii(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ii(this.__views__),t},Hr.prototype.reverse=function(){if(this.__filtered__){var t=new Hr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Hr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=qo(t),n=e<0,i=r?t.length:0,s=function(t,e,r){for(var n=-1,i=r.length;++n<i;){var s=r[n],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=mr(e,t+o);break;case"takeRight":t=yr(t,e-o)}}return{start:t,end:e}}(0,i,this.__views__),o=s.start,a=s.end,c=a-o,u=n?a:o-1,l=this.__iteratees__,h=l.length,f=0,p=mr(c,this.__takeCount__);if(!r||!n&&i==c&&p==c)return pi(t,this.__actions__);var d=[];t:for(;c--&&f<p;){for(var g=-1,y=t[u+=e];++g<h;){var m=l[g],v=m.iteratee,w=m.type,b=v(y);if(2==w)y=b;else if(!b){if(1==w)continue t;break t}}d[f++]=y}return d},Dr.prototype.at=fo,Dr.prototype.chain=function(){return lo(this)},Dr.prototype.commit=function(){return new zr(this.value(),this.__chain__)},Dr.prototype.next=function(){this.__values__===r&&(this.__values__=ha(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},Dr.prototype.plant=function(t){for(var e,n=this;n instanceof Fr;){var i=Bs(n);i.__index__=0,i.__values__=r,e?s.__wrapped__=i:e=i;var s=i;n=n.__wrapped__}return s.__wrapped__=t,e},Dr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hr){var e=t;return this.__actions__.length&&(e=new Hr(this)),(e=e.reverse()).__actions__.push({func:ho,args:[Ys],thisArg:r}),new zr(e,this.__chain__)}return this.thru(Ys)},Dr.prototype.toJSON=Dr.prototype.valueOf=Dr.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Dr.prototype.first=Dr.prototype.head,Zt&&(Dr.prototype[Zt]=function(){return this}),Dr}();ge?((ge.exports=dr)._=dr,de._=dr):pe._=dr}).call(mc)}(vc,vc.exports);var wc=Object.defineProperty,bc=Object.defineProperties,Ac=Object.getOwnPropertyDescriptors,Ec=Object.getOwnPropertySymbols,_c=Object.prototype.hasOwnProperty,xc=Object.prototype.propertyIsEnumerable,Sc=(t,e,r)=>e in t?wc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pc=(t,e)=>{for(var r in e||(e={}))_c.call(e,r)&&Sc(t,r,e[r]);if(Ec)for(var r of Ec(e))xc.call(e,r)&&Sc(t,r,e[r]);return t},Oc=(t,e)=>bc(t,Ac(e));function Ic(t,e,r){let n;const i=Cc(t);return e.rpcMap&&(n=e.rpcMap[i]),n||(n=`https://rpc.walletconnect.com/v1?chainId=eip155:${i}&projectId=${r}`),n}function Cc(t){return t.includes("eip155")?Number(t.split(":")[1]):Number(t)}function Nc(t){var e,r,n,i;const s={};if(!ln(t))return s;for(const[o,a]of Object.entries(t)){const t=rn(o)?[o]:a.chains,c=a.methods||[],u=a.events||[],l=a.rpcMap||{},h=nn(o);s[h]=Oc(Pc(Pc({},s[h]),a),{chains:Gr(t,null==(e=s[h])?void 0:e.chains),methods:Gr(c,null==(r=s[h])?void 0:r.methods),events:Gr(u,null==(n=s[h])?void 0:n.events),rpcMap:Pc(Pc({},l),null==(i=s[h])?void 0:i.rpcMap)})}return s}const Tc={},kc=t=>Tc[t],Rc=(t,e)=>{Tc[t]=e};class Lc{constructor(t){this.name="polkadot",this.namespace=t.namespace,this.events=kc("events"),this.client=kc("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(this.chainId=t,!this.httpProviders[t]){const r=e||Ic(`${this.name}:${t}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.events.emit(yc,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t&&t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2]))||[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;t[e]=this.createHttpProvider(e,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||Ic(t,this.namespace);return typeof r>"u"?void 0:new ji(new pc(r,kc("disableProviderPing")))}}class jc{constructor(t){this.name="eip155",this.namespace=t.namespace,this.events=kc("events"),this.client=kc("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){var e;switch(t.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return this.handleSwitchChain(t.request.params?null==(e=t.request.params[0])?void 0:e.chainId:"0x0"),null;case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,e){const r=Cc(t);if(!this.httpProviders[r]){const t=e||Ic(`${this.name}:${r}`,this.namespace,this.client.core.projectId);if(!t)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,t)}this.chainId=r,this.events.emit(yc,`${this.name}:${r}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,e){const r=e||Ic(`${this.name}:${t}`,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new ji(new fc(r,kc("disableProviderPing")))}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const n=Cc(e);t[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}getHttpProvider(){const t=this.chainId,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}handleSwitchChain(t){const e=parseInt(t,16);(function(t,e){if(!e.includes(t))throw new Error(`Chain '${t}' not approved. Please use one of the following: ${e.toString()}`)})(`${this.name}:${e}`,this.namespace.chains),this.setDefaultChain(`${e}`)}}class Uc{constructor(t){this.name="solana",this.namespace=t.namespace,this.events=kc("events"),this.client=kc("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(!this.httpProviders[t]){const r=e||Ic(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.chainId=t,this.events.emit(yc,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;t[e]=this.createHttpProvider(e,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||Ic(t,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new ji(new pc(r,kc("disableProviderPing")))}}class Bc{constructor(t){this.name="cosmos",this.namespace=t.namespace,this.events=kc("events"),this.client=kc("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(this.chainId=t,!this.httpProviders[t]){const r=e||Ic(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.events.emit(yc,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;t[e]=this.createHttpProvider(e,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||Ic(t,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new ji(new pc(r,kc("disableProviderPing")))}}class Dc{constructor(t){this.name="cip34",this.namespace=t.namespace,this.events=kc("events"),this.client=kc("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(this.chainId=t,!this.httpProviders[t]){const r=e||this.getCardanoRPCUrl(t);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.events.emit(yc,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{const r=this.getCardanoRPCUrl(e);t[e]=this.createHttpProvider(e,r)})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}getCardanoRPCUrl(t){const e=this.namespace.rpcMap;if(e)return e[t]}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||this.getCardanoRPCUrl(t);return typeof r>"u"?void 0:new ji(new pc(r,kc("disableProviderPing")))}}class Mc{constructor(t){this.name="elrond",this.namespace=t.namespace,this.events=kc("events"),this.client=kc("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(!this.httpProviders[t]){const r=e||Ic(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.chainId=t,this.events.emit(yc,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;t[e]=this.createHttpProvider(e,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||Ic(t,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new ji(new pc(r,kc("disableProviderPing")))}}class Fc{constructor(t){this.name="multiversx",this.namespace=t.namespace,this.events=kc("events"),this.client=kc("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(!this.httpProviders[t]){const r=e||Ic(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.chainId=t,this.events.emit(yc,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;t[e]=this.createHttpProvider(e,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||Ic(t,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new ji(new pc(r,kc("disableProviderPing")))}}var zc=Object.defineProperty,Hc=Object.defineProperties,qc=Object.getOwnPropertyDescriptors,Gc=Object.getOwnPropertySymbols,Vc=Object.prototype.hasOwnProperty,Kc=Object.prototype.propertyIsEnumerable,Wc=(t,e,r)=>e in t?zc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$c=(t,e)=>{for(var r in e||(e={}))Vc.call(e,r)&&Wc(t,r,e[r]);if(Gc)for(var r of Gc(e))Kc.call(e,r)&&Wc(t,r,e[r]);return t},Jc=(t,e)=>Hc(t,qc(e));class Qc{constructor(t){this.events=new(X()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=t,this.logger=typeof t?.logger<"u"&&"string"!=typeof t?.logger?t.logger:(0,Cn.pino)((0,Cn.getDefaultLoggerOptions)({level:t?.logger||dc})),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){const e=new Qc(t);return await e.initialize(),e}async request(t,e){const[r,n]=this.validateChain(e);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(r).request({request:$c({},t),chainId:`${r}:${n}`,topic:this.session.topic})}sendAsync(t,e,r){this.request(t,r).then((t=>e(null,t))).catch((t=>e(t,void 0)))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(t=this.session)?void 0:t.topic,reason:cn("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}removeListener(t,e){this.events.removeListener(t,e)}off(t,e){this.events.off(t,e)}get isWalletConnect(){return!0}async pair(t){this.shouldAbortPairingAttempt=!1;let e=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(e>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:r,approval:n}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});r&&(this.uri=r,this.events.emit("display_uri",r)),await n().then((t=>{this.session=t})).catch((t=>{if(t.message!==Ga)throw t;e++}))}while(!this.session);return this.onConnect(),this.session}setDefaultChain(t,e){try{const[r,n]=this.validateChain(t);this.getProvider(r).setDefaultChain(n,e)}catch(Un){if(!/Please call connect/.test(Un.message))throw Un}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const e=this.client.pairing.getAll();if(un(e)){for(const r of e)t.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${e.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const t=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[t]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await cc.init({logger:this.providerOpts.logger||dc,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map((t=>nn(t))))];Rc("client",this.client),Rc("events",this.events),Rc("disableProviderPing",this.disableProviderPing),t.forEach((t=>{if(!this.session)return;const e=function(t,e){const r=Object.keys(e.namespaces).filter((e=>e.includes(t)));if(!r.length)return[];const n=[];return r.forEach((t=>{const r=e.namespaces[t].accounts;n.push(...r)})),n}(t,this.session),r=function(t){return t.map((t=>`${t.split(":")[0]}:${t.split(":")[1]}`))}(e),n=function(t,e={}){const r=Nc(t),n=Nc(e);return vc.exports.merge(r,n)}(this.namespaces,this.optionalNamespaces),i=Jc($c({},n[t]),{accounts:e,chains:r});switch(t){case"eip155":this.rpcProviders[t]=new jc({namespace:i});break;case"solana":this.rpcProviders[t]=new Uc({namespace:i});break;case"cosmos":this.rpcProviders[t]=new Bc({namespace:i});break;case"polkadot":this.rpcProviders[t]=new Lc({namespace:i});break;case"cip34":this.rpcProviders[t]=new Dc({namespace:i});break;case"elrond":this.rpcProviders[t]=new Mc({namespace:i});break;case"multiversx":this.rpcProviders[t]=new Fc({namespace:i})}}))}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",(t=>{this.events.emit("session_ping",t)})),this.client.on("session_event",(t=>{const{params:e}=t,{event:r}=e;"accountsChanged"===r.name?this.events.emit("accountsChanged",r.data):"chainChanged"===r.name?this.onChainChanged(e.chainId):this.events.emit(r.name,r.data),this.events.emit("session_event",t)})),this.client.on("session_update",(({topic:t,params:e})=>{var r;const{namespaces:n}=e,i=null==(r=this.client)?void 0:r.session.get(t);this.session=Jc($c({},i),{namespaces:n}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:e})})),this.client.on("session_delete",(async t=>{await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",Jc($c({},cn("USER_DISCONNECTED")),{data:t.topic}))})),this.on(yc,(t=>{this.onChainChanged(t,!0)}))}getProvider(t){if(!this.rpcProviders[t])throw new Error(`Provider not found: ${t}`);return this.rpcProviders[t]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach((t=>{var e;this.getProvider(t).updateNamespace(null==(e=this.session)?void 0:e.namespaces[t])}))}setNamespaces(t){const{namespaces:e,optionalNamespaces:r,sessionProperties:n}=t;if(!e||!Object.keys(e).length)throw new Error("Namespaces must be not empty");this.namespaces=e,this.optionalNamespaces=r,this.sessionProperties=n,this.persist("namespaces",e),this.persist("optionalNamespaces",r)}validateChain(t){const[e,r]=t?.split(":")||["",""];if(e&&!Object.keys(this.namespaces).map((t=>nn(t))).includes(e))throw new Error(`Namespace '${e}' is not configured. Please call connect() first with namespace config.`);if(e&&r)return[e,r];const n=nn(Object.keys(this.namespaces)[0]);return[n,this.rpcProviders[n].getDefaultChain()]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}onChainChanged(t,e=!1){var r;const[n,i]=this.validateChain(t);e||this.getProvider(n).setDefaultChain(i),(null!=(r=this.namespaces[n])?r:this.namespaces[`${n}:${i}`]).defaultChain=i,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",i)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0})}persist(t,e){this.client.core.storage.setItem(`${gc}/${t}`,e)}async getFromStore(t){return await this.client.core.storage.getItem(`${gc}/${t}`)}}const Zc=Qc,Yc=["eth_sendTransaction","personal_sign"],Xc=["chainChanged","accountsChanged"];var tu=Object.defineProperty,eu=Object.defineProperties,ru=Object.getOwnPropertyDescriptors,nu=Object.getOwnPropertySymbols,iu=Object.prototype.hasOwnProperty,su=Object.prototype.propertyIsEnumerable,ou=(t,e,r)=>e in t?tu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,au=(t,e)=>{for(var r in e||(e={}))iu.call(e,r)&&ou(t,r,e[r]);if(nu)for(var r of nu(e))su.call(e,r)&&ou(t,r,e[r]);return t},cu=(t,e)=>eu(t,ru(e));function uu(t){return Number(t[0].split(":")[1])}function lu(t){return`0x${t.toString(16)}`}class hu{constructor(){this.events=new Y.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(t,e)=>(this.events.on(t,e),this),this.once=(t,e)=>(this.events.once(t,e),this),this.removeListener=(t,e)=>(this.events.removeListener(t,e),this),this.off=(t,e)=>(this.events.off(t,e),this),this.parseAccount=t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t,this.signer={},this.rpc={}}static async init(t){const e=new hu;return await e.initialize(t),e}async request(t){return await this.signer.request(t,this.formatChainId(this.chainId))}sendAsync(t,e){this.signer.sendAsync(t,e,this.formatChainId(this.chainId))}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);const{required:e,optional:r}=function(t){const{chains:e,optionalChains:r,methods:n,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=t;if(!un(e))throw new Error("Invalid chains");const c=e,u=n||Yc,l=s||Xc,h={chains:c,methods:u,events:l,rpcMap:{[uu(c)]:a[uu(c)]}},f=s?.filter((t=>!Xc.includes(t))),p=n?.filter((t=>!Yc.includes(t)));return r||o||i||null!=f&&f.length||null!=p&&p.length?{required:h,optional:{chains:[...new Set(f?.length&&p?.length||!r?c.concat(r||[]):r)],methods:[...new Set(u.concat(i||[]))],events:[...new Set(l.concat(o||[]))],rpcMap:a}}:{required:h}}(this.rpc);try{const n=await new Promise((async(n,i)=>{var s;this.rpc.showQrModal&&(null==(s=this.modal)||s.subscribeModal((t=>{!t.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),i(new Error("Connection request reset. Please try again.")))}))),await this.signer.connect(cu(au({namespaces:{[this.namespace]:e}},r&&{optionalNamespaces:{[this.namespace]:r}}),{pairingTopic:t?.pairingTopic})).then((t=>{n(t)})).catch((t=>{i(new Error(t.message))}))}));if(!n)return;this.setChainIds(this.rpc.chains);const i=function(t,e=[]){const r=[];return Object.keys(t).forEach((n=>{if(e.length&&!e.includes(n))return;const i=t[n];r.push(...i.accounts)})),r}(n.namespaces,[this.namespace]);this.setAccounts(i),this.events.emit("connect",{chainId:lu(this.chainId)})}catch(n){throw this.signer.logger.error(n),n}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",(t=>{const{params:e}=t,{event:r}=e;"accountsChanged"===r.name?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===r.name?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",t)})),this.signer.on("chainChanged",(t=>{const e=parseInt(t);this.chainId=e,this.events.emit("chainChanged",lu(this.chainId)),this.persist()})),this.signer.on("session_update",(t=>{this.events.emit("session_update",t)})),this.signer.on("session_delete",(t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",cu(au({},cn("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))})),this.signer.on("display_uri",(t=>{var e,r;this.rpc.showQrModal&&(null==(e=this.modal)||e.closeModal(),null==(r=this.modal)||r.openModal({uri:t})),this.events.emit("display_uri",t)}))}setHttpProvider(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return"string"==typeof t&&t.startsWith(`${this.namespace}:`)}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){const e=t.filter((t=>this.isCompatibleChainId(t))).map((t=>this.parseChainId(t)));e.length&&(this.chainId=e[0],this.events.emit("chainChanged",lu(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const e=this.parseChainId(t);this.chainId=e,this.setHttpProvider(e)}}parseAccountId(t){const[e,r,n]=t.split(":");return{chainId:`${e}:${r}`,address:n}}setAccounts(t){this.accounts=t.filter((t=>this.parseChainId(this.parseAccountId(t).chainId)===this.chainId)).map((t=>this.parseAccountId(t).address)),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var e,r;return{chains:(null==(e=t.chains)?void 0:e.map((t=>this.formatChainId(t))))||[`${this.namespace}:1`],optionalChains:t.optionalChains?t.optionalChains.map((t=>this.formatChainId(t))):void 0,methods:t?.methods||Yc,events:t?.events||Xc,optionalMethods:t?.optionalMethods||[],optionalEvents:t?.optionalEvents||[],rpcMap:t?.rpcMap||this.buildRpcMap(t.chains.concat(t.optionalChains||[]),t.projectId),showQrModal:!(null==t||!t.showQrModal),qrModalOptions:null!=(r=t?.qrModalOptions)?r:void 0,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,e){const r={};return t.forEach((t=>{r[t]=this.getRpcUrl(t,e)})),r}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=uu(this.rpc.chains),this.signer=await Zc.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let t;try{const{WalletConnectModal:e}=await r.e(58).then(r.bind(r,6058));t=e}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(t)try{this.modal=new t(au({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains},this.rpc.qrModalOptions))}catch(e){throw this.signer.logger.error(e),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;const{chains:e,optionalChains:r,rpcMap:n}=t;e&&un(e)&&(this.rpc.chains=e.map((t=>this.formatChainId(t))),e.forEach((t=>{this.rpc.rpcMap[t]=n?.[t]||this.getRpcUrl(t)}))),r&&un(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map((t=>this.formatChainId(t))),r.forEach((t=>{this.rpc.rpcMap[t]=n?.[t]||this.getRpcUrl(t)})))}getRpcUrl(t,e){var r;return(null==(r=this.rpc.rpcMap)?void 0:r[t])||`https://rpc.walletconnect.com/v1/?chainId=eip155:${t}&projectId=${e||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`);this.setChainIds(t?[this.formatChainId(t)]:this.session.namespaces[this.namespace].accounts),this.setAccounts(this.session.namespaces[this.namespace].accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return"string"==typeof t||t instanceof String?[this.parseAccount(t)]:t.map((t=>this.parseAccount(t)))}}const fu="6.5.1";function pu(t,e,r){const n=e.split("|").map((t=>t.trim()));for(let s=0;s<n.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=t,i}async function du(t){const e=Object.keys(t),r=await Promise.all(e.map((e=>Promise.resolve(t[e]))));return r.reduce(((t,r,n)=>(t[e[n]]=r,t)),{})}function gu(t,e,r){for(let n in e){let i=e[n];const s=r?r[n]:null;s&&pu(i,s,n),Object.defineProperty(t,n,{enumerable:!0,value:i,writable:!1})}}function yu(t){if(null==t)return"null";if(Array.isArray(t))return"[ "+t.map(yu).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let r="0x";for(let n=0;n<t.length;n++)r+=e[t[n]>>4],r+=e[15&t[n]];return r}if("object"==typeof t&&"function"==typeof t.toJSON)return yu(t.toJSON());switch(typeof t){case"boolean":case"symbol":case"number":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map((e=>`${yu(e)}: ${yu(t[e])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function mu(t,e){return t&&t.code===e}function vu(t){return mu(t,"CALL_EXCEPTION")}function wu(t,e,r){{const n=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${yu(r)}`);for(const t in r){const e=r[t];n.push(t+"="+yu(e))}}n.push(`code=${e}`),n.push(`version=${fu}`),n.length&&(t+=" ("+n.join(", ")+")")}let n;switch(e){case"INVALID_ARGUMENT":n=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=new RangeError(t);break;default:n=new Error(t)}return gu(n,{code:e}),r&&Object.assign(n,r),n}function bu(t,e,r,n){if(!t)throw wu(e,r,n)}function Au(t,e,r,n){bu(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function Eu(t,e,r){null==r&&(r=""),r&&(r=": "+r),bu(t>=e,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),bu(t<=e,"too many arguemnts"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}const _u=["NFD","NFC","NFKD","NFKC"].reduce(((t,e)=>{try{if("test"!=="test".normalize(e))throw new Error("bad");if("NFD"===e){const t=String.fromCharCode(233).normalize("NFD");if(t!==String.fromCharCode(101,769))throw new Error("broken")}t.push(e)}catch(r){}return t}),[]);function xu(t,e,r){if(null==r&&(r=""),t!==e){let t=r,e="new";r&&(t+=".",e+=" "+r),bu(!1,`private constructor; use ${t}from* methods`,"UNSUPPORTED_OPERATION",{operation:e})}}function Su(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if("string"==typeof t&&t.match(/^0x([0-9a-f][0-9a-f])*$/i)){const e=new Uint8Array((t.length-2)/2);let r=2;for(let n=0;n<e.length;n++)e[n]=parseInt(t.substring(r,r+2),16),r+=2;return e}Au(!1,"invalid BytesLike value",e||"value",t)}function Pu(t,e){return Su(t,e,!1)}function Ou(t,e){return Su(t,e,!0)}function Iu(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!=typeof e||t.length===2+2*e)&&(!0!==e||t.length%2==0))}const Cu="0123456789abcdef";function Nu(t){const e=Pu(t);let r="0x";for(let n=0;n<e.length;n++){const t=e[n];r+=Cu[(240&t)>>4]+Cu[15&t]}return r}function Tu(t){return"0x"+t.map((t=>Nu(t).substring(2))).join("")}function ku(t){return Iu(t,!0)?(t.length-2)/2:Pu(t).length}function Ru(t,e,r){const n=Pu(t);return null!=r&&r>n.length&&bu(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),Nu(n.slice(null==e?0:e,null==r?n.length:r))}function Lu(t,e,r){const n=Pu(t);bu(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),r?i.set(n,e-n.length):i.set(n,0),Nu(i)}function ju(t,e){return Lu(t,e,!0)}const Uu=BigInt(0),Bu=BigInt(1),Du=9007199254740991;function Mu(t,e){let r=zu(t,"value");const n=BigInt(Vu(e,"width")),i=Bu<<n-Bu;if(r<Uu){r=-r,bu(r<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return(~r&(Bu<<n)-Bu)+Bu}return bu(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t}),r}function Fu(t,e){const r=Hu(t,"value"),n=BigInt(Vu(e,"bits"));return r&(Bu<<n)-Bu}function zu(t,e){switch(typeof t){case"bigint":return t;case"number":return Au(Number.isInteger(t),"underflow",e||"value",t),Au(t>=-Du&&t<=Du,"overflow",e||"value",t),BigInt(t);case"string":try{if(""===t)throw new Error("empty string");return"-"===t[0]&&"-"!==t[1]?-BigInt(t.substring(1)):BigInt(t)}catch(r){Au(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}Au(!1,"invalid BigNumberish value",e||"value",t)}function Hu(t,e){const r=zu(t,e);return bu(r>=Uu,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const qu="0123456789abcdef";function Gu(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=qu[r>>4],e+=qu[15&r];return BigInt(e)}return zu(t)}function Vu(t,e){switch(typeof t){case"bigint":return Au(t>=-Du&&t<=Du,"overflow",e||"value",t),Number(t);case"number":return Au(Number.isInteger(t),"underflow",e||"value",t),Au(t>=-Du&&t<=Du,"overflow",e||"value",t),t;case"string":try{if(""===t)throw new Error("empty string");return Vu(BigInt(t),e)}catch(r){Au(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}Au(!1,"invalid numeric value",e||"value",t)}function Ku(t,e){let r=Hu(t,"value").toString(16);if(null==e)r.length%2&&(r="0"+r);else{const n=Vu(e,"width");for(bu(2*n>=r.length,`value exceeds width (${n} bits)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<2*n;)r="0"+r}return"0x"+r}function Wu(t){const e=Hu(t,"value");if(e===Uu)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){const t=2*i;n[i]=parseInt(r.substring(t,t+2),16)}return n}function $u(t){let e=Nu(function(t){return Iu(t,!0)||t instanceof Uint8Array}(t)?t:Wu(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return""===e&&(e="0"),"0x"+e}const Ju=32,Qu=new Uint8Array(Ju),Zu=["then"],Yu={};function Xu(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}class tl extends Array{#t;constructor(...t){const e=t[0];let r=t[1],n=(t[2]||[]).slice(),i=!0;e!==Yu&&(r=t,n=[],i=!1),super(r.length),r.forEach(((t,e)=>{this[e]=t}));const s=n.reduce(((t,e)=>("string"==typeof e&&t.set(e,(t.get(e)||0)+1),t)),new Map);if(this.#t=Object.freeze(r.map(((t,e)=>{const r=n[e];return null!=r&&1===s.get(r)?r:null}))),i)return Object.freeze(this),new Proxy(this,{get:(t,e,r)=>{if("string"==typeof e){if(e.match(/^[0-9]+$/)){const r=Vu(e,"%index");if(r<0||r>=this.length)throw new RangeError("out of result range");const n=t[r];return n instanceof Error&&Xu(`index ${r}`,n),n}if(Zu.indexOf(e)>=0)return Reflect.get(t,e,r);const n=t[e];if(n instanceof Function)return function(...e){return n.apply(this===r?t:this,e)};if(!(e in t))return t.getValue.apply(this===r?t:this,[e])}return Reflect.get(t,e,r)}})}toArray(){const t=[];return this.forEach(((e,r)=>{e instanceof Error&&Xu(`index ${r}`,e),t.push(e)})),t}toObject(){return this.#t.reduce(((t,e,r)=>(bu(null!=e,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),e in t||(t[e]=this.getValue(e)),t)),{})}slice(t,e){null==t&&(t=0),t<0&&(t+=this.length)<0&&(t=0),null==e&&(e=this.length),e<0&&(e+=this.length)<0&&(e=0),e>this.length&&(e=this.length);const r=[],n=[];for(let i=t;i<e;i++)r.push(this[i]),n.push(this.#t[i]);return new tl(Yu,r,n)}filter(t,e){const r=[],n=[];for(let i=0;i<this.length;i++){const s=this[i];s instanceof Error&&Xu(`index ${i}`,s),t.call(e,s,i,this)&&(r.push(s),n.push(this.#t[i]))}return new tl(Yu,r,n)}map(t,e){const r=[];for(let n=0;n<this.length;n++){const i=this[n];i instanceof Error&&Xu(`index ${n}`,i),r.push(t.call(e,i,n,this))}return r}getValue(t){const e=this.#t.indexOf(t);if(-1===e)return;const r=this[e];return r instanceof Error&&Xu(`property ${JSON.stringify(t)}`,r.error),r}static fromItems(t,e){return new tl(Yu,t,e)}}function el(t){let e=Wu(t);return bu(e.length<=Ju,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Ju,offset:e.length}),e.length!==Ju&&(e=Ou(Tu([Qu.slice(e.length%Ju),e]))),e}class rl{name;type;localName;dynamic;constructor(t,e,r,n){gu(this,{name:t,type:e,localName:r,dynamic:n},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){Au(!1,t,this.localName,e)}}class nl{#e;#r;constructor(){this.#e=[],this.#r=0}get data(){return Tu(this.#e)}get length(){return this.#r}#n(t){return this.#e.push(t),this.#r+=t.length,t.length}appendWriter(t){return this.#n(Ou(t.data))}writeBytes(t){let e=Ou(t);const r=e.length%Ju;return r&&(e=Ou(Tu([e,Qu.slice(r)]))),this.#n(e)}writeValue(t){return this.#n(el(t))}writeUpdatableValue(){const t=this.#e.length;return this.#e.push(Qu),this.#r+=Ju,e=>{this.#e[t]=el(e)}}}class il{allowLoose;#e;#i;constructor(t,e){gu(this,{allowLoose:!!e}),this.#e=Ou(t),this.#i=0}get data(){return Nu(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#i}get bytes(){return new Uint8Array(this.#e)}#s(t,e,r){let n=Math.ceil(e/Ju)*Ju;return this.#i+n>this.#e.length&&(this.allowLoose&&r&&this.#i+e<=this.#e.length?n=e:bu(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Ou(this.#e),length:this.#e.length,offset:this.#i+n})),this.#e.slice(this.#i,this.#i+n)}subReader(t){return new il(this.#e.slice(this.#i+t),this.allowLoose)}readBytes(t,e){let r=this.#s(0,t,!!e);return this.#i+=r.length,r.slice(0,t)}readValue(){return Gu(this.readBytes(Ju))}readIndex(){return Vu(Gu(this.readBytes(Ju)))}}function sl(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function ol(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}const al={number:sl,bool:function(t){if("boolean"!=typeof t)throw new Error(`Expected boolean, not ${t}`)},bytes:ol,hash:function(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");sl(t.outputLen),sl(t.blockLen)},exists:function(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")},output:function(t,e){ol(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}};var cl=al;const ul=BigInt(2**32-1),ll=BigInt(32);function hl(t,e=!1){return e?{h:Number(t&ul),l:Number(t>>ll&ul)}:{h:0|Number(t>>ll&ul),l:0|Number(t&ul)}}const fl={fromBig:hl,split:function(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=hl(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]},toBig:(t,e)=>BigInt(t>>>0)<<ll|BigInt(e>>>0),shrSH:(t,e,r)=>t>>>r,shrSL:(t,e,r)=>t<<32-r|e>>>r,rotrSH:(t,e,r)=>t>>>r|e<<32-r,rotrSL:(t,e,r)=>t<<32-r|e>>>r,rotrBH:(t,e,r)=>t<<64-r|e>>>r-32,rotrBL:(t,e,r)=>t>>>r-32|e<<64-r,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:(t,e,r)=>t<<r|e>>>32-r,rotlSL:(t,e,r)=>e<<r|t>>>32-r,rotlBH:(t,e,r)=>e<<r-32|t>>>64-r,rotlBL:(t,e,r)=>t<<r-32|e>>>64-r,add:function(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:0|i}},add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,n)=>e+r+n+(t/2**32|0)|0,add4L:(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H:(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,add5H:(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,add5L:(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};var pl=fl;"object"==typeof self&&"crypto"in self&&self.crypto;const dl=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),gl=(t,e)=>t<<32-e|t>>>e;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function yl(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}class ml{clone(){return this._cloneInto()}}function vl(t){const e=e=>t().update(yl(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}const[wl,bl,Al]=[[],[],[]],El=BigInt(0),_l=BigInt(1),xl=BigInt(2),Sl=BigInt(7),Pl=BigInt(256),Ol=BigInt(113);for(let R_=0,L_=_l,j_=1,U_=0;R_<24;R_++){[j_,U_]=[U_,(2*j_+3*U_)%5],wl.push(2*(5*U_+j_)),bl.push((R_+1)*(R_+2)/2%64);let t=El;for(let e=0;e<7;e++)L_=(L_<<_l^(L_>>Sl)*Ol)%Pl,L_&xl&&(t^=_l<<(_l<<BigInt(e))-_l);Al.push(t)}const[Il,Cl]=pl.split(Al,!0),Nl=(t,e,r)=>r>32?pl.rotlBH(t,e,r):pl.rotlSH(t,e,r),Tl=(t,e,r)=>r>32?pl.rotlBL(t,e,r):pl.rotlSL(t,e,r);class kl extends ml{constructor(t,e,r,n=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,cl.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){!function(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let n=0;n<10;n++)r[n]=t[n]^t[n+10]^t[n+20]^t[n+30]^t[n+40];for(let n=0;n<10;n+=2){const e=(n+8)%10,i=(n+2)%10,s=r[i],o=r[i+1],a=Nl(s,o,1)^r[e],c=Tl(s,o,1)^r[e+1];for(let r=0;r<50;r+=10)t[n+r]^=a,t[n+r+1]^=c}let e=t[2],i=t[3];for(let r=0;r<24;r++){const n=bl[r],s=Nl(e,i,n),o=Tl(e,i,n),a=wl[r];e=t[a],i=t[a+1],t[a]=s,t[a+1]=o}for(let n=0;n<50;n+=10){for(let e=0;e<10;e++)r[e]=t[n+e];for(let e=0;e<10;e++)t[n+e]^=~r[(e+2)%10]&r[(e+4)%10]}t[0]^=Il[n],t[1]^=Cl[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){cl.exists(this);const{blockLen:e,state:r}=this,n=(t=yl(t)).length;for(let i=0;i<n;){const s=Math.min(e-this.pos,n-i);for(let e=0;e<s;e++)r[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,0!=(128&e)&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){cl.exists(this,!1),cl.bytes(t),this.finish();const e=this.state,{blockLen:r}=this;for(let n=0,i=t.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);t.set(e.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return cl.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(cl.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return t||(t=new kl(e,r,n,s,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=n,t.enableXOF=s,t.destroyed=this.destroyed,t}}const Rl=(t,e,r)=>vl((()=>new kl(e,t,r))),Ll=(Rl(6,144,28),Rl(6,136,32),Rl(6,104,48),Rl(6,72,64),Rl(1,144,28),Rl(1,136,32)),jl=(Rl(1,104,48),Rl(1,72,64),(t,e,r)=>function(t){const e=(e,r)=>t(r).update(yl(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e}(((n={})=>new kl(e,t,void 0===n.dkLen?r:n.dkLen,!0))));jl(31,168,16),jl(31,136,32);let Ul=!1;const Bl=function(t){return Ll(t)};let Dl=Bl;function Ml(t){const e=Pu(t,"data");return Nu(Dl(e))}Ml._=Bl,Ml.lock=function(){Ul=!0},Ml.register=function(t){if(Ul)throw new TypeError("keccak256 is locked");Dl=t},Object.freeze(Ml);const Fl=BigInt(0),zl=BigInt(36);function Hl(t){const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Pu(Ml(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(15&n[i>>1])>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const ql={};for(let R_=0;R_<10;R_++)ql[String(R_)]=String(R_);for(let R_=0;R_<26;R_++)ql[String.fromCharCode(65+R_)]=String(10+R_);const Gl=15;function Vl(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>ql[t])).join("");for(;e.length>=Gl;){let t=e.substring(0,Gl);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const Kl=function(){const t={};for(let e=0;e<36;e++){t["0123456789abcdefghijklmnopqrstuvwxyz"[e]]=BigInt(e)}return t}();function Wl(t){if(Au("string"==typeof t,"invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=Hl(t);return Au(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Au(t.substring(2,4)===Vl(t),"bad icap checksum","address",t);let e=function(t){t=t.toLowerCase();let e=Fl;for(let r=0;r<t.length;r++)e=e*zl+Kl[t[r]];return e}(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return Hl("0x"+e)}Au(!1,"invalid address","address",t)}const $l={};function Jl(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new Yl($l,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function Ql(t,e){return new Yl($l,`bytes${e||""}`,t,{size:e})}const Zl=Symbol.for("_ethers_typed");class Yl{type;value;#o;_typedSymbol;constructor(t,e,r,n){null==n&&(n=null),xu($l,t,"Typed"),gu(this,{_typedSymbol:Zl,type:e,value:r}),this.#o=n,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((t=>t.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#o}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#o?-1:!1===this.#o?this.value.length:null}static from(t,e){return new Yl($l,t,e)}static uint8(t){return Jl(t,8)}static uint16(t){return Jl(t,16)}static uint24(t){return Jl(t,24)}static uint32(t){return Jl(t,32)}static uint40(t){return Jl(t,40)}static uint48(t){return Jl(t,48)}static uint56(t){return Jl(t,56)}static uint64(t){return Jl(t,64)}static uint72(t){return Jl(t,72)}static uint80(t){return Jl(t,80)}static uint88(t){return Jl(t,88)}static uint96(t){return Jl(t,96)}static uint104(t){return Jl(t,104)}static uint112(t){return Jl(t,112)}static uint120(t){return Jl(t,120)}static uint128(t){return Jl(t,128)}static uint136(t){return Jl(t,136)}static uint144(t){return Jl(t,144)}static uint152(t){return Jl(t,152)}static uint160(t){return Jl(t,160)}static uint168(t){return Jl(t,168)}static uint176(t){return Jl(t,176)}static uint184(t){return Jl(t,184)}static uint192(t){return Jl(t,192)}static uint200(t){return Jl(t,200)}static uint208(t){return Jl(t,208)}static uint216(t){return Jl(t,216)}static uint224(t){return Jl(t,224)}static uint232(t){return Jl(t,232)}static uint240(t){return Jl(t,240)}static uint248(t){return Jl(t,248)}static uint256(t){return Jl(t,256)}static uint(t){return Jl(t,256)}static int8(t){return Jl(t,-8)}static int16(t){return Jl(t,-16)}static int24(t){return Jl(t,-24)}static int32(t){return Jl(t,-32)}static int40(t){return Jl(t,-40)}static int48(t){return Jl(t,-48)}static int56(t){return Jl(t,-56)}static int64(t){return Jl(t,-64)}static int72(t){return Jl(t,-72)}static int80(t){return Jl(t,-80)}static int88(t){return Jl(t,-88)}static int96(t){return Jl(t,-96)}static int104(t){return Jl(t,-104)}static int112(t){return Jl(t,-112)}static int120(t){return Jl(t,-120)}static int128(t){return Jl(t,-128)}static int136(t){return Jl(t,-136)}static int144(t){return Jl(t,-144)}static int152(t){return Jl(t,-152)}static int160(t){return Jl(t,-160)}static int168(t){return Jl(t,-168)}static int176(t){return Jl(t,-176)}static int184(t){return Jl(t,-184)}static int192(t){return Jl(t,-192)}static int200(t){return Jl(t,-200)}static int208(t){return Jl(t,-208)}static int216(t){return Jl(t,-216)}static int224(t){return Jl(t,-224)}static int232(t){return Jl(t,-232)}static int240(t){return Jl(t,-240)}static int248(t){return Jl(t,-248)}static int256(t){return Jl(t,-256)}static int(t){return Jl(t,-256)}static bytes1(t){return Ql(t,1)}static bytes2(t){return Ql(t,2)}static bytes3(t){return Ql(t,3)}static bytes4(t){return Ql(t,4)}static bytes5(t){return Ql(t,5)}static bytes6(t){return Ql(t,6)}static bytes7(t){return Ql(t,7)}static bytes8(t){return Ql(t,8)}static bytes9(t){return Ql(t,9)}static bytes10(t){return Ql(t,10)}static bytes11(t){return Ql(t,11)}static bytes12(t){return Ql(t,12)}static bytes13(t){return Ql(t,13)}static bytes14(t){return Ql(t,14)}static bytes15(t){return Ql(t,15)}static bytes16(t){return Ql(t,16)}static bytes17(t){return Ql(t,17)}static bytes18(t){return Ql(t,18)}static bytes19(t){return Ql(t,19)}static bytes20(t){return Ql(t,20)}static bytes21(t){return Ql(t,21)}static bytes22(t){return Ql(t,22)}static bytes23(t){return Ql(t,23)}static bytes24(t){return Ql(t,24)}static bytes25(t){return Ql(t,25)}static bytes26(t){return Ql(t,26)}static bytes27(t){return Ql(t,27)}static bytes28(t){return Ql(t,28)}static bytes29(t){return Ql(t,29)}static bytes30(t){return Ql(t,30)}static bytes31(t){return Ql(t,31)}static bytes32(t){return Ql(t,32)}static address(t){return new Yl($l,"address",t)}static bool(t){return new Yl($l,"bool",!!t)}static bytes(t){return new Yl($l,"bytes",t)}static string(t){return new Yl($l,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new Yl($l,"overrides",Object.assign({},t))}static isTyped(t){return t&&"object"==typeof t&&"_typedSymbol"in t&&t._typedSymbol===Zl}static dereference(t,e){if(Yl.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}}class Xl extends rl{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let r=Yl.dereference(e,"string");try{r=Wl(r)}catch(n){return this._throwError(n.message,e)}return t.writeValue(r)}decode(t){return Wl(Ku(t.readValue(),20))}}class th extends rl{coder;constructor(t){super(t.name,t.type,"_",t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}function eh(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let t={};n=e.map((e=>{const n=e.localName;return bu(n,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:r}),bu(!t[n],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:r}),t[n]=!0,r[n]}))}else Au(!1,"invalid tuple value","tuple",r);Au(e.length===n.length,"types/value length mismatch","tuple",r);let i=new nl,s=new nl,o=[];e.forEach(((t,e)=>{let r=n[e];if(t.dynamic){let e=s.length;t.encode(s,r);let n=i.writeUpdatableValue();o.push((t=>{n(t+e)}))}else t.encode(i,r)})),o.forEach((t=>{t(i.length)}));let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function rh(t,e){let r=[],n=[],i=t.subReader(0);return e.forEach((e=>{let s=null;if(e.dynamic){let r=t.readIndex(),n=i.subReader(r);try{s=e.decode(n)}catch(o){if(mu(o,"BUFFER_OVERRUN"))throw o;s=o,s.baseType=e.name,s.name=e.localName,s.type=e.type}}else try{s=e.decode(t)}catch(o){if(mu(o,"BUFFER_OVERRUN"))throw o;s=o,s.baseType=e.name,s.name=e.localName,s.type=e.type}if(null==s)throw new Error("investigate");r.push(s),n.push(e.localName||null)})),tl.fromItems(r,n)}class nh extends rl{coder;length;constructor(t,e,r){super("array",t.type+"["+(e>=0?e:"")+"]",r,-1===e||t.dynamic),gu(this,{coder:t,length:e})}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let r=0;r<this.length;r++)e.push(t);return e}encode(t,e){const r=Yl.dereference(e,"array");Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;-1===n&&(n=r.length,t.writeValue(r.length)),Eu(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return eh(t,i,r)}decode(t){let e=this.length;-1===e&&(e=t.readIndex(),bu(e*Ju<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:e*Ju,length:t.dataLength}));let r=[];for(let n=0;n<e;n++)r.push(new th(this.coder));return rh(t,r)}}class ih extends rl{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const r=Yl.dereference(e,"bool");return t.writeValue(r?1:0)}decode(t){return!!t.readValue()}}class sh extends rl{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=Ou(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readIndex(),!0)}}class oh extends sh{constructor(t){super("bytes",t)}decode(t){return Nu(super.decode(t))}}class ah extends rl{size;constructor(t,e){let r="bytes"+String(t);super(r,r,e,!1),gu(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let r=Ou(Yl.dereference(e,this.type));return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}decode(t){return Nu(t.readBytes(this.size))}}const ch=new Uint8Array([]);class uh extends rl{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes(ch)}decode(t){return t.readBytes(0),null}}const lh=BigInt(0),hh=BigInt(1),fh=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class ph extends rl{size;signed;constructor(t,e,r){const n=(e?"int":"uint")+8*t;super(n,n,r,!1),gu(this,{size:t,signed:e},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,e){let r=zu(Yl.dereference(e,this.type)),n=Fu(fh,256);if(this.signed){let t=Fu(n,8*this.size-1);(r>t||r<-(t+hh))&&this._throwError("value out-of-bounds",e),r=Mu(r,256)}else(r<lh||r>Fu(n,8*this.size))&&this._throwError("value out-of-bounds",e);return t.writeValue(r)}decode(t){let e=Fu(t.readValue(),8*this.size);return this.signed&&(e=function(t,e){const r=Hu(t,"value"),n=BigInt(Vu(e,"width"));if(bu(r>>n===Uu,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-Bu)return-((~r&(Bu<<n)-Bu)+Bu);return r}(e,8*this.size)),e}}function dh(t,e,r,n,i){if("BAD_PREFIX"===t||"UNEXPECTED_CONTINUE"===t){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return"OVERRUN"===t?r.length-e-1:0}const gh=Object.freeze({error:function(t,e,r,n,i){Au(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:dh,replace:function(t,e,r,n,i){return"OVERLONG"===t?(Au("number"==typeof i,"invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),dh(t,e,r))}});function yh(t,e){null==e&&(e=gh.error);const r=Pu(t,"bytes"),n=[];let i=0;for(;i<r.length;){const t=r[i++];if(t>>7==0){n.push(t);continue}let s=null,o=null;if(192==(224&t))s=1,o=127;else if(224==(240&t))s=2,o=2047;else{if(240!=(248&t)){i+=e(128==(192&t)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",i-1,r,n);continue}s=3,o=65535}if(i-1+s>=r.length){i+=e("OVERRUN",i-1,r,n);continue}let a=t&(1<<8-s-1)-1;for(let c=0;c<s;c++){let t=r[i];if(128!=(192&t)){i+=e("MISSING_CONTINUE",i,r,n),a=null;break}a=a<<6|63&t,i++}null!==a&&(a>1114111?i+=e("OUT_OF_RANGE",i-1-s,r,n,a):a>=55296&&a<=57343?i+=e("UTF16_SURROGATE",i-1-s,r,n,a):a<=o?i+=e("OVERLONG",i-1-s,r,n,a):n.push(a))}return n}function mh(t,e){null!=e&&(!function(t){bu(_u.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}(e),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const e=t.charCodeAt(n);if(e<128)r.push(e);else if(e<2048)r.push(e>>6|192),r.push(63&e|128);else if(55296==(64512&e)){n++;const i=t.charCodeAt(n);Au(n<t.length&&56320==(64512&i),"invalid surrogate pair","str",t);const s=65536+((1023&e)<<10)+(1023&i);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(e>>12|224),r.push(e>>6&63|128),r.push(63&e|128)}return new Uint8Array(r)}function vh(t,e){return yh(t,e).map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}class wh extends sh{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,mh(Yl.dereference(e,"string")))}decode(t){return vh(super.decode(t))}}class bh extends rl{coders;constructor(t,e){let r=!1;const n=[];t.forEach((t=>{t.dynamic&&(r=!0),n.push(t.type)}));super("tuple","tuple("+n.join(",")+")",e,r),gu(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach(((r,n)=>{let i=r.localName;i&&1===e[i]&&("length"===i&&(i="_length"),null==t[i]&&(t[i]=t[n]))})),Object.freeze(t)}encode(t,e){const r=Yl.dereference(e,"tuple");return eh(t,this.coders,r)}decode(t){return rh(t,this.coders)}}function Ah(t){return Ml(mh(t))}function Eh(t){const e=new Set;return t.forEach((t=>e.add(t))),Object.freeze(e)}const _h="constant external internal payable private public pure view",xh=Eh(_h.split(" ")),Sh="constructor error event fallback function receive struct",Ph=Eh(Sh.split(" ")),Oh="calldata memory storage payable indexed",Ih=Eh(Oh.split(" ")),Ch=Eh([Sh,Oh,"tuple returns",_h].join(" ").split(" ")),Nh={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Th=new RegExp("^(\\s*)"),kh=new RegExp("^([0-9]+)"),Rh=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Lh=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),jh=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class Uh{#i;#a;get offset(){return this.#i}get length(){return this.#a.length-this.#i}constructor(t){this.#i=0,this.#a=t.slice()}clone(){return new Uh(this.#a)}reset(){this.#i=0}#c(t=0,e=0){return new Uh(this.#a.slice(t,e).map((e=>Object.freeze(Object.assign({},e,{match:e.match-t,linkBack:e.linkBack-t,linkNext:e.linkNext-t})))))}popKeyword(t){const e=this.peek();if("KEYWORD"!==e.type||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t)throw new Error(`expected ${t}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const t=this.peek();if("OPEN_PAREN"!==t.type)throw new Error("bad start");const e=this.#c(this.#i+1,t.match+1);return this.#i=t.match+1,e}popParams(){const t=this.peek();if("OPEN_PAREN"!==t.type)throw new Error("bad start");const e=[];for(;this.#i<t.match-1;){const t=this.peek().linkNext;e.push(this.#c(this.#i+1,t)),this.#i=t}return this.#i=t.match+1,e}peek(){if(this.#i>=this.#a.length)throw new Error("out-of-bounds");return this.#a[this.#i]}peekKeyword(t){const e=this.peekType("KEYWORD");return null!=e&&t.has(e)?e:null}peekType(t){if(0===this.length)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return this.#i++,t}toString(){const t=[];for(let e=this.#i;e<this.#a.length;e++){const r=this.#a[e];t.push(`${r.type}:${r.text}`)}return`<TokenString ${t.join(" ")}>`}}function Bh(t){const e=[],r=e=>{const r=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${r} at ${s}: ${e}`)};let n=[],i=[],s=0;for(;s<t.length;){let o=t.substring(s),a=o.match(Th);a&&(s+=a[1].length,o=t.substring(s));const c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(c);let u=Nh[o[0]]||"";if(u){if(c.type=u,c.text=o[0],s++,"OPEN_PAREN"===u)n.push(e.length-1),i.push(e.length-1);else if("CLOSE_PAREN"==u)0===n.length&&r("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1;else if("COMMA"===u)c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1,i.push(e.length-1);else if("OPEN_BRACKET"===u)c.type="BRACKET";else if("CLOSE_BRACKET"===u){let t=e.pop().text;if(e.length>0&&"NUMBER"===e[e.length-1].type){const r=e.pop().text;t=r+t,e[e.length-1].value=Vu(r)}if(0===e.length||"BRACKET"!==e[e.length-1].type)throw new Error("missing opening bracket");e[e.length-1].text+=t}}else if(a=o.match(Rh),a){if(c.text=a[1],s+=c.text.length,Ch.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(jh)){c.type="TYPE";continue}c.type="ID"}else{if(a=o.match(kh),!a)throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`);c.text=a[1],c.type="NUMBER",s+=c.text.length}}return new Uh(e.map((t=>Object.freeze(t))))}function Dh(t,e){let r=[];for(const n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function Mh(t,e){if(e.peekKeyword(Ph)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function Fh(t,e){const r=new Set;for(;;){const n=t.peekType("KEYWORD");if(null==n||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function zh(t){let e=Fh(t,xh);return Dh(e,Eh("constant payable nonpayable".split(" "))),Dh(e,Eh("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Hh(t,e){return t.popParams().map((t=>rf.from(t,e)))}function qh(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return zu(t.pop().text);throw new Error("invalid gas")}return null}function Gh(t){if(t.length)throw new Error(`unexpected tokens: ${t.toString()}`)}const Vh=new RegExp(/^(.*)\[([0-9]*)\]$/);function Kh(t){const e=t.match(jh);if(Au(e,"invalid type","type",t),"uint"===t)return"uint256";if("int"===t)return"int256";if(e[2]){const r=parseInt(e[2]);Au(0!==r&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);Au(0!==r&&r<=256&&r%8==0,"invalid numeric width","type",t)}return t}const Wh={},$h=Symbol.for("_ethers_internal"),Jh="_ParamTypeInternal",Qh="_ErrorInternal",Zh="_EventInternal",Yh="_ConstructorInternal",Xh="_FallbackInternal",tf="_FunctionInternal",ef="_StructInternal";class rf{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(t,e,r,n,i,s,o,a){if(xu(t,Wh,"ParamType"),Object.defineProperty(this,$h,{value:Jh}),s&&(s=Object.freeze(s.slice())),"array"===n){if(null==o||null==a)throw new Error("")}else if(null!=o||null!=a)throw new Error("");if("tuple"===n){if(null==s)throw new Error("")}else if(null!=s)throw new Error("");gu(this,{name:e,type:r,baseType:n,indexed:i,components:s,arrayLength:o,arrayChildren:a})}format(t){if(null==t&&(t="sighash"),"json"===t){let e={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(e.indexed=this.indexed),this.isTuple()&&(e.components=this.components.map((e=>JSON.parse(e.format(t))))),JSON.stringify(e)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?("sighash"!==t&&(e+=this.type),e+="("+this.components.map((e=>e.format(t))).join("full"===t?", ":",")+")"):e+=this.type,"sighash"!==t&&(!0===this.indexed&&(e+=" indexed"),"full"===t&&this.name&&(e+=" "+this.name)),e}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return t.map((t=>r.arrayChildren.walk(t,e)))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const r=this;return t.map(((t,n)=>r.components[n].walk(t,e)))}return e(this.type,t)}#u(t,e,r,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,s=e.slice();return s.forEach(((e,n)=>{i.#u(t,e,r,(t=>{s[n]=t}))})),void n(s)}if(this.isTuple()){const i=this.components;let s;if(Array.isArray(e))s=e.slice();else{if(null==e||"object"!=typeof e)throw new Error("invalid tuple value");s=i.map((t=>{if(!t.name)throw new Error("cannot use object value with unnamed components");if(!(t.name in e))throw new Error(`missing value for component ${t.name}`);return e[t.name]}))}if(s.length!==this.components.length)throw new Error("array is wrong length");return s.forEach(((e,n)=>{i[n].#u(t,e,r,(t=>{s[n]=t}))})),void n(s)}const i=r(this.type,e);i.then?t.push(async function(){n(await i)}()):n(i)}async walkAsync(t,e){const r=[],n=[t];return this.#u(r,t,e,(t=>{n[0]=t})),r.length&&await Promise.all(r),n[0]}static from(t,e){if(rf.isParamType(t))return t;if("string"==typeof t)return rf.from(Bh(t),e);if(t instanceof Uh){let r="",n="",i=null;Fh(t,Eh(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(n="tuple",i=t.popParams().map((t=>rf.from(t))),r=`tuple(${i.map((t=>t.format())).join(",")})`):(r=Kh(t.popType("TYPE")),n=r);let s=null,o=null;for(;t.length&&t.peekType("BRACKET");){const e=t.pop();s=new rf(Wh,"",r,n,null,i,o,s),o=e.value,r+=e.text,n="array",i=null}let a=null;if(Fh(t,Ih).has("indexed")){if(!e)throw new Error("");a=!0}const c=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new rf(Wh,c,r,n,a,i,o,s)}const r=t.name;Au(!r||"string"==typeof r&&r.match(Lh),"invalid name","obj.name",r);let n=t.indexed;null!=n&&(Au(e,"parameter cannot be indexed","obj.indexed",t.indexed),n=!!n);let i=t.type,s=i.match(Vh);if(s){const e=parseInt(s[2]||"-1"),o=rf.from({type:s[1],components:t.components});return new rf(Wh,r||"",i,"array",n,null,e,o)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){const e=null!=t.components?t.components.map((t=>rf.from(t))):null;return new rf(Wh,r||"",i,"tuple",n,e,null,null)}return i=Kh(t.type),new rf(Wh,r||"",i,i,n,null,null,null)}static isParamType(t){return t&&t[$h]===Jh}}class nf{type;inputs;constructor(t,e,r){xu(t,Wh,"Fragment"),gu(this,{type:e,inputs:r=Object.freeze(r.slice())})}static from(t){if("string"==typeof t){try{nf.from(JSON.parse(t))}catch(e){}return nf.from(Bh(t))}if(t instanceof Uh){switch(t.peekKeyword(Ph)){case"constructor":return uf.from(t);case"error":return af.from(t);case"event":return cf.from(t);case"fallback":case"receive":return lf.from(t);case"function":return hf.from(t);case"struct":return ff.from(t)}}else if("object"==typeof t){switch(t.type){case"constructor":return uf.from(t);case"error":return af.from(t);case"event":return cf.from(t);case"fallback":case"receive":return lf.from(t);case"function":return hf.from(t);case"struct":return ff.from(t)}bu(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}Au(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return uf.isFragment(t)}static isError(t){return af.isFragment(t)}static isEvent(t){return cf.isFragment(t)}static isFunction(t){return hf.isFragment(t)}static isStruct(t){return ff.isFragment(t)}}class sf extends nf{name;constructor(t,e,r,n){super(t,e,n),Au("string"==typeof r&&r.match(Lh),"invalid identifier","name",r),n=Object.freeze(n.slice()),gu(this,{name:r})}}function of(t,e){return"("+e.map((e=>e.format(t))).join("full"===t?", ":",")+")"}class af extends sf{constructor(t,e,r){super(t,"error",e,r),Object.defineProperty(this,$h,{value:Qh})}get selector(){return Ah(this.format("sighash")).substring(0,10)}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("error"),e.push(this.name+of(t,this.inputs)),e.join(" ")}static from(t){if(af.isFragment(t))return t;if("string"==typeof t)return af.from(Bh(t));if(t instanceof Uh){const e=Mh("error",t),r=Hh(t);return Gh(t),new af(Wh,e,r)}return new af(Wh,t.name,t.inputs?t.inputs.map(rf.from):[])}static isFragment(t){return t&&t[$h]===Qh}}class cf extends sf{anonymous;constructor(t,e,r,n){super(t,"event",e,r),Object.defineProperty(this,$h,{value:Zh}),gu(this,{anonymous:n})}get topicHash(){return Ah(this.format("sighash"))}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("event"),e.push(this.name+of(t,this.inputs)),"sighash"!==t&&this.anonymous&&e.push("anonymous"),e.join(" ")}static getTopicHash(t,e){e=(e||[]).map((t=>rf.from(t)));return new cf(Wh,t,e,!1).topicHash}static from(t){if(cf.isFragment(t))return t;if("string"==typeof t)return cf.from(Bh(t));if(t instanceof Uh){const e=Mh("event",t),r=Hh(t,!0),n=!!Fh(t,Eh(["anonymous"])).has("anonymous");return Gh(t),new cf(Wh,e,r,n)}return new cf(Wh,t.name,t.inputs?t.inputs.map((t=>rf.from(t,!0))):[],!!t.anonymous)}static isFragment(t){return t&&t[$h]===Zh}}class uf extends nf{payable;gas;constructor(t,e,r,n,i){super(t,e,r),Object.defineProperty(this,$h,{value:Yh}),gu(this,{payable:n,gas:i})}format(t){if(bu(null!=t&&"sighash"!==t,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===t)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[`constructor${of(t,this.inputs)}`];return e.push(this.payable?"payable":"nonpayable"),null!=this.gas&&e.push(`@${this.gas.toString()}`),e.join(" ")}static from(t){if(uf.isFragment(t))return t;if("string"==typeof t)return uf.from(Bh(t));if(t instanceof Uh){Fh(t,Eh(["constructor"]));const e=Hh(t),r=!!Fh(t,Eh(["payable"])).has("payable"),n=qh(t);return Gh(t),new uf(Wh,"constructor",e,r,n)}return new uf(Wh,"constructor",t.inputs?t.inputs.map(rf.from):[],!!t.payable,null!=t.gas?t.gas:null)}static isFragment(t){return t&&t[$h]===Yh}}class lf extends nf{payable;constructor(t,e,r){super(t,"fallback",e),Object.defineProperty(this,$h,{value:Xh}),gu(this,{payable:r})}format(t){const e=0===this.inputs.length?"receive":"fallback";if("json"===t){const t=this.payable?"payable":"nonpayable";return JSON.stringify({type:e,stateMutability:t})}return`${e}()${this.payable?" payable":""}`}static from(t){if(lf.isFragment(t))return t;if("string"==typeof t)return lf.from(Bh(t));if(t instanceof Uh){const e=t.toString();Au(t.peekKeyword(Eh(["fallback","receive"])),"type must be fallback or receive","obj",e);if("receive"===t.popKeyword(Eh(["fallback","receive"]))){const e=Hh(t);return Au(0===e.length,"receive cannot have arguments","obj.inputs",e),Fh(t,Eh(["payable"])),Gh(t),new lf(Wh,[],!0)}let r=Hh(t);r.length?Au(1===r.length&&"bytes"===r[0].type,"invalid fallback inputs","obj.inputs",r.map((t=>t.format("minimal"))).join(", ")):r=[rf.from("bytes")];const n=zh(t);if(Au("nonpayable"===n||"payable"===n,"fallback cannot be constants","obj.stateMutability",n),Fh(t,Eh(["returns"])).has("returns")){const e=Hh(t);Au(1===e.length&&"bytes"===e[0].type,"invalid fallback outputs","obj.outputs",e.map((t=>t.format("minimal"))).join(", "))}return Gh(t),new lf(Wh,r,"payable"===n)}if("receive"===t.type)return new lf(Wh,[],!0);if("fallback"===t.type){const e=[rf.from("bytes")],r="payable"===t.stateMutability;return new lf(Wh,e,r)}Au(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[$h]===Xh}}class hf extends sf{constant;outputs;stateMutability;payable;gas;constructor(t,e,r,n,i,s){super(t,"function",e,n),Object.defineProperty(this,$h,{value:tf});gu(this,{constant:"view"===r||"pure"===r,gas:s,outputs:i=Object.freeze(i.slice()),payable:"payable"===r,stateMutability:r})}get selector(){return Ah(this.format("sighash")).substring(0,10)}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t)))),outputs:this.outputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("function"),e.push(this.name+of(t,this.inputs)),"sighash"!==t&&("nonpayable"!==this.stateMutability&&e.push(this.stateMutability),this.outputs&&this.outputs.length&&(e.push("returns"),e.push(of(t,this.outputs))),null!=this.gas&&e.push(`@${this.gas.toString()}`)),e.join(" ")}static getSelector(t,e){e=(e||[]).map((t=>rf.from(t)));return new hf(Wh,t,"view",e,[],null).selector}static from(t){if(hf.isFragment(t))return t;if("string"==typeof t)return hf.from(Bh(t));if(t instanceof Uh){const e=Mh("function",t),r=Hh(t),n=zh(t);let i=[];Fh(t,Eh(["returns"])).has("returns")&&(i=Hh(t));const s=qh(t);return Gh(t),new hf(Wh,e,n,r,i,s)}let e=t.stateMutability;return null==e&&(e="payable","boolean"==typeof t.constant?(e="view",t.constant||(e="payable","boolean"!=typeof t.payable||t.payable||(e="nonpayable"))):"boolean"!=typeof t.payable||t.payable||(e="nonpayable")),new hf(Wh,t.name,e,t.inputs?t.inputs.map(rf.from):[],t.outputs?t.outputs.map(rf.from):[],null!=t.gas?t.gas:null)}static isFragment(t){return t&&t[$h]===tf}}class ff extends sf{constructor(t,e,r){super(t,"struct",e,r),Object.defineProperty(this,$h,{value:ef})}format(){throw new Error("@TODO")}static from(t){if("string"==typeof t)return ff.from(Bh(t));if(t instanceof Uh){const e=Mh("struct",t),r=Hh(t);return Gh(t),new ff(Wh,e,r)}return new ff(Wh,t.name,t.inputs?t.inputs.map(rf.from):[])}static isFragment(t){return t&&t[$h]===ef}}const pf=new Map;pf.set(0,"GENERIC_PANIC"),pf.set(1,"ASSERT_FALSE"),pf.set(17,"OVERFLOW"),pf.set(18,"DIVIDE_BY_ZERO"),pf.set(33,"ENUM_RANGE_ERROR"),pf.set(34,"BAD_STORAGE_DATA"),pf.set(49,"STACK_UNDERFLOW"),pf.set(50,"ARRAY_RANGE_ERROR"),pf.set(65,"OUT_OF_MEMORY"),pf.set(81,"UNINITIALIZED_FUNCTION_CALL");const df=new RegExp(/^bytes([0-9]*)$/),gf=new RegExp(/^(u?int)([0-9]*)$/);let yf=null;class mf{#l(t){if(t.isArray())return new nh(this.#l(t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new bh(t.components.map((t=>this.#l(t))),t.name);switch(t.baseType){case"address":return new Xl(t.name);case"bool":return new ih(t.name);case"string":return new wh(t.name);case"bytes":return new oh(t.name);case"":return new uh(t.name)}let e=t.type.match(gf);if(e){let r=parseInt(e[2]||"256");return Au(0!==r&&r<=256&&r%8==0,"invalid "+e[1]+" bit length","param",t),new ph(r/8,"int"===e[1],t.name)}if(e=t.type.match(df),e){let r=parseInt(e[1]);return Au(0!==r&&r<=32,"invalid bytes length","param",t),new ah(r,t.name)}Au(!1,"invalid type","type",t.type)}getDefaultValue(t){const e=t.map((t=>this.#l(rf.from(t))));return new bh(e,"_").defaultValue()}encode(t,e){Eu(e.length,t.length,"types/values length mismatch");const r=t.map((t=>this.#l(rf.from(t)))),n=new bh(r,"_"),i=new nl;return n.encode(i,e),i.data}decode(t,e,r){const n=t.map((t=>this.#l(rf.from(t))));return new bh(n,"_").decode(new il(e,r))}static defaultAbiCoder(){return null==yf&&(yf=new mf),yf}static getBuiltinCallException(t,e,r){return function(t,e,r,n){let i="missing revert data",s=null,o=null;if(r){i="execution reverted";const t=Pu(r);if(r=Nu(r),0===t.length)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(t.length%32!=4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===Nu(t.slice(0,4)))try{s=n.decode(["string"],t.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch(c){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===Nu(t.slice(0,4)))try{const e=Number(n.decode(["uint256"],t.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[e]},s=`Panic due to ${pf.get(e)||"UNKNOWN"}(${e})`,i+=`: ${s}`}catch(c){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const a={to:e.to?Wl(e.to):null,data:e.data||"0x"};return e.from&&(a.from=Wl(e.from)),wu(i,"CALL_EXCEPTION",{action:t,data:r,reason:s,transaction:a,invocation:null,revert:o})}(t,e,r,mf.defaultAbiCoder())}}function vf(t){return t&&"function"==typeof t.getAddress}async function wf(t,e){const r=await e;return null!=r&&"0x0000000000000000000000000000000000000000"!==r||(bu("string"!=typeof t,"unconfigured name","UNCONFIGURED_NAME",{value:t}),Au(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Wl(r)}function bf(t,e){return"string"==typeof t?t.match(/^0x[0-9a-f]{40}$/i)?Wl(t):(bu(null!=e,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),wf(t,e.resolveName(t))):vf(t)?wf(t,t.getAddress()):t&&"function"==typeof t.then?wf(t,t):void Au(!1,"unsupported addressable value","target",t)}const Af=new Uint8Array(32);Af.fill(0);const Ef=BigInt(-1),_f=BigInt(0),xf=BigInt(1),Sf=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Pf=Ku(xf,32),Of=Ku(_f,32),If={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Cf=["name","version","chainId","verifyingContract","salt"];function Nf(t){return function(e){return Au("string"==typeof e,`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Tf={name:Nf("name"),version:Nf("version"),chainId:function(t){const e=zu(t,"domain.chainId");return Au(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):$u(e)},verifyingContract:function(t){try{return Wl(t).toLowerCase()}catch(e){}Au(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Pu(t,"domain.salt");return Au(32===e.length,'invalid domain value "salt"',"domain.salt",t),Nu(e)}};function kf(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],n=parseInt(e[2]||"256");Au(n%8==0&&0!==n&&n<=256&&(null==e[2]||e[2]===String(n)),"invalid numeric width","type",t);const i=Fu(Sf,r?n-1:n),s=r?(i+xf)*Ef:_f;return function(e){const n=zu(e,"value");return Au(n>=s&&n<=i,`value out-of-bounds for ${t}`,"value",n),Ku(r?Mu(n,256):n,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return Au(0!==r&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(e){return Au(Pu(e).length===r,`invalid length for ${t}`,"value",e),function(t){const e=Pu(t),r=e.length%32;return r?Tu([e,Af.slice(r)]):Nu(e)}(e)}}}switch(t){case"address":return function(t){return ju(Wl(t),32)};case"bool":return function(t){return t?Pf:Of};case"bytes":return function(t){return Ml(t)};case"string":return function(t){return Ah(t)}}return null}function Rf(t,e){return`${t}(${e.map((({name:t,type:e})=>e+" "+t)).join(",")})`}class Lf{primaryType;#h;get types(){return JSON.parse(this.#h)}#f;#p;constructor(t){this.#h=JSON.stringify(t),this.#f=new Map,this.#p=new Map;const e=new Map,r=new Map,n=new Map;Object.keys(t).forEach((t=>{e.set(t,new Set),r.set(t,[]),n.set(t,new Set)}));for(const s in t){const n=new Set;for(const i of t[s]){Au(!n.has(i.name),`duplicate variable name ${JSON.stringify(i.name)} in ${JSON.stringify(s)}`,"types",t),n.add(i.name);const o=i.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;Au(o!==s,`circular type reference to ${JSON.stringify(o)}`,"types",t);kf(o)||(Au(r.has(o),`unknown type ${JSON.stringify(o)}`,"types",t),r.get(o).push(s),e.get(s).add(o))}}const i=Array.from(r.keys()).filter((t=>0===r.get(t).length));Au(0!==i.length,"missing primary type","types",t),Au(1===i.length,`ambiguous primary types or unused types: ${i.map((t=>JSON.stringify(t))).join(", ")}`,"types",t),gu(this,{primaryType:i[0]}),function i(s,o){Au(!o.has(s),`circular type reference to ${JSON.stringify(s)}`,"types",t),o.add(s);for(const t of e.get(s))if(r.has(t)){i(t,o);for(const e of o)n.get(e).add(t)}o.delete(s)}(this.primaryType,new Set);for(const[s,o]of n){const e=Array.from(o);e.sort(),this.#f.set(s,Rf(s,t[s])+e.map((e=>Rf(e,t[e]))).join(""))}}getEncoder(t){let e=this.#p.get(t);return e||(e=this.#d(t),this.#p.set(t,e)),e}#d(t){{const e=kf(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t);return n=>{Au(!e[3]||parseInt(e[3])===n.length,`array length mismatch; expected length ${parseInt(e[3])}`,"value",n);let i=n.map(r);return this.#f.has(t)&&(i=i.map(Ml)),Ml(Tu(i))}}const r=this.types[t];if(r){const e=Ah(this.#f.get(t));return t=>{const n=r.map((({name:e,type:r})=>{const n=this.getEncoder(r)(t[e]);return this.#f.has(r)?Ml(n):n}));return n.unshift(e),Tu(n)}}Au(!1,`unknown type: ${t}`,"type",t)}encodeType(t){const e=this.#f.get(t);return Au(e,`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return Ml(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(kf(t))return r(t,e);const n=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n)return Au(!n[3]||parseInt(n[3])===e.length,`array length mismatch; expected length ${parseInt(n[3])}`,"value",e),e.map((t=>this._visit(n[1],t,r)));const i=this.types[t];if(i)return i.reduce(((t,{name:n,type:i})=>(t[n]=this._visit(i,e[n],r),t)),{});Au(!1,`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new Lf(t)}static getPrimaryType(t){return Lf.from(t).primaryType}static hashStruct(t,e,r){return Lf.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){if(null==t[r])continue;const n=If[r];Au(n,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),e.push({name:r,type:n})}return e.sort(((t,e)=>Cf.indexOf(t.name)-Cf.indexOf(e.name))),Lf.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return Tu(["0x1901",Lf.hashDomain(t),Lf.from(e).hash(r)])}static hash(t,e,r){return Ml(Lf.encode(t,e,r))}static async resolveNames(t,e,r,n){t=Object.assign({},t);for(const o in t)null==t[o]&&delete t[o];const i={};t.verifyingContract&&!Iu(t.verifyingContract,20)&&(i[t.verifyingContract]="0x");const s=Lf.from(e);s.visit(r,((t,e)=>("address"!==t||Iu(e,20)||(i[e]="0x"),e)));for(const o in i)i[o]=await n(o);return t.verifyingContract&&i[t.verifyingContract]&&(t.verifyingContract=i[t.verifyingContract]),{domain:t,value:r=s.visit(r,((t,e)=>"address"===t&&i[e]?i[e]:e))}}static getPayload(t,e,r){Lf.hashDomain(t);const n={},i=[];Cf.forEach((e=>{const r=t[e];null!=r&&(n[e]=Tf[e](r),i.push({name:e,type:If[e]}))}));const s=Lf.from(e),o=Object.assign({},e);return Au(null==o.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",e),o.EIP712Domain=i,s.encode(r),{types:o,domain:n,primaryType:s.primaryType,message:s.visit(r,((t,e)=>{if(t.match(/^bytes(\d*)/))return Nu(Pu(e));if(t.match(/^u?int/))return zu(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return Au("string"==typeof e,"invalid string","value",e),e}Au(!1,"unsupported type","type",t)}))}}}function jf(t,e){return{address:Wl(t),storageKeys:e.map(((t,e)=>(Au(Iu(t,32),"invalid slot",`storageKeys[${e}]`,t),t.toLowerCase())))}}function Uf(t){if(Array.isArray(t))return t.map(((e,r)=>Array.isArray(e)?(Au(2===e.length,"invalid slot set",`value[${r}]`,e),jf(e[0],e[1])):(Au(null!=e&&"object"==typeof e,"invalid address-slot set","value",t),jf(e.address,e.storageKeys))));Au(null!=t&&"object"==typeof t,"invalid access list","value",t);const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return jf(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}const Bf="0x0000000000000000000000000000000000000000";class Df{fragment;name;signature;topic;args;constructor(t,e,r){const n=t.name,i=t.format();gu(this,{fragment:t,name:n,signature:i,topic:e,args:r})}}class Mf{fragment;name;args;signature;selector;value;constructor(t,e,r,n){const i=t.name,s=t.format();gu(this,{fragment:t,name:i,args:r,signature:s,selector:e,value:n})}}class Ff{fragment;name;args;signature;selector;constructor(t,e,r){const n=t.name,i=t.format();gu(this,{fragment:t,name:n,args:r,signature:i,selector:e})}}class zf{hash;_isIndexed;static isIndexed(t){return!(!t||!t._isIndexed)}constructor(t){gu(this,{hash:t,_isIndexed:!0})}}const Hf={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},qf={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&Hf[t.toString()]&&(e=Hf[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};class Gf{fragments;deploy;fallback;receive;#g;#y;#m;#v;constructor(t){let e=[];e="string"==typeof t?JSON.parse(t):t,this.#m=new Map,this.#g=new Map,this.#y=new Map;const r=[];for(const o of e)try{r.push(nf.from(o))}catch(s){console.log("EE",s)}gu(this,{fragments:Object.freeze(r)});let n=null,i=!1;this.#v=this.getAbiCoder(),this.fragments.forEach(((t,e)=>{let r;switch(t.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void gu(this,{deploy:t});case"fallback":return void(0===t.inputs.length?i=!0:(Au(!n||t.payable!==n.payable,"conflicting fallback fragments",`fragments[${e}]`,t),n=t,i=n.payable));case"function":r=this.#m;break;case"event":r=this.#y;break;case"error":r=this.#g;break;default:return}const s=t.format();r.has(s)||r.set(s,t)})),this.deploy||gu(this,{deploy:uf.from("constructor()")}),gu(this,{fallback:n,receive:i})}format(t){const e=t?"minimal":"full",r=this.fragments.map((t=>t.format(e)));return r}formatJson(){const t=this.fragments.map((t=>t.format("json")));return JSON.stringify(t.map((t=>JSON.parse(t))))}getAbiCoder(){return mf.defaultAbiCoder()}#w(t,e,r){if(Iu(t)){const e=t.toLowerCase();for(const t of this.#m.values())if(e===t.selector)return t;return null}if(-1===t.indexOf("(")){const n=[];for(const[e,r]of this.#m)e.split("(")[0]===t&&n.push(r);if(e){const t=e.length>0?e[e.length-1]:null;let r=e.length,i=!0;Yl.isTyped(t)&&"overrides"===t.type&&(i=!1,r--);for(let e=n.length-1;e>=0;e--){const t=n[e].inputs.length;t===r||i&&t===r-1||n.splice(e,1)}for(let s=n.length-1;s>=0;s--){const t=n[s].inputs;for(let r=0;r<e.length;r++)if(Yl.isTyped(e[r])){if(r>=t.length){if("overrides"===e[r].type)continue;n.splice(s,1);break}if(e[r].type!==t[r].baseType){n.splice(s,1);break}}}}if(1===n.length&&e&&e.length!==n[0].inputs.length){const t=e[e.length-1];(null==t||Array.isArray(t)||"object"!=typeof t)&&n.splice(0,1)}if(0===n.length)return null;if(n.length>1&&r){const e=n.map((t=>JSON.stringify(t.format()))).join(", ");Au(!1,`ambiguous function description (i.e. matches ${e})`,"key",t)}return n[0]}const n=this.#m.get(hf.from(t).format());return n||null}getFunctionName(t){const e=this.#w(t,null,!1);return Au(e,"no matching function","key",t),e.name}hasFunction(t){return!!this.#w(t,null,!1)}getFunction(t,e){return this.#w(t,e||null,!0)}forEachFunction(t){const e=Array.from(this.#m.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let r=0;r<e.length;r++){const n=e[r];t(this.#m.get(n),r)}}#b(t,e,r){if(Iu(t)){const e=t.toLowerCase();for(const t of this.#y.values())if(e===t.topicHash)return t;return null}if(-1===t.indexOf("(")){const n=[];for(const[e,r]of this.#y)e.split("(")[0]===t&&n.push(r);if(e){for(let t=n.length-1;t>=0;t--)n[t].inputs.length<e.length&&n.splice(t,1);for(let t=n.length-1;t>=0;t--){const r=n[t].inputs;for(let i=0;i<e.length;i++)if(Yl.isTyped(e[i])&&e[i].type!==r[i].baseType){n.splice(t,1);break}}}if(0===n.length)return null;if(n.length>1&&r){const e=n.map((t=>JSON.stringify(t.format()))).join(", ");Au(!1,`ambiguous event description (i.e. matches ${e})`,"key",t)}return n[0]}const n=this.#y.get(cf.from(t).format());return n||null}getEventName(t){const e=this.#b(t,null,!1);return Au(e,"no matching event","key",t),e.name}hasEvent(t){return!!this.#b(t,null,!1)}getEvent(t,e){return this.#b(t,e||null,!0)}forEachEvent(t){const e=Array.from(this.#y.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let r=0;r<e.length;r++){const n=e[r];t(this.#y.get(n),r)}}getError(t,e){if(Iu(t)){const e=t.toLowerCase();if(qf[e])return af.from(qf[e].signature);for(const t of this.#g.values())if(e===t.selector)return t;return null}if(-1===t.indexOf("(")){const e=[];for(const[r,n]of this.#g)r.split("(")[0]===t&&e.push(n);if(0===e.length)return"Error"===t?af.from("error Error(string)"):"Panic"===t?af.from("error Panic(uint256)"):null;if(e.length>1){const r=e.map((t=>JSON.stringify(t.format()))).join(", ");Au(!1,`ambiguous error description (i.e. ${r})`,"name",t)}return e[0]}if("Error(string)"===(t=af.from(t).format()))return af.from("error Error(string)");if("Panic(uint256)"===t)return af.from("error Panic(uint256)");const r=this.#g.get(t);return r||null}forEachError(t){const e=Array.from(this.#g.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let r=0;r<e.length;r++){const n=e[r];t(this.#g.get(n),r)}}_decodeParams(t,e){return this.#v.decode(t,e)}_encodeParams(t,e){return this.#v.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if("string"==typeof t){const e=this.getError(t);Au(e,"unknown error","fragment",t),t=e}return Au(Ru(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",e),this._decodeParams(t.inputs,Ru(e,4))}encodeErrorResult(t,e){if("string"==typeof t){const e=this.getError(t);Au(e,"unknown error","fragment",t),t=e}return Tu([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if("string"==typeof t){const e=this.getFunction(t);Au(e,"unknown function","fragment",t),t=e}return Au(Ru(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",e),this._decodeParams(t.inputs,Ru(e,4))}encodeFunctionData(t,e){if("string"==typeof t){const e=this.getFunction(t);Au(e,"unknown function","fragment",t),t=e}return Tu([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if("string"==typeof t){const e=this.getFunction(t);Au(e,"unknown function","fragment",t),t=e}let r="invalid length for result data";const n=Ou(e);if(n.length%32==0)try{return this.#v.decode(t.outputs,n)}catch(i){r="could not decode result data"}bu(!1,r,"BAD_DATA",{value:Nu(n),info:{method:t.name,signature:t.format()}})}makeError(t,e){const r=Pu(t,"data"),n=mf.getBuiltinCallException("call",e,r);if(n.message.startsWith("execution reverted (unknown custom error)")){const t=Nu(r.slice(0,4)),e=this.getError(t);if(e)try{const t=this.#v.decode(e.inputs,r.slice(4));n.revert={name:e.name,signature:e.format(),args:t},n.reason=n.revert.signature,n.message=`execution reverted: ${n.reason}`}catch(s){n.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(e);return i&&(n.invocation={method:i.name,signature:i.signature,args:i.args}),n}encodeFunctionResult(t,e){if("string"==typeof t){const e=this.getFunction(t);Au(e,"unknown function","fragment",t),t=e}return Nu(this.#v.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if("string"==typeof t){const e=this.getEvent(t);Au(e,"unknown event","eventFragment",t),t=e}bu(e.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const r=[];t.anonymous||r.push(t.topicHash);const n=(t,e)=>"string"===t.type?Ah(e):"bytes"===t.type?Ml(Nu(e)):("bool"===t.type&&"boolean"==typeof e&&(e=e?"0x01":"0x00"),t.type.match(/^u?int/)&&(e=Ku(e)),"address"===t.type&&this.#v.encode(["address"],[e]),ju(Nu(e),32));for(e.forEach(((e,i)=>{const s=t.inputs[i];s.indexed?null==e?r.push(null):"array"===s.baseType||"tuple"===s.baseType?Au(!1,"filtering with tuples or arrays not supported","contract."+s.name,e):Array.isArray(e)?r.push(e.map((t=>n(s,t)))):r.push(n(s,e)):Au(null==e,"cannot filter non-indexed parameters; must be null","contract."+s.name,e)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(t,e){if("string"==typeof t){const e=this.getEvent(t);Au(e,"unknown event","eventFragment",t),t=e}const r=[],n=[],i=[];return t.anonymous||r.push(t.topicHash),Au(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach(((t,s)=>{const o=e[s];if(t.indexed)if("string"===t.type)r.push(Ah(o));else if("bytes"===t.type)r.push(Ml(o));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");r.push(this.#v.encode([t.type],[o]))}else n.push(t),i.push(o)})),{data:this.#v.encode(n,i),topics:r}}decodeEventLog(t,e,r){if("string"==typeof t){const e=this.getEvent(t);Au(e,"unknown event","eventFragment",t),t=e}if(null!=r&&!t.anonymous){const e=t.topicHash;Au(Iu(r[0],32)&&r[0].toLowerCase()===e,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const n=[],i=[],s=[];t.inputs.forEach(((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(n.push(rf.from({type:"bytes32",name:t.name})),s.push(!0)):(n.push(t),s.push(!1)):(i.push(t),s.push(!1))}));const o=null!=r?this.#v.decode(n,Tu(r)):null,a=this.#v.decode(i,e,!0),c=[],u=[];let l=0,h=0;return t.inputs.forEach(((t,e)=>{let r=null;if(t.indexed)if(null==o)r=new zf(null);else if(s[e])r=new zf(o[h++]);else try{r=o[h++]}catch(n){r=n}else try{r=a[l++]}catch(n){r=n}c.push(r),u.push(t.name||null)})),tl.fromItems(c,u)}parseTransaction(t){const e=Pu(t.data,"tx.data"),r=zu(null!=t.value?t.value:0,"tx.value"),n=this.getFunction(Nu(e.slice(0,4)));if(!n)return null;const i=this.#v.decode(n.inputs,e.slice(4));return new Mf(n,n.selector,i,r)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new Df(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=Nu(t),r=this.getError(Ru(e,0,4));if(!r)return null;const n=this.#v.decode(r.inputs,Ru(e,4));return new Ff(r,r.selector,n)}static from(t){return t instanceof Gf?t:"string"==typeof t?new Gf(JSON.parse(t)):"function"==typeof t.format?new Gf(t.format("json")):new Gf(t)}}const Vf=BigInt(0);function Kf(t){return null==t?null:t}function Wf(t){return null==t?null:t.toString()}class $f{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(t,e,r){gu(this,{gasPrice:Kf(t),maxFeePerGas:Kf(e),maxPriorityFeePerGas:Kf(r)})}toJSON(){const{gasPrice:t,maxFeePerGas:e,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Wf(t),maxFeePerGas:Wf(e),maxPriorityFeePerGas:Wf(r)}}}function Jf(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=Nu(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of r)i in t&&null!=t[i]&&(e[i]=zu(t[i],`request.${i}`));const n="type,nonce".split(/,/);for(const i of n)i in t&&null!=t[i]&&(e[i]=Vu(t[i],`request.${i}`));return t.accessList&&(e.accessList=Uf(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipReadEnabled=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),e}class Qf{provider;number;hash;timestamp;parentHash;nonce;difficulty;gasLimit;gasUsed;miner;extraData;baseFeePerGas;#A;constructor(t,e){this.#A=t.transactions.map((t=>"string"!=typeof t?new Xf(t,e):t)),gu(this,{provider:e,hash:Kf(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,miner:t.miner,extraData:t.extraData,baseFeePerGas:Kf(t.baseFeePerGas)})}get transactions(){return this.#A.map((t=>"string"==typeof t?t:t.hash))}get prefetchedTransactions(){const t=this.#A.slice();return 0===t.length?[]:(bu("object"==typeof t[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{baseFeePerGas:t,difficulty:e,extraData:r,gasLimit:n,gasUsed:i,hash:s,miner:o,nonce:a,number:c,parentHash:u,timestamp:l,transactions:h}=this;return{_type:"Block",baseFeePerGas:Wf(t),difficulty:Wf(e),extraData:r,gasLimit:Wf(n),gasUsed:Wf(i),hash:s,miner:o,nonce:a,number:c,parentHash:u,timestamp:l,transactions:h}}[Symbol.iterator](){let t=0;const e=this.transactions;return{next:()=>t<this.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#A.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(t){let e;if("number"==typeof t)e=this.#A[t];else{const r=t.toLowerCase();for(const t of this.#A){if("string"==typeof t){if(t!==r)continue;e=t;break}if(t.hash!==r){e=t;break}}}if(null==e)throw new Error("no such tx");return"string"==typeof e?await this.provider.getTransaction(e):e}getPrefetchedTransaction(t){const e=this.prefetchedTransactions;if("number"==typeof t)return e[t];t=t.toLowerCase();for(const r of e)if(r.hash===t)return r;Au(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(t=this).hash,number:t.number};var t}}class Zf{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(t,e){this.provider=e;const r=Object.freeze(t.topics.slice());gu(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:r,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:e,blockNumber:r,data:n,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:c}=this;return{_type:"log",address:t,blockHash:e,blockNumber:r,data:n,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:c}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return bu(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return bu(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return bu(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(t=this).transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}};var t}}class Yf{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;cumulativeGasUsed;gasPrice;type;status;root;#E;constructor(t,e){this.#E=Object.freeze(t.logs.map((t=>new Zf(t,e))));let r=Vf;null!=t.effectiveGasPrice?r=t.effectiveGasPrice:null!=t.gasPrice&&(r=t.gasPrice),gu(this,{provider:e,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,gasPrice:r,type:t.type,status:t.status,root:t.root})}get logs(){return this.#E}toJSON(){const{to:t,from:e,contractAddress:r,hash:n,index:i,blockHash:s,blockNumber:o,logsBloom:a,logs:c,status:u,root:l}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:o,contractAddress:r,cumulativeGasUsed:Wf(this.cumulativeGasUsed),from:e,gasPrice:Wf(this.gasPrice),gasUsed:Wf(this.gasUsed),hash:n,index:i,logs:c,logsBloom:a,root:l,status:u,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=>t<this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(null==t)throw new Error("TODO");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(null==t)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return ep(this)}reorderedEvent(t){return bu(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),tp(this,t)}}class Xf{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;data;value;chainId;signature;accessList;#_;constructor(t,e){this.provider=e,this.blockNumber=null!=t.blockNumber?t.blockNumber:null,this.blockHash=null!=t.blockHash?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=null!=t.maxPriorityFeePerGas?t.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=t.maxFeePerGas?t.maxFeePerGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=null!=t.accessList?t.accessList:null,this.#_=-1}toJSON(){const{blockNumber:t,blockHash:e,index:r,hash:n,type:i,to:s,from:o,nonce:a,data:c,signature:u,accessList:l}=this;return{_type:"TransactionReceipt",accessList:l,blockNumber:t,blockHash:e,chainId:Wf(this.chainId),data:c,from:o,gasLimit:Wf(this.gasLimit),gasPrice:Wf(this.gasPrice),hash:n,maxFeePerGas:Wf(this.maxFeePerGas),maxPriorityFeePerGas:Wf(this.maxPriorityFeePerGas),nonce:a,signature:u,to:s,index:r,type:i,value:Wf(this.value)}}async getBlock(){let t=this.blockNumber;if(null==t){const e=await this.getTransaction();e&&(t=e.blockNumber)}if(null==t)return null;const e=this.provider.getBlock(t);if(null==e)throw new Error("TODO");return e}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:t,blockNumber:e}=await du({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==t||null==t.blockNumber?0:e-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,e){const r=null==t?1:t,n=null==e?0:e;let i=this.#_,s=-1,o=-1===i;const a=async()=>{if(o)return null;const{blockNumber:t,nonce:e}=await du({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(e<this.nonce)return void(i=t);if(o)return null;const n=await this.getTransaction();if(!n||null==n.blockNumber)for(-1===s&&(s=i-3,s<this.#_&&(s=this.#_));s<=t;){if(o)return null;const e=await this.provider.getBlock(s,!0);if(null==e)return;for(const t of e)if(t===this.hash)return;for(let n=0;n<e.length;n++){const s=await e.getTransaction(n);if(s.from===this.from&&s.nonce===this.nonce){if(o)return null;const e=await this.provider.getTransactionReceipt(s.hash);if(null==e)return;if(t-e.blockNumber+1<r)return;let n="replaced";s.data===this.data&&s.to===this.to&&s.value===this.value?n="repriced":"0x"===s.data&&s.from===s.to&&s.value===Vf&&(n="cancelled"),bu(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===n||"cancelled"===n,reason:n,replacement:s.replaceableTransaction(i),hash:s.hash,receipt:e})}}s++}},c=await this.provider.getTransactionReceipt(this.hash);if(c){if(await c.confirmations()>=r)return c}else if(await a(),0===r)return null;const u=new Promise(((t,e)=>{const s=[],c=()=>{s.forEach((t=>t()))};if(s.push((()=>{o=!0})),n>0){const t=setTimeout((()=>{c(),e(wu("wait for transaction timeout","TIMEOUT"))}),n);s.push((()=>{clearTimeout(t)}))}const u=async e=>{await e.confirmations()>=r&&(c(),t(e))};if(s.push((()=>{this.provider.off(this.hash,u)})),this.provider.on(this.hash,u),i>=0){const t=async()=>{try{await a()}catch(r){if(mu(r,"TRANSACTION_REPLACED"))return c(),void e(r)}o||this.provider.once("block",t)};s.push((()=>{this.provider.off("block",t)})),this.provider.once("block",t)}}));return await u}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}removedEvent(){return bu(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ep(this)}reorderedEvent(t){return bu(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),bu(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),tp(this,t)}replaceableTransaction(t){Au(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);const e=new Xf(this,this.provider);return e.#_=t,e}}function tp(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function ep(t){return{orphan:"drop-transaction",tx:t}}class rp{filter;emitter;#x;constructor(t,e,r){this.#x=e,gu(this,{emitter:t,filter:r})}async removeListener(){null!=this.#x&&await this.emitter.off(this.filter,this.#x)}}class np extends Zf{interface;fragment;args;constructor(t,e,r){super(t,t.provider);gu(this,{args:e.decodeEventLog(r,t.data,t.topics),fragment:r,interface:e})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class ip extends Yf{#S;constructor(t,e,r){super(r,e),this.#S=t}get logs(){return super.logs.map((t=>{const e=t.topics.length?this.#S.getEvent(t.topics[0]):null;return e?new np(t,this.#S,e):t}))}}class sp extends Xf{#S;constructor(t,e,r){super(r,e),this.#S=t}async wait(t){const e=await super.wait();return null==e?null:new ip(this.#S,this.provider,e)}}class op extends rp{log;constructor(t,e,r,n){super(t,e,r),gu(this,{log:n})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class ap extends op{constructor(t,e,r,n,i){super(t,e,r,new np(i,t.interface,n));gu(this,{args:t.interface.decodeEventLog(n,this.log.data,this.log.topics),fragment:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const cp=BigInt(0);function up(t){return t&&"function"==typeof t.call}function lp(t){return t&&"function"==typeof t.estimateGas}function hp(t){return t&&"function"==typeof t.resolveName}function fp(t){return t&&"function"==typeof t.sendTransaction}class pp{#P;fragment;constructor(t,e,r){if(gu(this,{fragment:e}),e.inputs.length<r.length)throw new Error("too many arguments");const n=dp(t.runner,"resolveName"),i=hp(n)?n:null;this.#P=async function(){const n=await Promise.all(e.inputs.map(((t,e)=>null==r[e]?null:t.walkAsync(r[e],((t,e)=>"address"===t?bf(e,i):e)))));return t.interface.encodeFilterTopics(e,n)}()}getTopicFilter(){return this.#P}}function dp(t,e){return null==t?null:"function"==typeof t[e]?t:t.provider&&"function"==typeof t.provider[e]?t.provider:null}function gp(t){return null==t?null:t.provider||null}async function yp(t,e){const r=Jf(Yl.dereference(t,"overrides"));return Au(null==r.to||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),Au(null==r.data||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=await bf(r.from)),r}function mp(t){const e=async function(e){const r=await yp(e,["data"]);r.to=await t.getAddress();const n=t.interface,i=zu(r.value||cp,"overrides.value")===cp,s="0x"===(r.data||"0x");!n.fallback||n.fallback.payable||!n.receive||s||i||Au(!1,"cannot send data to receive or send value to non-payable fallback","overrides",e),Au(n.fallback||s,"cannot send data to receive-only contract","overrides.data",r.data);return Au(n.receive||n.fallback&&n.fallback.payable||i,"cannot send value to non-payable fallback","overrides.value",r.value),Au(n.fallback||s,"cannot send data to receive-only contract","overrides.data",r.data),r},r=async function(r){const n=t.runner;bu(fp(n),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const i=await n.sendTransaction(await e(r)),s=gp(t.runner);return new sp(t.interface,s,i)},n=async t=>await r(t);return gu(n,{_contract:t,estimateGas:async function(r){const n=dp(t.runner,"estimateGas");return bu(lp(n),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await n.estimateGas(await e(r))},populateTransaction:e,send:r,staticCall:async function(r){const n=dp(t.runner,"call");bu(up(n),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await e(r);try{return await n.call(i)}catch(s){if(vu(s)&&s.data)throw t.interface.makeError(s.data,i);throw s}}}),n}function vp(t,e){const r=function(...r){const n=t.interface.getFunction(e,r);return bu(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment"}),n},n=async function(...e){const n=r(...e);let i={};if(n.inputs.length+1===e.length&&(i=await yp(e.pop())),n.inputs.length!==e.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const s=await async function(t,e,r){const n=dp(t,"resolveName"),i=hp(n)?n:null;return await Promise.all(e.map(((t,e)=>t.walkAsync(r[e],((t,e)=>(e=Yl.dereference(e,t),"address"===t?bf(e,i):e))))))}(t.runner,n.inputs,e);return Object.assign({},i,await du({to:t.getAddress(),data:t.interface.encodeFunctionData(n,s)}))},i=async function(...t){const e=await o(...t);return 1===e.length?e[0]:e},s=async function(...e){const r=t.runner;bu(fp(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const i=await r.sendTransaction(await n(...e)),s=gp(t.runner);return new sp(t.interface,s,i)},o=async function(...e){const i=dp(t.runner,"call");bu(up(i),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const s=await n(...e);let o="0x";try{o=await i.call(s)}catch(c){if(vu(c)&&c.data)throw t.interface.makeError(c.data,s);throw c}const a=r(...e);return t.interface.decodeFunctionResult(a,o)},a=async(...t)=>r(...t).constant?await i(...t):await s(...t);return gu(a,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:async function(...e){const r=dp(t.runner,"estimateGas");return bu(lp(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await n(...e))},populateTransaction:n,send:s,staticCall:i,staticCallResult:o}),Object.defineProperty(a,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=t.interface.getFunction(e);return bu(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment"}),r}}),a}const wp=Symbol.for("_ethersInternal_contract"),bp=new WeakMap;function Ap(t){return bp.get(t[wp])}async function Ep(t,e){let r,n=null;if(Array.isArray(e)){const n=function(e){if(Iu(e,32))return e;const r=t.interface.getEvent(e);return Au(r,"unknown fragment","name",e),r.topicHash};r=e.map((t=>null==t?null:Array.isArray(t)?t.map(n):n(t)))}else"*"===e?r=[null]:"string"==typeof e?Iu(e,32)?r=[e]:(n=t.interface.getEvent(e),Au(n,"unknown fragment","event",e),r=[n.topicHash]):(i=e)&&"object"==typeof i&&"getTopicFilter"in i&&"function"==typeof i.getTopicFilter&&i.fragment?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):Au(!1,"unknown event name","event",e);var i;r=r.map((t=>{if(null==t)return null;if(Array.isArray(t)){const e=Array.from(new Set(t.map((t=>t.toLowerCase()))).values());return 1===e.length?e[0]:(e.sort(),e)}return t.toLowerCase()}));return{fragment:n,tag:r.map((t=>null==t?"null":Array.isArray(t)?t.join("|"):t)).join("&"),topics:r}}async function _p(t,e){const{subs:r}=Ap(t);return r.get((await Ep(t,e)).tag)||null}async function xp(t,e,r){const n=gp(t.runner);bu(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:o}=await Ep(t,r),{addr:a,subs:c}=Ap(t);let u=c.get(s);if(!u){const e={address:a||t,topics:o},l=e=>{let n=i;if(null==n)try{n=t.interface.getEvent(e.topics[0])}catch(s){}if(n){const s=n,o=i?t.interface.decodeEventLog(i,e.data,e.topics):[];Pp(t,r,o,(n=>new ap(t,n,r,s,e)))}else Pp(t,r,[],(n=>new op(t,n,r,e)))};let h=[];u={tag:s,listeners:[],start:()=>{h.length||h.push(n.on(e,l))},stop:async()=>{if(0==h.length)return;let t=h;h=[],await Promise.all(t),n.off(e,l)}},c.set(s,u)}return u}let Sp=Promise.resolve();async function Pp(t,e,r,n){try{await Sp}catch(s){}const i=async function(t,e,r,n){await Sp;const i=await _p(t,e);if(!i)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter((({listener:e,once:i})=>{const o=Array.from(r);n&&o.push(n(i?null:e));try{e.call(t,...o)}catch(s){}return!i})),o>0}(t,e,r,n);return Sp=i,await i}const Op=["then"];class Ip{target;interface;runner;filters;[wp];fallback;constructor(t,e,r,n){Au("string"==typeof t||vf(t),"invalid value for Contract target","target",t),null==r&&(r=null);const i=Gf.from(e);let s;gu(this,{target:t,runner:r,interface:i}),Object.defineProperty(this,wp,{value:{}});let o=null,a=null;if(n){const t=gp(r);a=new sp(this.interface,t,n)}let c=new Map;if("string"==typeof t)if(Iu(t))o=t,s=Promise.resolve(t);else{const e=dp(r,"resolveName");if(!hp(e))throw wu("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=e.resolveName(t).then((t=>{if(null==t)throw new Error("TODO");return Ap(this).addr=t,t}))}else s=t.getAddress().then((t=>{if(null==t)throw new Error("TODO");return Ap(this).addr=t,t}));var u,l;u=this,l={addrPromise:s,addr:o,deployTx:a,subs:c},bp.set(u[wp],l);const h=new Proxy({},{get:(t,e,r)=>{if(Op.indexOf(e)>=0)return Reflect.get(t,e,r);const n=String(e),i=this.getEvent(n);if(i)return i;throw new Error(`unknown contract event: ${n}`)},has:(t,e)=>Op.indexOf(e)>=0?Reflect.has(t,e):Reflect.has(t,e)||this.interface.hasEvent(String(e))});return gu(this,{filters:h}),gu(this,{fallback:i.receive||i.fallback?mp(this):null}),new Proxy(this,{get:(t,e,r)=>{if(e in t||Op.indexOf(e)>=0)return Reflect.get(t,e,r);const n=String(e),i=t.getFunction(n);if(i)return i;throw new Error(`unknown contract method: ${n}`)},has:(t,e)=>e in t||Op.indexOf(e)>=0?Reflect.has(t,e):t.interface.hasFunction(String(e))})}connect(t){return new Ip(this.target,this.interface,t)}async getAddress(){return await Ap(this).addrPromise}async getDeployedCode(){const t=gp(this.runner);bu(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const e=await t.getCode(await this.getAddress());return"0x"===e?null:e}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(null!=await this.getDeployedCode())return this;const e=gp(this.runner);return bu(null!=e,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((t,r)=>{const n=async()=>{try{if(null!=await this.getDeployedCode())return t(this);e.once("block",n)}catch(i){r(i)}};n()}))}deploymentTransaction(){return Ap(this).deployTx}getFunction(t){"string"!=typeof t&&(t=t.format());return vp(this,t)}getEvent(t){return"string"!=typeof t&&(t=t.format()),function(t,e){const r=function(...r){const n=t.interface.getEvent(e,r);return bu(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment"}),n},n=function(...e){return new pp(t,r(...e),e)};return gu(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=t.interface.getEvent(e);return bu(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment"}),r}}),n}(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,e,r){null==e&&(e=0),null==r&&(r="latest");const{addr:n,addrPromise:i}=Ap(this),s=n||await i,{fragment:o,topics:a}=await Ep(this,t),c={address:s,topics:a,fromBlock:e,toBlock:r},u=gp(this.runner);return bu(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(c)).map((t=>{let e=o;if(null==e)try{e=this.interface.getEvent(t.topics[0])}catch(r){}return e?new np(t,this.interface,e):new Zf(t,u)}))}async on(t,e){const r=await xp(this,"on",t);return r.listeners.push({listener:e,once:!1}),r.start(),this}async once(t,e){const r=await xp(this,"once",t);return r.listeners.push({listener:e,once:!0}),r.start(),this}async emit(t,...e){return await Pp(this,t,e,null)}async listenerCount(t){if(t){const e=await _p(this,t);return e?e.listeners.length:0}const{subs:e}=Ap(this);let r=0;for(const{listeners:n}of e.values())r+=n.length;return r}async listeners(t){if(t){const e=await _p(this,t);return e?e.listeners.map((({listener:t})=>t)):[]}const{subs:e}=Ap(this);let r=[];for(const{listeners:n}of e.values())r=r.concat(n.map((({listener:t})=>t)));return r}async off(t,e){const r=await _p(this,t);if(!r)return this;if(e){const t=r.listeners.map((({listener:t})=>t)).indexOf(e);t>=0&&r.listeners.splice(t,1)}return null!=e&&0!==r.listeners.length||(r.stop(),Ap(this).subs.delete(r.tag)),this}async removeAllListeners(t){if(t){const e=await _p(this,t);if(!e)return this;e.stop(),Ap(this).subs.delete(e.tag)}else{const{subs:t}=Ap(this);for(const{tag:e,stop:r}of t.values())r(),t.delete(e)}return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return await this.off(t,e)}static buildClass(t){return class extends Ip{constructor(e,r=null){super(e,t,r)}}}static from(t,e,r){null==r&&(r=null);return new this(t,e,r)}}class Cp extends(function(){return Ip}()){}function Np(t){return function(t){let e=0;return()=>t[e++]}(function(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let w=1;w<n;w++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,u=0;function l(){return 0==c&&(u=u<<8|t[e++],c=8),u>>--c&1}const h=2**31,f=h>>>1,p=h-1;let d=0;for(let w=0;w<31;w++)d=d<<1|l();let g=[],y=0,m=h;for(;;){let t=Math.floor(((d-y+1)*i-1)/m),e=0,r=n;for(;r-e>1;){let n=e+r>>>1;t<s[n]?r=n:e=n}if(0==e)break;g.push(e);let o=y+Math.floor(m*s[e]/i),a=y+Math.floor(m*s[e+1]/i)-1;for(;0==((o^a)&f);)d=d<<1&p|l(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&536870912;)d=d&f|d<<1&p>>>1|l(),o=o<<1^f,a=(a^f)<<1|f|1;y=o,m=1+a-o}let v=n-4;return g.map((e=>{switch(e-v){case 3:return v+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return v+256+(t[a++]<<8|t[a++]);case 1:return v+t[a++];default:return e-1}}))}(function(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((t,r)=>e[t.charCodeAt(0)]=r));let r=t.length,n=new Uint8Array(6*r>>3);for(let i=0,s=0,o=0,a=0;i<r;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(n[s++]=a>>(o-=8));return n}(t)))}function Tp(t){return 1&t?~t>>1:t>>1}function kp(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=Tp(e());return r}function Rp(t,e=0){let r=[];for(;;){let n=t(),i=t();if(!i)break;e+=n;for(let t=0;t<i;t++)r.push(e+t);e+=i+1}return r}function Lp(t){return Up((()=>{let e=Rp(t);if(e.length)return e}))}function jp(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(Dp(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Mp(r,t))}return e.flat()}function Up(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function Bp(t,e,r){let n=Array(t).fill().map((()=>[]));for(let i=0;i<e;i++)kp(t,r).forEach(((t,e)=>n[e].push(t)));return n}function Dp(t,e){let r=1+e(),n=e(),i=Up(e);return Bp(i.length,1+t,e).flatMap(((t,e)=>{let[s,...o]=t;return Array(i[e]).fill().map(((t,e)=>{let i=e*n;return[s+e*r,o.map((t=>t+i))]}))}))}function Mp(t,e){return Bp(1+e(),1+t,e).map((t=>[t[0],t.slice(1)]))}var Fp=Np("AEgSbwjEDVYByQKaAQsBOQDpATQAngDUAHsAoABoANQAagCNAEQAhABMAHIAOwA9ACsANgAmAGIAHgAvACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGAAeABMAFwAXAA0ADgAWAA8AFAAVBFsF1QEXE0o3xAXUALIArkABaACmAgPGAK6AMDAwMAE/qAYK7P4HQAblMgVYBVkAPSw5Afa3EgfJwgAPA8meNALGCjACjqIChtk/j2+KAsXMAoPzASDgCgDyrgFCAi6OCkCQAOQA4woWABjVuskNDD6eBBx4AP4COhi+D+wKBirqBgSCaA0cBy4ArABqku+mnIAAXAaUJAbqABwAPAyUFvyp/Mo8INAIvCoDshQ8APcubKQAon4ZABgEJtgXAR4AuhnOBPsKIE04CZgJiR8cVlpM5INDABQADQAWAA9sVQAiAA8ASO8W2T30OVnKluYvChEeX05ZPe0AFAANABYAD2wgXUCYAMPsABwAOgzGFryp/AHauQVcBeMC0KACxLEKTR2kZhR0Gm5M9gC8DmgC4gAMLjSKF8qSAoF8ARMcAL4OaALiAAwuAUlQJpJMCwMt/AUpCthqGK4B2EQAciwSeAIyFiIDKCi6OGwAOuIB9iYAyA7MtgEcZIIAsgYABgCK1EoFHNZsGACoKNIBogAAAAAAKy4DnABoAQoaPu43dQQZGACrAcgCIgDgLBJ0OvRQsTOiKDVJBfsoBVoFWbC5BWo7XkITO1hCmHuUZmCh+QwUA8YIJvJ4JASkTAJUVAJ2HKwoAZCkpjZcA0YYBIRiCgDSBqxAMCQHKgI6XgBsAWIgcgCEHhoAlgFKuAAoahgBsMYDOC4iRFQBcFoGZgJmAPJKGAMqAgYASkIArABeAHQALLYGCPTwGo6AAAAKIgAqALQcSAHSAdwIDDKXeYHpAAsAEgA1AD4AOTR3etTBEGAQXQJNCkxtOxUMAq0PpwvmERYM0irM09kANKoH7ANUB+wDVANUB+wH7ANUB+wDVANUA1QDVBwL8BvUwRBgD0kEbgWPBYwE1wiEJkoRggcpCNNUDnQfHEgDRgD9IyZJHTuUMwwlQ0wNTQQH/TZDbKh9OQNIMaxU9pCjA8wyUDltAh5yEqEAKw90HTW2Tn96SHGhCkxPr7WASWNOaAK/Oqk/+QoiCZRvvHdPBj4QGCeiEPQMMAGyATgN6kvVBO4GOATGH3oZFg/KlZkIoi3aDOom4C6egFcj8iqABepL8TzaC0pRZQ9WC2IJ4DpggUsDHgEKIogK2g02CGoQ8ArGaA3iEUIHNgPSSZcAogb+Cw4dMhWyJg1iqQsGOXQG+BrzC4wmrBMmevkF0BoeBkoBJhr8AMwu5IWtWi5cGU9cBgALIiPEFKVQHQ0iQLR4RRoYBxIlpgKOQ21KhFEzHpAh8zw6DWMuEFF5B/I8AhlMC348m0aoRQsRzz6KPUUiRkwpBDJ8LCwniAnMD4IMtnxvAVYJHgmuDG4TLhEUN8IINgcWKpchJxIIHkaSYJcE9JwD8BPOAwgFPAk+BxADshwqEysVJgUKgSHUAvA20i6wAoxWfQEUBcgPIh/cEE1H3Q7mCJgCYgOAJegAKhUeABQimAhAYABcj9VTAi7ICMRqaSNxA2QU5F4RcAeODlQHpBwwFbwc3nDFXgiGBSigrAlYAXIJlgFcBOAIBjVYjJ0gPmdQi1UYmCBeQTxd+QIuDGIVnES6h3UCiA9oEhgBMgFwBzYM/gJ0EeoRaBCSCOiGATWyM/U6IgRMIYAgDgokA0xsywskJvYM9WYBoBJfAwk0OnfrZ6hgsyEX+gcWMsJBXSHuC49PygyZGr4YP1QrGeEHvAPwGvAn50FUBfwDoAAQOkoz6wS6C2YIiAk8AEYOoBQH1BhnCm6MzQEuiAG0lgNUjoACbIwGNAcIAGQIhAV24gAaAqQIoAACAMwDVAA2AqoHmgAWAII+AToDJCwBHuICjAOQCC7IAZIsAfAmBBjADBIA9DRuRwLDrgKAZ2afBdpVAosCRjIBSiIEAktETgOsbt4A2ABIBhDcRAESqEfIF+BAAdxsKADEAPgAAjIHAj4BygHwagC0AVwLLgmfsLIBSuYmAIAAEmgB1AKGANoAMgB87gFQAEoFVvYF0AJMRgEOLhUoVF4BuAMcATABCgB2BsiKosYEHARqB9ACEBgV3gLvKweyAyLcE8pCwgK921IAMhMKNQqkCqNgWF0wAy5vPU0ACx+lPsQ/SwVOO1A7VTtQO1U7UDtVO1A7VTtQO1UDlLzfvN8KaV9CYegMow3RRMU6RhPYYE5gLxPFLbQUvhXLJVMZOhq5JwIl4VUGDwEt0GYtCCk0che5ADwpZYM+Y4MeLQpIHORTjlT1LRgArkufM6wNqRsSRD0FRHXqYicWCwofAmR+AmI/WEqsWDcdAqH0AmiVAmYGAp+BOBgIAmY4AmYjBGsEfAN/EAN+jzkDOXQUOX86ICACbBoCMjM4BwJtxAJtq+yHMGRCKAFkANsA3gBHAgeVDIoA+wi/AAqyAncsAnafPAJ5SEACeLcaWdhFq0bwAnw8AnrFAn0GAnztR/1IemAhACgSSVVKWBIUSskC0P4C0MlLJAOITAOH40TCkS8C8p5dAAMDq0vLTCoiAMxNSU2sAos8AorVvhgEGkBkArQCjjQCjlk9lH4CjtYCjll1UbFTMgdS0VSCApP4ApMJAOYAGVUbVaxVzQMsGCmSgzLeeGNFODYCl5wC769YHqUAViIClowClnmZAKZZqVoGfkoAOAKWsgKWS1xBXM4CmcgCmWFcx10EFgKcmDm/OpoCnBMCn5gCnrWHABoMLicMAp3uAp6PALI6YTFh7AKe0AKgawGmAp6cHAKeS6JjxWQkIigCJ6wCJnsCoPgCoEnUAqYsAqXLAqf8AHoCp+9oeWiuAABGahlqzgKs4AKsqwKtZAKs/wJXGgJV2QKx3tQDH0tslAKyugoCsuUUbN1tYG1FXAMlygK2WTg8bo0DKUICuFsCuUQSArkndHAzcN4CvRYDLa8DMg4CvoVx/wMzbgK+F3Mfc0wCw8gCwwFzf3RIMkJ03QM8pAM8lwM9vALFeQLGRALGDYYCyGZOAshBAslMAskrAmSaAt3PeHZeeKt5IkvNAxigZv8CYfEZ8JUhewhej164DgLPaALPaSxIUM/wEJwAw6oCz3ABJucDTg9+SAIC3CQC24cC0kwDUlkDU1wA/gNViYCGPMgT6l1CcoLLg4oC2sQC2duEDYRGpzkDhqIALANkC4ZuVvYAUgLfYgLetXB0AuIs7REB8y0kAfSYAfLPhALr8ALpbXYC6vYC6uEA9kQBtgLuhgLrmZanlwAC7jwDhd2YdnDdcZ4C8wAAZgOOE5mQAvcQA5FrA5KEAveVAvnWAvhjmhmaqLg0mxsDnYAC/vcBGAA2nxmfsAMFigOmZwOm1gDOwgMGZ6GFogIGAwxGAQwBHAdqBl62ZAIAuARovA6IHrAKABRyNgAgAzASSgOGfAFgJB4AjOwAHgDmoAScjgi0BhygwgCoBRK86h4+PxZ5BWk4P0EsQiJCtV9yEl+9AJbGBTMAkE0am7o7J2AzErrQDjAYxxiKyfcFWAVZBVgFWQVkBVkFWAVZBVgFWQVYBVkFWAVZRxYI2IZoAwMDCmVe6iwEygOyBjC8vAC8BKi8AOhBKhazBUc+aj5xQkBCt192OF/pAFgSM6wAjP/MbMv9puhGez4nJAUsFyg3Nn5u32vB8hnDLGoBbNdvMRgFYAVrycLJuQjQSlwBAQEKfV5+jL8AND+CAAQW0gbmriQGAIzEDAMCDgDlZh4+JSBLQrJCvUI5JF8oYDcoOSQJwj4KRT9EPnk+gj5xPnICikK9SkM8X8xPUGtOCy1sVTBrDG8gX+E0OxwJaJwKYyQsPR4nQqxCvSzMAsv9X8oPIC8KCQoAACN+nt9rOy5LGMmsya0JZsLMzQphQWAP5hCkEgCTjh5GQiYbqm06zjkKND9EPnFCQBwICx5NSG1cLS5a4rwTCn7uHixCQBxeCUsKDzRVREM4BTtEnC0KghwuQkAb9glUIyQZMTIBBo9i8F8KcmTKYAxgLiRvAERgGjoDHB9gtAcDbBFmT2BOEgIAZOhgFmCWYH5gtGBMYJJpFhgGtg/cVqq8WwtDF6wBvCzOwgMgFgEdBB8BegJtMDGWU4EBiwq5SBsA5SR0jwvLDqdN6wGcAoidUAVBYAD4AD4LATUXWHsMpg0lILuwSABQDTUAFhO4NVUC0wxLZhEcANlPBnYECx9bADIAtwKbKAsWcKwzOaAaAVwBhwn9A9ruEAarBksGugAey1aqWwq7YhOKCy1ADrwBvAEjA0hbKSkpIR8gIi0TJwciDY4AVQJvWJFKlgJvIA9ySAHUdRDPUiEaqrFN6wcSBU1gAPgAPgsBewAHJW0LiAymOTEuyLBXDgwAYL0MAGRKaFAiIhzAADIAtwKbKC08D88CkRh8ULxYyXRzjtilnA72mhU+G+0S2hIHDxwByAk7EJQGESwNNwwAPAC0zwEDAKUA4gCbizAAFQBcG8cvbXcrDsIRAzwlRNTiHR8MG34CfATCC6vxbQA4Oi4Opzkuz6IdB7wKABA7Ls8SGgB9rNsdD7wbSBzOoncfAT4qYB0C7KAJBE3z5R9mDL0M+wg9Cj8ABcELPgJMDbwIvQ09CT0KvS7PoisOvAaYAhwPjBriBBwLvBY8AKELPBC8BRihe90AO2wMPQACpwm9BRzR9QYFB2/LBnwAB7wSXBISvQECAOsCAAB1FVwHFswV/HAXvBg8AC68AuyovAAevAJWISuAAAG8AALkFT0VvCvso7zJqDwEAp8nTAACXADn3hm8CaVcD7/FAPUafAiiBQv/cQDfvKe8GNwavKOMeXMG/KmchAASvAcbDAADlABtvAcAC7ynPAIaPLsIopzLDvwHwak8AOF8L7dtvwNJAAPsABW8AAb8AAm8AGmMABq8AA68Axi8jmoV/AABXAAObAAuTB8ABrwAF7wIIgANSwC6vCcAA7wADpwq7ACyWwAcHAAbvAAB7AqiAAXHCxYV3AAHnABCvAEDAGm8AAt8AB28AAi8CaIABcsAbqAZ1gCSCCIABcsAATwAB9wAHZwIIgAGmwAJfAAbLABtHADmvIEACFwACDwAFLwAaPwJIgAGywDjjAAJPAuiDsX7YAAHPABunUBJAEgACrwFAAM8AAmuAzgABxwAGXwAAgym/AAKHAAKPAAJ/KfsBrwACRwAAwwAEDwBABQ8ABFsAA+MAA3sAA28ABkMBxYcABU8AG6cFrQBvAC7ABM8BABpLAsA4UwAAjwABFMAF3wFHAAG0QAYvB8BfClTADpGALAJBw4McwApK3EBpQYIXwJtJA0ACghwTG1gK4oggRVjLjcDogq1AALZABcC/ARvAXdzSFMVIgNQAhY/AS0GBHRHvnxTe0EAKgAyAvwAVAvcAHyRLQEsAHfmDhIzRwJLAFgGAAJRAQiLzQB5PAQhpgBbANcWAJZpOCCMAM5ssgDQ1RcJw3Z0HBlXHgrSAYmRrCNUVE5JEz3DivoAgB04QSos4RKYUABzASosMSlDGhADMVYE+MbvAExm3QBrAnICQBF7Osh4LzXWBhETIAUVCK6v/xPNACYAAQIbAIYAiQCONgDjALQA1QCdPQC7AKsApgChAOcAnwDTAJwA4AEBAPwAwAB6AFsAywDNAPwA1wDrAIkAogEqAOMA2ADVBAIIKzTT09PTtb/bzM/NQjEWAUsBVS5GAVMBYgFhAVQBRUpCRGcMAUwUBgkEMzcMBwAgDSQmKCs3OTk8PDw9Pg0/HVBQUFBSUlFSKFNUVlVVHFxgYF9hYCNlZ29ucXFxcXFxc3Nzc3Nzc3Nzc3N1dXZ1dFsAPesAQgCTAHEAKwBf8QCHAFAAUAAwAm/oAIT+8fEAXQCM6wCYAEgAWwBd+PipAH4AfgBiAE8AqgAdAK8AfAI5AjwA9QDgAPcA9wDhAPgA4gDiAOEA3wAoAnQBSgE5ATcBTQE3ATcBNwEyATEBMQExARUBURAAKgkBAEwYCxcEFhcPAIcAjwCfAEoAYxkCKgBvAGgAkAMOAyArAxpCP0gqAIoCSADAAlACnQC5Ao8CjwKPAo8CjwKPAoQCjwKPAo8CjwKPAo8CjgKOApECmQKQAo8CjwKNAo0CjQKNAosCjgJuAc0CkAKYAo8CjwKOF3oMAPcGA5gCWgIzGAFNETYC2xILLBQBRzgUTpIBdKU9AWJaAP4DOkgA/wCSKh4ZkGsAKmEAagAvAIoDlcyM8K+FWwa7LA/DEgKe1nUrCwQkWwGzAN5/gYB/gX+Cg4N/hIeFf4aJh4GIg4mDin+Lf4x/jYuOf49/kIORf5J/k3+Uf5WElomXg5h/AIMloQCEBDwEOQQ7BD4EPARCBD8EOgRABEIEQQQ9BD8EQgCkA4gAylIA0AINAPdbAPcBGgD3APUA9QD2APXVhSRmvwD3APUA9QD2APUdAIpbAPcAigEaAPcAigLtAPcAitWFJGa/HQD4WwEaAPcA9wD1APUA9gD1APgA9QD1APYA9dWFJGa/HQCKWwEaAPcAigD3AIoC7QD3AIrVhSRmvx0CRAE3AksBOgJMwgOfAu0Dn9WFJGa/HQCKWwEaA58AigOfAIoC7QOfAIrVhSRmvx0EMQCKBDIAigeOMm4hLQCKAT9vBCQA/gDHWwMAVVv/FDMDAIoDPtkASgMAigMAl2dBtv/TrfLzakaPh3aztmIuZQrR3ER2n5Yo+qNR2jK/aP/V04UK1njIJXLgkab9PjOxyJDVbIN3R/FZLoZVl2kYFQIZ7V6LpRqGDt9OdDohnJKp5yX/HLj0voPpLrneDaN11t5W3sSM4ALscgSw8fyWLVkKa/cNcQmjYOgTLZUgOLi2F05g4TR0RfgZ4PBdntxdV3qvdxQt8DeaMMgjJMgwUxYN3tUNpUNx21AvwADDAIa0+raTWaoBXmShAl5AThpMi282o+WzOKMlxjHj7a+DI6AM6VI9w+xyh3Eyg/1XvPmbqjeg2MGXugHt8wW03DQMRTd5iqqOhjLvyOCcKtViGwAHVLyl86KqvxVX7MxSW8HLq6KCrLpB8SspAOHO9IuOwCh9poLoMEha9CHCxlRAXJNDobducWjqhFHqCkzjTM2V9CHslwq4iU19IxqhIFZMve15lDTiMVZIPdADXGxTqzSTv0dDWyk1ht430yvaYCy9qY0MQ3cC5c1uw4mHcTGkMHTAGC99TkNXFAiLQgw9ZWhwKJjGCe+J5FIaMpYhhyUnEgfrF3zEtzn40DdgCIJUJfZ0mo3eXsDwneJ8AYCr7Vx2eHFnt2H6ZEyAHs9JoQ4Lzh5zBoGOGwAz37NOPuqSNmZf51hBEovtpm2T1wI79OBWDyvCFYkONqAKGVYgIL0F+uxTcMLSPtFbiNDbBPFgip8MGDmLLHbSyGXdCMO6f7teiW9EEmorZ+75KzanZwvUySgjoUQBTfHlOIerJs6Y9wLlgDw18AB1ne0tZRNgGjcrqHbtubSUooEpy4hWpDzTSrmvqw0H9AoXQLolMt9eOM+l9RitBB1OBnrdC1XL4yLFyXqZSgZhv7FnnDEXLUeffb4nVDqYTLY6X7gHVaK4ZZlepja2Oe6OhLDI/Ve5SQTCmJdH3HJeb14cw99XsBQAlDy5s5kil2sGezZA3tFok2IsNja7QuFgM30Hff3NGSsSVFYZLOcTBOvlPx8vLhjJrSI7xrNMA/BOzpBIJrdR1+v+zw4RZ7ry6aq4/tFfvPQxQCPDsXlcRvIZYl+E5g3kJ+zLMZon0yElBvEOQTh6SaAdIO6BwdqJqfvgU+e8Y65FQhdiHkZMVt9/39N2jGd26J6cNjq8cQIyp6RonRPgVn2fl89uRDcQ27GacaN0MPrcNyRlbUWelKfDfyrNVVGBG5sjd3jXzTx06ywyzuWn5jbvEfPPCTbpClkgEu9oPLKICxU5HuDe3jA1XnvU85IYYhaEtOU1YVWYhEFsa4/TQj3rHdsU2da2eVbF8YjSI0m619/8bLMZu3xildwqM7zf1cjn4Whx0PSYXcY5bR7wEQfGC7CTOXwZdmsdTO8q3uGm7Rh/RfCWwpzBHCAaVfjxgibL5vUeL0pH6bzDmI9yCXKC/okkmbc28OJvI87L/bjFzpq0DHepw4kT1Od+fL7cyuFaRgfaUWB2++TCFvz11J0leEtrGkpccfX9z2LY39sph4PBHCjNOOkd0ybUm+ZzS8GkFbqMpq8uiX2yHpa0jllTLfGTDBMYR6FT5FWLLDPMkYxt1Q0eyMvxJWztDjy0m6VvZPvamrFXjHmPpU6WxrZqH6WW//I37RwvqPQhPz8I3RPuXAk1C94ZprQWm9iGM/KgiGDO6SV9sjp+Jmk4TBajMNJ5zzWZ1k1jrteQQBp9C2dOvmbIeeEME8y573Q8TgGe+ZCzutM45gYLBzYm2LNvgq2kebAbMpHRDSyh6dQ27GbsAAdCqQVVXWC1C+zpwBM2Lr4eqtobmmu1vJEDlIQR1iN8CUWpztq50z7FFQBn3SKViX6wSqzVQCoYvAjByjeSa+h1PRnYWvBinTDB9cHt4eqDsPS4jcD3FwXJKT0RQsl8EvslI2SFaz2OtmYLFV8FwgvWroZ3fKmh7btewX9tfL2upXsrsqpLJzpzNGyNlnuZyetg7DIOxQTMBR7dqlrTlZ6FWi1g4j1NSjA2j1Yd7fzTH6k9LxCyUCneAKYCU581bnvKih6KJTeTeCX4Zhme/QIz7w2o+AdSgtLAkdrLS9nfweYEqrMLsrGGSWXtgWamAWp6+x6GM/Z8jNw3BqPNQ39hrzYLECn3tPvh/LqKbRSCiDGauDKBBj/kGbpnM1Bb/my8hv4NWStclkwjfl57y4oNDgw1JAG9VOti3QVVoSziMEsSdfEjaCPIDb7SgpLXykQsM+nbqbt97I0mIlzWv0uqFobLMAq8Rd9pszUBKxFhBPwOjf//gVOz2r7URJ2OnpviCXv9iz3a4X/YLBYbXoYwxBv/Kq0a5s4utQHzoTerJ7PmFW/no/ZAsid/hRIV82tD+Qabh5F1ssIM8Ri3chu0PuPD3sSJRMjDoxLAbwUbroiPAz/V52e8s3DIixxlO7OrvhMj3qfzA0kKxzwicr5wJmZwJxTXgrwYsqhRvpgC2Nfdyd+TYYxJSZgk+gk2g9KyHSlwQVAyPtWWgvVGyVBqsU2LpDlLNosSAtolC1uBKt5pQZLhAxTjeGCWIC/HVpagc5rRwkgpCHKEsjA8d+scp8aiMewwQBhp5dYTV5t/Nvl+HbDMu8F3S0psPyZb1bSnqlHPFUnMQeQqSqwDBT23fJO9gO3aVaa1icrXU0PKwlMM5K+iL3ATcVq2fFWKk0irCTF4LDVDG4gUpkyplq6efcZS+WDR1woApjD18x+2JQR9oOXzuA7uy4b+/91WsJd/tSd1QcAH8PVPXApieA37B7YXPhDPH1azP3PKR+HfHmOoDYLeuKsIi/ssSsdYs62qJo14Hw1P2N/6zpr8F3FTWmJ4ysAVcl84Iv/tl///Z8FaAWbBQbyMNDZjrZ2JwdRjtd1jOeNumSodFtr4/Zf45iRJf/8HSW+KIB/+GlKu8Rv1BPLr/4duoL+kFPRqrstEr41gfJupoJRf4hcYDWX93FOcfEBiIivxtjtV8g7mvOReiamYWKE7vfPbv3v2L9Kwq3cIDFGLyhyfOGuf/9vA5muH6Pjg7B4SUj2ydDXra9fSBI+DrsNHA6l51wfHssJb+11TfNk7B8OleUe3Y+ZmHboMFHdv7FFP2cfISFyeAQR0sk/Xv62HBTdW4HmnGSLFk/cqyWVVFJkdIIa+4hos3JRHcqLoRKM5h2Qtk1RZtzISMtlXTfTqIc77YsCCgQD0r61jtxskCctwJOtjE/pL8wC4LBD4AZFjh2wzzFCrT/PNqW0/DeBbkfMfzVm9yy06WiF+1mTdNNEAytVtohBKg3brWd2VQa+aF+cQ0mW5CvbwOlWCT07liX226PjiVLwFCRs/Ax2/u+ZNPjrNFIWIPf5GjHyUKp60OeXe9F01f7IaPf/SDTvyDAf7LSWWejtiZcsqtWZjrdn6A2MqBwnSeKhrZOlUMmgMionmiCIvXqKZfmhGZ1MwD3uMF4n9KJcfWLA3cL5pq48tm5NDYNh3SS/TKUtmFSlQR89MR4+kxcqJgpGbhm9gXneDELkyqAN5nitmIzTscKeJRXqd64RiaOALR2d295NWwbjHRNG2AU5oR9OS2oJg/5CY6BFPc1JvD2Mxdhp2/MZdI8dLePxiP4KRIp8VXmqfg+jqd/RNG7GNuq1U2SiI4735Bdc0MVFx6mH5UOWEa5HuhYykd6t4M1gYLVS8m1B+9bUqi5DziQq7qT8d94cxB6AB4WqMCOF/zPPtRSZUUaMSsvHOWxGASufywTX8ogy6HgUf9p+Z30wUEosl8qgmwm6o2AV6nO9HKQjRHpN6SUegI5pvR61RLnUJ1lqCtmfcsRQutEizVpAaPXN7xMp5UQ5OSZK6tniCK9CpyMd7LjR6+MxfoMEDPpWdf2p2m5N3KO4QMxf+V7vGdYjemQczQ+m2MGIkFNYDMf0Yop2eSx81sP36WHUczqEhKysp2iJSYAvfgJjinKwToPvRKb+HBi+7cJ96S5ngfLOXaHAFRLkulo4TnXTFO51gX0TCCo4ZUHdbpdgkMEwUZAPjh6M+hA8DzycbtxAgH3uD6i0nN1aTiIuQ4BYCE9dEHHwAmINU+4YEWx4EC3OZwFGfYZMPLScVlb+BAAJeARUh+gdWA3/gRqCrf1jecgqeFf1MdzrrP4SVlGm5mMihSP+zYYksAB7O+SBPwNQqSNMiLnkviY/klwgcRmvqtCqeWeA0gjuir4CMZqmw/ntP6M+l0pdN8/P9xI53aP7x/zavJbbKOz8VzO/nXxIr1tjparMnqd6iWdByHKw4lF4p/u57Yv07WeZPDnRl7wgmDVZZ44fQsjdYO/gmXQ+940PRGst8UMQApFC4OOV22e4N+lVOPyFLAOj4t8R3PFw/FjbSWy0ELuAFReNkee8ORcBOT2NPDcs7OfpUmzvn/F9Czk9o9naMyVYy/j8I5qVFmQDFcptBp65J/+sJA3w/j6y/eqUkKxTsf0CZjtNdRSBEmJ2tmfgmJbqpcsSagk+Ul9qdyV+NnqFBIJZFCB1XwPvWGDBOjVUmpWGHsWA5uDuMgLUNKZ4vlq5qfzY1LnRhCc/mh5/EX+hzuGdDy5aYYx4BAdwTTeZHcZpl3X0YyuxZFWNE6wFNppYs3LcFJePOyfKZ8KYb7dmRyvDOcORLPH0sytC6mH1US3JVj6paYM1GEr+CUmyHRnabHPqLlh6Kl0/BWd3ebziDfvpRQpPoR7N+LkUeYWtQ6Rn5v5+NtNeBPs2+DKDlzEVR5aYbTVPrZekJsZ9UC9qtVcP99thVIt1GREnN8zXP8mBfzS+wKYym8fcW6KqrE702Zco+hFQAEIR7qimo7dd7wO8B7R+QZPTuCWm1UAwblDTyURSbd85P4Pz+wBpQyGPeEpsEvxxIZkKsyfSOUcfE3UqzMFwZKYijb7sOkzpou+tC4bPXey5GI1GUAg9c3vLwIwAhcdPHRsYvpAfzkZHWY20vWxxJO0lvKfj6sG2g/pJ1vd/X2EBZkyEjLN4nUZOpOO7MewyHCrxQK8d5aF7rCeQlFX+XksK6l6z971BPuJqwdjj68ULOj9ZTDdOLopMdOLL0PFSS792SXE/EC9EDnIXZGYhr52aQb+9b2zEdBSnpkxAdBUkwJDqGCpZk/HkRidjdp0zKv/Cm52EenmfeKX6HkLUJgMbTTxxIZkIeL/6xuAaAAHbA7mONVduTHNX/UJj1nJEaI7f3HlUyiqKn7VfBE+bdb4HWln1HPJx001Ulq1tOxFf8WZEARvq5Da1+pE7fPVxLntGACz3nkoLsKcPdUqdCwwiyWkmXTd5+bv3j7HaReRt3ESn783Ew3SWsvkEjKtbocNksbrLmV+GVZn1+Uneo35MT1/4r8fngQX5/ptORfgmWfF6KSB/ssJmUSijXxQqUpzkANEkSkYgYj560OOjJr6uqckFuO15TRNgABEwNDjus1V3q2huLPYERMCLXUNmJJpbMrUQsSO7Qnxta55TvPWL6gWmMOvFknqETzqzFVO8SVkovEdYatypLGmDy9VWfgAc0KyIChiOhbd7UlbAeVLPZyEDp4POXKBwN/KP5pT6Cyqs6yaI00vXMn1ubk9OWT9Q/O2t/C25qlnO/zO0xcBzpMBCAB8vsdsh3U8fnPX1XlPEWfaYJxKVaTUgfCESWl4CCkIyjE6iQ5JFcwU6S4/IH0/Agacp8d5Gzq2+GzPnJ7+sqk40mfFQpKrDbAKwLlr3ONEati2k/ycLMSUu7V/7BBkDlNyXoN9tvqXCbbMc4SSQXgC/DBUY9QjtrCtQ+susEomCq8xcNJNNMWCH31GtlTw2BdCXkJBjT+/QNWlBWwQ5SWCh1LdQ99QVii/DyTxjSR6rmdap3l3L3aiplQpPYlrzNm9er88fXd2+ao+YdUNjtqmxiVxmyYPzJxl67OokDcTezEGqldkGgPbRdXA+fGcuZVkembZByo7J1dMnkGNjwwCny+FNcVcWvWYL9mg8oF7jACVWI3bA64EXpdM8bSIEVIAs5JJH+LHXgnCsgcMGPZyAAVBncvbLiexzg9YozcytjPXVlAbQAC7Tc4S0C8QN4LlAGjj4pQAVWrwkaDoUYGxxvkCWKRRHkdzJB5zpREleBDL1oDKEvAqmkDibVC4kTqF89YO6laUjgtJPebBfzr16tg4t10GmN1sJ5vezk2sUOq8blCn5mPZyT3ltaDcddKupQjqusNM9wtFVD0ABzv17fZDn7GPT1nkCtdcgYejcK1qOcTGtPxnCX1rErEjVWCnEJv5HaOAUjgpiKQjUKkQi64D5g2COgwas8FcgIl0Pw95H9dWxE3QG0VbMNffh6BPlAojLDf4es2/5Xfq7hw5NGcON2g8Qsy2UQm94KddKyy3kdJxWgpNaEc15xcylbLC3vnT26u8qS90qc2MU8LdOJc5VPF5KnSpXIhnj1eJJ/jszjZ01oR6JDFJRoeTPO/wh4IPFbdG9KljuSzeuI92p8JF/bpgDE8wG86/W2EBKgPrmzdLijxssQn8mM44ky/KLGOJcrSwXIpZa/Z3v7W6HCRk7ewds99LTsUW1LbeJytw8Q/BFZVZyfO9BUHOCe2suuEkO8DU4fLX0IQSQ2TdOkKXDtPf3sNV9tYhYFueuPRhfQlEEy+aYM/MCz7diDNmFSswYYlZZPmKr2Q5AxLsSVEqqBtn6hVl1BCFOFExnqnIsmyY/NA8jXnDaNzr7Zv3hu+I1Mf/PJjk0gALN2G8ABzdf9FNvWHvZHhv6xIoDCXf964MxG92vGZtx/LYU5PeZqgly8tT5tGeQGeJzMMsJc5p+a5Rn2PtEhiRzo/5Owjy1n0Lzx3ev8GHQmeWb8vagG6O5Qk5nrZuQTiKODI4UqL0LLAusS2Ve7j1Ivdxquu1BR9Rc4QkOiUPwQXJv6du2E8i5pDhVoQpUhyMWGUT2O2YODIhjAfI71gxep5r5zAY7GBUZpy51hAw0pcCCrhOmU8Wp6ujQTdZQsCjtq6SHX8QAMNiPCIIkoxhHEZPgsBcOlP4aErJZPhF7qvx6gHrn8hEwPwYbx8YmT/n7lbcmTip1v8kgsrIjFTAlvLY4Nuil0KDmgz3svYs0ZJ3O3Is/vSx4xpxF1e2VAtZE8dJxGYEIhCSuPvCjP54l/NSNDnwlKvAW8mG+AQkgp7a87Igh26uKMFGD0PoPHTSvoWxiHuk+su8XkQiHIjeYKl/RdcOHpxhQH3zHCNE3aARm83Bl6zGxU/vMltlVPQhubcqhW4RYkl6uXk5JdP/QpzaKFpw2M8zvysv2qj7xaQECuu2akM0Cssj/uB9+wDR7uA6XOnLNaoczalHoMj33eiiu+DRaFsUmlmUZuh9bjDY4INMNSSAivSh03uJvny4Gj+D+neudoa7iJi7c4VFlZ/J5gUR82308zSNAt/ZroBXDWw0fV3eVPAn3aX0mtJabF6RsUZmL+Ehn+wn51/4QipMjD+6y64t7bjL6bjENan2prQ4h7++hBJ9NXvX8CUocJqMC937IasLzm5K0qwXeFMAimMHkEIQIQI2LrQ9sLBfXuyp66zWvlsh74GPv7Xpabj993pRNNDuFud5oIcn/92isbADXdpRPbjmbCNOrwRbxGZx2XmYNGMiV5kjF4IKyxCBvKier9U4uVoheCdmk83rp5G0PihAm2fAtczI4b9BWqX+nrZTrJX5kSwQddi93NQrXG+Cl3eBGNkM77VBsMpEolhXex1MVvMkZN9fG59GGbciH11FEXaY1MxrArovaSjE/lUUqBg2cZBNmiWbvzCHCPJ4RVGFK2dTbObM1m+gJyEX53fa7u3+TZpm74mNEzWbkVL4vjNwfL9uzRCu1cgbrNx5Yv5dDruNrIOgwIk+UZWwJfdbu/WHul6PMmRflVCIzd7B37Pgm/Up/NuCiQW7RXyafevN3AL6ycciCc4ZPlTRzEu+aURGlUBOJbUEsheX7PPyrrhdUt5JAG12EEEZpY/N3Vhbl5uLAfT0CbC2XmpnryFkxZmBTs5prvEeuf0bn73i3O82WTiQtJWEPLsBXnQmdnKhB06NbbhLtlTZYJMxDMJpFeajSNRDB2v61BMUHqXggUwRJ19m6p5zl51v11q34T74lTXdJURuV6+bg2D6qpfGnLy7KGLuLZngobM4pIouz4+n0/UzFKxDgLM4h+fUwKZozQ9UGrHjcif51Ruonz7oIVZ56xWtZS8z7u5zay6J2LD4gCYh2RXoBRLDKsUlZ80R8kmoxlJiL8aZCy2wCAonnucFxCLT1HKoMhbPKt34D97EXPPh0joO93iJVF1Uruew61Qoy3ZUVNX9uIJDt9AQWKLLo+mSzmTibyLHq0D6hhzpvgUgI6ekyVEL3FD+Fi5R3A8MRHPXspN1VyKkfRlC+OGiNgPC4NREZpFETgVmdXrQ2TxChuS3aY+Ndc7CiYv5+CmzfiqeZrWIQJW/C4RvjbGUoJFf1K6ZdR2xL/bG4kVq1+I4jQWX+26YUijpp+lpN7o5c6ZodXJCF56UkFGsqz44sIg8jrdWvbjRCxi2Bk0iyM3a7ecAV93zB6h1Ei38c0s6+8nrbkopArccGP8vntQe1bFeEh2nJIFOHX/k3/UHb5PtKGpnzbkmnRETMX+9X/QduLZWw/feklW/kH/JnzToJe9Kgu9Hct1UGbH5BPCLo4OOtQnZonW0xnyCcdtKyPQ/sbLiSTYJdSx4sJqWLMnfn6fIqPB3WAgk00J+fCOkomPHqtS67pf0mFmKoItYZUlJu6BihSZ8qve8+/X+LX1MhQXF95AshfUleCtmdn6l6QFXzLg2sgLn1oyVFuZecv7fzsIHzoRlAGp0gwYDOn1S4qabWvB5xUaE+Svw4KmjWtxdnuQbI32dw87D4N95u8qQRJTSQg0wLxOLkxSrPMLEn1UIhNKjAa9VLs3WLaXGrtCIt8bKY2AQP/ZdyRU6zT/E8qP2ltyBE2CCZPgWgEYDoJJO4n92y61ylNaSFXKohJhLjkfvYWm592539sIpmBNLlDo1bExFBfmHJJ0lFEiC/fj8v42OoMC9Mo3whIoWvyHfq6Uacqq55mzFf/EGC+NP/gHjhd6urc6R0hES27VXux7UY8CGKPohplWIZtTrFSaPWslCWy78E22Pw8fvReSUZx/txqLtHrFqg1DY/Eus6Iq1heZdrdcqE0/c971Bz1HW/XNXHsXpUIbI4kHdOfCc6T5zHZzvzQJB0ggMFL6IGPAilU9bj/ASdPk6fNvNtZqPuwEDhMBtBnhCexo6D6VAGIOPvJPPV523Y8R8a9vCqZbswSZKzOT1291BsUbmUWehtbb1fdRX9hiJKXvwr1QX6GjnZMgyMvnwOo2Dr24amr7FqEAbVeJAjRNOceM2EQ1Mna9fInqPJ5mh5X8CzT1aDOv08An0blz0fF5Gq4mS2cwq5glwIOlY5nznE8X4j/UdZ3FJsVIXte1JH0A7iibuPfazStM5O/Vo3KXIpXBeGORV0M9XDXFvsYZUHGvFCUubWzTw248EHE0cpQM2zNg6rjavreq3NHCAWsoZ7wvVy7l5gvtKRmIj1MnvfWEm0yFnGcuOq192350a5WefpfKCcX3Sn+AgHU+qnpstNtddbdVebagJU390lq9ko4aI9rqdaWXYG8tv5O/ZQHSqDRYHC6zfH10l5z++opso7aOSaIczlQ13iAzXvLdEu0V7kwNUZ1c8Y8aq7SeIEe5p902FlNkW8DnwHyueHchbK8vVFJfmr9mz7P8nUSccl1ULaoWMRSI1ls32kvlK0h46h3J25Yd9AzfcJbp9qYF/SEt3H5j69mMdcsNxZcAzT/A89ov3tglTX54y/EwjMfuoDoxPwLJDm5I7q6F9Kp469yNy1zSxz0N4HbRRBj9xFFuogvBspv7DXUNIsGxTINEQfmctb42XImWAODgARNo7dfcTqFKq6aTfivmvunLmzP9f8yLsJvXD3JbcPcDGNriMAcjzeDTNr65t8YB5tsnFDFLa0Uwmd2OvUdkLMX9TsAUYUfooSv47sw5J88j7CpahRjjO3/UhOXjTS39W5YZAel2KTbQd1h7INOw9P23GW7GDAe4agIUFHP48MZr7ubq0efFmmtwYMyk7D0r1oeG/CGOODgb9Ur+JMHxkwzPbtCX2ZnENQuI0RN5SyTIZuoY4XS9Rd/tPe3vNAZGSHM/YYwqs9xkkENx0O+eC2YVW1cwOJ3ckE890nbQeHLKlW15L0P0W2VliyYrfNr0nrIYddoRyGaCtj4OYd2MT7ebApqZOAQIaSHJM4mphhfjNjtnjg6YRyx9qM2FT3xOiYIMqXPFWdzhSgFF8ItocqVV09CmIoO8k6U/oJB7++wSX/YksxfPXHyjSgAGZOj1aKEq9fSvXBqtp2wu8/FxEf5AxapAD06pPGuLVUYLdgEzHR8wqRGYEwiUO9MyYbgswstuLYhwYFpSVKOdzAihZ9LuHtD598EGhINU9xc9xhL+QgTLAstmPIvvm2xyRw/WTUPXkP3ZHu6GyPmj5xFH9/QGpkglKXRVUBgVmLOJx8uZO2AstxQYocZH2JhORlxawj66BAXUEs7K/gPxINIRAFyK3WLuyq9oBTF9wEbnmCot82WjIg7CPNwYK3KrZMrKAz5yFszg4wCVLJVnIL8+OYA0xRDH8cHQjQUiQ2i1mr/be32k/3Xej9sdf3iuGvZHyLFSJvPSqz/wltnxumTJYKZsrWXtx/Rmu39jjV9lFaJttfFn57/No2h/unsJmMHbrnZ8csxkp5HQ4xR1s0HH+t3Iz82a3iQWTUDGq/+l2W3TUYLE8zNdL8Y+5oXaIH/Y2UUcX67cXeN4WvENZjz4+8q7vjhowOI3rSjFhGZ6KzwmU7+5nFV+kGWAZ5z2UWvzq0TK0pk1hPwAN4jbw//1CApRvIaIjhSGhioY6TUmsToek9cF9XjJdHvLPcyyCV3lbR5Jiz/ts46ay2F820VjTXvllElwrGzKcNSyvQlWDXdwrUINXmHorAM3fE19ngLZmgeUaCJLsSITf2VcfAOuWwX7mTPdP8Zb/04KqRniufCpwnDUk7sP0RX6cud/sanFMagnzKInSRVey0YzlVSOtA/AjrofmSH6RYbJQ8b4NDeTkIGc6247+Mnbez/qhJ9GAv9fGNFercPnnrf285Qgs+UqThLRgflcAKFuqWhLzZaR4QqvSwa3xe0LPkqj9xJWub195r7NrrR0e78FR+0mRBNMPsraqZctAUVAJfYKehTDV1MGGQSeDsOK9J3sbUuKRIS/WilX/64CBms9jCZocBlsBSZaIAjWm/SUZ8daWL2a/cJFyUOFqE3Epc2RWbtjNyPwOGpWtzu32kUooUqsJud7IV4E8rstUBXM7tGEtBx99x60g1duhyvxeKJSl8s5E34HTMmADT0836aEdg5Dv9rVyCz8i2REOmiz6wtIVFN0HsjAoN37SrY0bV1Ms8CRUILhvZvvRaDzoVCaSI0u8EPuTe4b7OPowgRGODl22UBBmHSTUY8e4DyL+Bc7bngo+2T8HtNvzyATSL5iJZgFPKpmUyZv54vVL90+/RQGATUmNKnrIvcJMYON9fl83naW5sf6hRkbbTC9RUEE6XADwjgA46wWfUQ+QWZl0J4PVTWAln/YfAz/SV3q3J9+yCYDleruoN5uoc/wT2f4YONGTb6zTGq3V+3JqzmCOjwebKln+fExVLN7sqtqfMnsKVXWbb2Ai5m3D/fCTgX7oKYzTZvj+m28XnDqPbXuP4MyWdmPezcesdrh7rCzA7BWdObiuyDEKjjzBbQ0qnuwjliz+b+j7aPMKlkXyIznV3tGzAfYwIbzGGt098oh4eq3ruDjdgHtjxfFCjHrjjRbHajoz/YOY4raojPFQ910GIlBV7hq47UDgpyajBxQUmD8NctiLV1rTSLAEsQDLTeRKcmPBMVMFF0SPBBhZ5oXoxtD3lMhuAQXmA+57OcciczVW9e9zwSIAHS+FJmvfXMJGF1dMBsIUMaPjvgaVqUc3p32qVCMQYFEiRLzlVSOGMCmv/HJIxAHe3mL/XnoZ1IkWLeRZfgyByjnDbbeRK5KL7bYHSVJZ9UFq+yCiNKeRUaYjgbC3hVUvfJAhy/QNl/JqLKVvGMk9ZcfyGidNeo/VTxK9vUpodzfQI9Z2eAre4nmrkzgxKSnT5IJ1D69oHuUS5hp7pK9IAWuNrAOtOH0mAuwCrY8mXAtVXUeaNK3OXr6PRvmWg4VQqFSy+a1GZfFYgdsJELG8N0kvqmzvwZ02Plf5fH9QTy6br0oY/IDsEA+GBf9pEVWCIuBCjsup3LDSDqI+5+0IKSUFr7A96A2f0FbcU9fqljdqvsd8sG55KcKloHIFZem2Wb6pCLXybnVSB0sjCXzdS8IKvE");const zp=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Hp=4;function qp(t){return`{${function(t){return t.toString(16).toUpperCase().padStart(2,"0")}(t)}}`}function Gp(t){let e=[];for(let r=0,n=t.length;r<n;){let n=t.codePointAt(r);r+=n<65536?1:2,e.push(n)}return e}function Vp(t){let e=t.length;if(e<4096)return String.fromCodePoint(...t);let r=[];for(let n=0;n<e;)r.push(String.fromCodePoint(...t.slice(n,n+=4096)));return r.join("")}var Kp=Np("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");function Wp(t){return t>>24&255}function $p(t){return 16777215&t}const Jp=new Map(Lp(Kp).flatMap(((t,e)=>t.map((t=>[t,e+1<<24]))))),Qp=new Set(Rp(Kp)),Zp=new Map,Yp=new Map;for(let[R_,L_]of jp(Kp)){if(!Qp.has(R_)&&2==L_.length){let[t,e]=L_,r=Yp.get(t);r||(r=new Map,Yp.set(t,r)),r.set(e,R_)}Zp.set(R_,L_.reverse())}const Xp=44032,td=4352,ed=4449,rd=4519,nd=28,id=21*nd,sd=Xp+19*id,od=td+19,ad=ed+21,cd=rd+nd;function ud(t){return t>=Xp&&t<sd}function ld(t,e){if(t>=td&&t<od&&e>=ed&&e<ad)return Xp+(t-td)*id+(e-ed)*nd;if(ud(t)&&e>rd&&e<cd&&(t-Xp)%nd==0)return t+(e-rd);{let r=Yp.get(t);return r&&(r=r.get(e),r)?r:-1}}function hd(t){let e=[],r=[],n=!1;function i(t){let r=Jp.get(t);r&&(n=!0,t|=r),e.push(t)}for(let s of t)for(;;){if(s<128)e.push(s);else if(ud(s)){let t=s-Xp,e=t%id/nd|0,r=t%nd;i(td+(t/id|0)),i(ed+e),r>0&&i(rd+r)}else{let t=Zp.get(s);t?r.push(...t):i(s)}if(!r.length)break;s=r.pop()}if(n&&e.length>1){let t=Wp(e[0]);for(let r=1;r<e.length;r++){let n=Wp(e[r]);if(0==n||t<=n){t=n;continue}let i=r-1;for(;;){let r=e[i+1];if(e[i+1]=e[i],e[i]=r,!i)break;if(t=Wp(e[--i]),t<=n)break}t=Wp(e[r])}}return e}function fd(t){return hd(t).map($p)}function pd(t){return function(t){let e=[],r=[],n=-1,i=0;for(let s of t){let t=Wp(s),o=$p(s);if(-1==n)0==t?n=o:e.push(o);else if(i>0&&i>=t)0==t?(e.push(n,...r),r.length=0,n=o):r.push(o),i=t;else{let s=ld(n,o);s>=0?n=s:0==i&&0==t?(e.push(n),n=o):(r.push(o),i=t)}}return n>=0&&e.push(n,...r),e}(hd(t))}const dd=65039,gd=".",yd=1,md=45;function vd(){return new Set(Rp(Fp))}const wd=new Map(jp(Fp)),bd=vd(),Ad=vd(),Ed=new Set(Rp(Fp).map((function(t){return this[t]}),[...Ad])),_d=vd(),xd=(vd(),Lp(Fp));function Sd(){return new Set([Rp(Fp).map((t=>xd[t])),Rp(Fp)].flat(2))}const Pd=Fp(),Od=Up((t=>{let e=Up(Fp).map((t=>t+96));if(e.length){let r=t>=Pd;e[0]-=32,e=Vp(e),r&&(e=`Restricted[${e}]`);let n=Sd(),i=Sd(),s=[...n,...i].sort(((t,e)=>t-e));return{N:e,P:n,M:!Fp(),R:r,V:new Set(s)}}})),Id=vd(),Cd=new Map;[...Id,...vd()].sort(((t,e)=>t-e)).map(((t,e,r)=>{let n=Fp(),i=r[e]=n?r[e-n]:{V:[],M:new Map};i.V.push(t),Id.has(t)||Cd.set(t,i)}));for(let{V:R_,M:L_}of new Set(Cd.values())){let t=[];for(let r of R_){let e=Od.filter((t=>t.V.has(r))),n=t.find((({G:t})=>e.some((e=>t.has(e)))));n||(n={G:new Set,V:[]},t.push(n)),n.V.push(r),e.forEach((t=>n.G.add(t)))}let e=t.flatMap((({G:t})=>[...t]));for(let{G:r,V:n}of t){let t=new Set(e.filter((t=>!r.has(t))));for(let e of n)L_.set(e,t)}}let Nd=new Set,Td=new Set;for(let R_ of Od)for(let t of R_.V)(Nd.has(t)?Td:Nd).add(t);for(let R_ of Nd)Cd.has(R_)||Td.has(R_)||Cd.set(R_,yd);const kd=new Set([...Nd,...fd(Nd)]),Rd=Rp(Fp),Ld=function t(e){let r=Up((()=>{let e=Rp(Fp).map((t=>Rd[t]));if(e.length)return t(e)})).sort(((t,e)=>e.Q.size-t.Q.size)),n=Fp(),i=n%3;n=n/3|0;let s=1&n;n>>=1;let o=1&n,a=2&n;return{B:r,V:i,F:s,S:o,C:a,Q:new Set(e)}}([]);class jd extends Array{get is_emoji(){return!0}}function Ud(t,e=qp){let r=[];var n;n=t[0],Ad.has(n)&&r.push("◌");let i=0,s=t.length;for(let o=0;o<s;o++){let n=t[o];Fd(n)&&(r.push(Vp(t.slice(i,o))),r.push(e(n)),i=o+1)}return r.push(Vp(t.slice(i,s))),r.join("")}function Bd(t){return(Fd(t)?"":`${Dd(Ud([t]))} `)+qp(t)}function Dd(t){return`"${t}"‎`}function Md(t){for(let e=t.lastIndexOf(95);e>0;)if(95!==t[--e])throw new Error("underscore allowed only at start")}function Fd(t){return _d.has(t)}function zd(t,e){let r=0;return t.split(gd).map((t=>{let n,i=Gp(t),s={input:i,offset:r};r+=i.length+1;try{let t,r=s.tokens=Kd(i,pd),o=r.length;if(!o)throw new Error("empty label");{let i=r[0],a=o>1||i.is_emoji;if(!a&&i.every((t=>t<128)))n=i,Md(n),function(t){if(t.length>=4&&t[2]==md&&t[3]==md)throw new Error("invalid label extension")}(n),t="ASCII";else if(a&&(s.emoji=!0,i=r.flatMap((t=>t.is_emoji?[]:t))),n=r.flatMap((t=>!e&&t.is_emoji?Wd(t):t)),Md(n),i.length){if(Ad.has(n[0]))throw Vd("leading combining mark");for(let t=1;t<o;t++){let e=r[t];if(!e.is_emoji&&Ad.has(e[0]))throw Vd(`emoji + combining mark: "${Vp(r[t-1])} + ${Ud([e[0]])}"`)}!function(t){let e=t[0],r=zp.get(e);if(r)throw Vd(`leading ${r}`);let n=t.length,i=-1;for(let s=1;s<n;s++){e=t[s];let n=zp.get(e);if(n){if(i==s)throw Vd(`${r} + ${n}`);i=s+1,r=n}}if(i==n)throw Vd(`trailing ${r}`)}(n);let e=[...new Set(i)],[s]=function(t){let e=Od;for(let r of t){let t=e.filter((t=>t.V.has(r)));if(!t.length)throw e===Od?qd(r):Gd(e[0],r);if(e=t,1==t.length)break}return e}(e);!function(t,e){let{V:r,M:n}=t;for(let i of e)if(!r.has(i))throw Gd(t,i);if(n){let t=fd(e);for(let e=1,r=t.length;e<r;e++)if(Ed.has(t[e])){let n=e+1;for(let i;n<r&&Ed.has(i=t[n]);n++)for(let r=e;r<n;r++)if(t[r]==i)throw new Error(`non-spacing marks: repeated ${Bd(i)}`);if(n-e>Hp)throw new Error(`non-spacing marks: too many ${Dd(Ud(t.slice(e-1,n)))} (${n-e}/${Hp})`);e=n}}}(s,i),function(t,e){let r,n=[];for(let i of e){let t=Cd.get(i);if(t===yd)return;if(t){let e=t.M.get(i);if(r=r?r.filter((t=>e.has(t))):[...e],!r.length)return}else n.push(i)}if(r)for(let i of r)if(n.every((t=>i.V.has(t))))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}(s,e),t=s.N}else t="Emoji"}s.type=t}catch(o){s.error=o}return s.output=n,s}))}function Hd(t){return t.map((({input:e,error:r,output:n})=>{if(r){let n=r.message;throw new Error(1==t.length?n:`Invalid label ${Dd(Ud(e))}: ${n}`)}return Vp(n)})).join(gd)}function qd(t){return new Error(`disallowed character: ${Bd(t)}`)}function Gd(t,e){let r=Bd(e),n=Od.find((t=>t.P.has(e)));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function Vd(t){return new Error(`illegal placement: ${t}`)}function Kd(t,e){let r=[],n=[];for(t=t.slice().reverse();t.length;){let i=$d(t);if(i)n.length&&(r.push(e(n)),n=[]),r.push(i);else{let e=t.pop();if(kd.has(e))n.push(e);else{let t=wd.get(e);if(t)n.push(...t);else if(!bd.has(e))throw qd(e)}}}return n.length&&r.push(e(n)),r}function Wd(t){return t.filter((t=>t!=dd))}function $d(t,e){let r,n,i=Ld,s=[],o=t.length;for(e&&(e.length=0);o;){let a=t[--o];if(i=i.B.find((t=>t.Q.has(a))),!i)break;if(i.S)n=a;else if(i.C&&a===n)break;s.push(a),i.F&&(s.push(dd),o>0&&t[o-1]==dd&&o--),i.V&&(r=Jd(s,i),e&&e.push(...t.slice(o).reverse()),t.length=o)}return r}function Jd(t,e){let r=jd.from(t);return 2==e.V&&r.splice(1,1),r}const Qd=new Uint8Array(32);function Zd(t){return Au(0!==t.length,"invalid ENS name; empty component","comp",t),t}function Yd(t){const e=mh(function(t){try{return function(t){return Hd(zd(t))}(t)}catch(e){Au(!1,`invalid ENS name (${e.message})`,"name",t)}}(t)),r=[];if(0===t.length)return r;let n=0;for(let i=0;i<e.length;i++){46===e[i]&&(r.push(Zd(e.slice(n,i))),n=i+1)}return Au(n<e.length,"invalid ENS name; empty component","name",t),r.push(Zd(e.slice(n))),r}function Xd(t){Au("string"==typeof t,"invalid ENS name; not a string","name",t);let e=Qd;const r=Yd(t);for(;r.length;)e=Ml(Tu([e,Ml(r.pop())]));return Nu(e)}Qd.fill(0);const tg="0x0000000000000000000000000000000000000000000000000000000000000000",eg=BigInt(0),rg=BigInt(1),ng=BigInt(2),ig=BigInt(27),sg=BigInt(28),og=BigInt(35),ag={};function cg(t){return ju(Wu(t),32)}class ug{#O;#I;#C;#N;get r(){return this.#O}set r(t){Au(32===ku(t),"invalid r","value",t),this.#O=Nu(t)}get s(){return this.#I}set s(t){Au(32===ku(t),"invalid s","value",t);const e=Nu(t);Au(parseInt(e.substring(0,3))<8,"non-canonical s","value",e),this.#I=e}get v(){return this.#C}set v(t){const e=Vu(t,"value");Au(27===e||28===e,"invalid v","v",t),this.#C=e}get networkV(){return this.#N}get legacyChainId(){const t=this.networkV;return null==t?null:ug.getChainId(t)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const t=Pu(this.s);return this.yParity&&(t[0]|=128),Nu(t)}get compactSerialized(){return Tu([this.r,this.yParityAndS])}get serialized(){return Tu([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(t,e,r,n){xu(t,ag,"Signature"),this.#O=e,this.#I=r,this.#C=n,this.#N=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new ug(ag,this.r,this.s,this.v);return this.networkV&&(t.#N=this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:null!=t?t.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(t){const e=zu(t,"v");return e==ig||e==sg?eg:(Au(e>=og,"invalid EIP-155 v","v",t),(e-og)/ng)}static getChainIdV(t,e){return zu(t)*ng+BigInt(35+e-27)}static getNormalizedV(t){const e=zu(t);return e===eg||e===ig?27:e===rg||e===sg?28:(Au(e>=og,"invalid v","v",t),e&rg?27:28)}static from(t){function e(e,r){Au(e,r,"signature",t)}if(null==t)return new ug(ag,tg,tg,27);if("string"==typeof t){const r=Pu(t,"signature");if(64===r.length){const t=Nu(r.slice(0,32)),e=r.slice(32,64),n=128&e[0]?28:27;return e[0]&=127,new ug(ag,t,Nu(e),n)}if(65===r.length){const t=Nu(r.slice(0,32)),n=r.slice(32,64);e(0==(128&n[0]),"non-canonical s");const i=ug.getNormalizedV(r[64]);return new ug(ag,t,Nu(n),i)}e(!1,"invalid raw signature length")}if(t instanceof ug)return t.clone();const r=t.r;e(null!=r,"missing r");const n=cg(r),i=function(t,r){if(null!=t)return cg(t);if(null!=r){e(Iu(r,32),"invalid yParityAndS");const t=Pu(r);return t[0]&=127,Nu(t)}e(!1,"missing s")}(t.s,t.yParityAndS);e(0==(128&Pu(i)[0]),"non-canonical s");const{networkV:s,v:o}=function(t,r,n){if(null!=t){const e=zu(t);return{networkV:e>=og?e:void 0,v:ug.getNormalizedV(e)}}if(null!=r)return e(Iu(r,32),"invalid yParityAndS"),{v:128&Pu(r)[0]?28:27};if(null!=n){switch(n){case 0:return{v:27};case 1:return{v:28}}e(!1,"invalid yParity")}e(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),a=new ug(ag,n,i,o);return s&&(a.#N=s),e(!("yParity"in t&&t.yParity!==a.yParity),"yParity mismatch"),e(!("yParityAndS"in t&&t.yParityAndS!==a.yParityAndS),"yParityAndS mismatch"),a}}var lg=r(5856),hg=r.t(lg,2);const fg=BigInt(0),pg=BigInt(1),dg=BigInt(2),gg=BigInt(3),yg=BigInt(8),mg=Object.freeze({a:fg,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:pg,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),vg=(t,e)=>(t+e/dg)/e,wg={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){const{n:e}=mg,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-pg*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=vg(s*t,e),c=vg(-n*t,e);let u=Wg(t-a*r-c*i,e),l=Wg(-a*n-c*s,e);const h=u>o,f=l>o;if(h&&(u=e-u),f&&(l=e-l),u>o||l>o)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:h,k1:u,k2neg:f,k2:l}}},bg=32,Ag=32,Eg=bg+1,_g=2*bg+1;function xg(t){const{a:e,b:r}=mg,n=Wg(t*t),i=Wg(n*t);return Wg(i+e*t+r)}const Sg=mg.a===fg;class Pg extends Error{constructor(t){super(t)}}function Og(t){if(!(t instanceof Ig))throw new TypeError("JacobianPoint expected")}class Ig{constructor(t,e,r){this.x=t,this.y=e,this.z=r}static fromAffine(t){if(!(t instanceof Tg))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(Tg.ZERO)?Ig.ZERO:new Ig(t.x,t.y,pg)}static toAffineBatch(t){const e=function(t,e=mg.P){const r=new Array(t.length),n=t.reduce(((t,n,i)=>n===fg?t:(r[i]=t,Wg(t*n,e))),pg),i=Jg(n,e);return t.reduceRight(((t,n,i)=>n===fg?t:(r[i]=Wg(t*r[i],e),Wg(t*n,e))),i),r}(t.map((t=>t.z)));return t.map(((t,r)=>t.toAffine(e[r])))}static normalizeZ(t){return Ig.toAffineBatch(t).map(Ig.fromAffine)}equals(t){Og(t);const{x:e,y:r,z:n}=this,{x:i,y:s,z:o}=t,a=Wg(n*n),c=Wg(o*o),u=Wg(e*c),l=Wg(i*a),h=Wg(Wg(r*o)*c),f=Wg(Wg(s*n)*a);return u===l&&h===f}negate(){return new Ig(this.x,Wg(-this.y),this.z)}double(){const{x:t,y:e,z:r}=this,n=Wg(t*t),i=Wg(e*e),s=Wg(i*i),o=t+i,a=Wg(dg*(Wg(o*o)-n-s)),c=Wg(gg*n),u=Wg(c*c),l=Wg(u-dg*a),h=Wg(c*(a-l)-yg*s),f=Wg(dg*e*r);return new Ig(l,h,f)}add(t){Og(t);const{x:e,y:r,z:n}=this,{x:i,y:s,z:o}=t;if(i===fg||s===fg)return this;if(e===fg||r===fg)return t;const a=Wg(n*n),c=Wg(o*o),u=Wg(e*c),l=Wg(i*a),h=Wg(Wg(r*o)*c),f=Wg(Wg(s*n)*a),p=Wg(l-u),d=Wg(f-h);if(p===fg)return d===fg?this.double():Ig.ZERO;const g=Wg(p*p),y=Wg(p*g),m=Wg(u*g),v=Wg(d*d-y-dg*m),w=Wg(d*(m-v)-h*y),b=Wg(n*o*p);return new Ig(v,w,b)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=Ig.ZERO;if("bigint"==typeof t&&t===fg)return e;let r=Kg(t);if(r===pg)return this;if(!Sg){let t=e,n=this;for(;r>fg;)r&pg&&(t=t.add(n)),n=n.double(),r>>=pg;return t}let{k1neg:n,k1:i,k2neg:s,k2:o}=wg.splitScalar(r),a=e,c=e,u=this;for(;i>fg||o>fg;)i&pg&&(a=a.add(u)),o&pg&&(c=c.add(u)),u=u.double(),i>>=pg,o>>=pg;return n&&(a=a.negate()),s&&(c=c.negate()),c=new Ig(Wg(c.x*wg.beta),c.y,c.z),a.add(c)}precomputeWindow(t){const e=Sg?128/t+1:256/t+1,r=[];let n=this,i=n;for(let s=0;s<e;s++){i=n,r.push(i);for(let e=1;e<2**(t-1);e++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(t,e){!e&&this.equals(Ig.BASE)&&(e=Tg.BASE);const r=e&&e._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=e&&Ng.get(e);n||(n=this.precomputeWindow(r),e&&1!==r&&(n=Ig.normalizeZ(n),Ng.set(e,n)));let i=Ig.ZERO,s=Ig.BASE;const o=1+(Sg?128/r:256/r),a=2**(r-1),c=BigInt(2**r-1),u=2**r,l=BigInt(r);for(let h=0;h<o;h++){const e=h*a;let r=Number(t&c);t>>=l,r>a&&(r-=u,t+=pg);const o=e,f=e+Math.abs(r)-1,p=h%2!=0,d=r<0;0===r?s=s.add(Cg(p,n[o])):i=i.add(Cg(d,n[f]))}return{p:i,f:s}}multiply(t,e){let r,n,i=Kg(t);if(Sg){const{k1neg:t,k1:s,k2neg:o,k2:a}=wg.splitScalar(i);let{p:c,f:u}=this.wNAF(s,e),{p:l,f:h}=this.wNAF(a,e);c=Cg(t,c),l=Cg(o,l),l=new Ig(Wg(l.x*wg.beta),l.y,l.z),r=c.add(l),n=u.add(h)}else{const{p:t,f:s}=this.wNAF(i,e);r=t,n=s}return Ig.normalizeZ([r,n])[0]}toAffine(t){const{x:e,y:r,z:n}=this,i=this.equals(Ig.ZERO);null==t&&(t=i?yg:Jg(n));const s=t,o=Wg(s*s),a=Wg(o*s),c=Wg(e*o),u=Wg(r*a),l=Wg(n*s);if(i)return Tg.ZERO;if(l!==pg)throw new Error("invZ was invalid");return new Tg(c,u)}}function Cg(t,e){const r=e.negate();return t?r:e}Ig.BASE=new Ig(mg.Gx,mg.Gy,pg),Ig.ZERO=new Ig(fg,pg,fg);const Ng=new WeakMap;class Tg{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,Ng.delete(this)}hasEvenY(){return this.y%dg===fg}static fromCompressedHex(t){const e=32===t.length,r=Gg(e?t:t.subarray(1));if(!ey(r))throw new Error("Point is not on curve");let n=function(t){const{P:e}=mg,r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),c=t*t*t%e,u=c*c*t%e,l=$g(u,gg)*u%e,h=$g(l,gg)*u%e,f=$g(h,dg)*c%e,p=$g(f,n)*f%e,d=$g(p,i)*p%e,g=$g(d,o)*d%e,y=$g(g,a)*g%e,m=$g(y,o)*d%e,v=$g(m,gg)*u%e,w=$g(v,s)*p%e,b=$g(w,r)*c%e,A=$g(b,dg),E=A*A%e;if(E!==t)throw new Error("Cannot find square root");return A}(xg(r));const i=(n&pg)===pg;if(e)i&&(n=Wg(-n));else{1==(1&t[0])!==i&&(n=Wg(-n))}const s=new Tg(r,n);return s.assertValidity(),s}static fromUncompressedHex(t){const e=Gg(t.subarray(1,bg+1)),r=Gg(t.subarray(bg+1,2*bg+1)),n=new Tg(e,r);return n.assertValidity(),n}static fromHex(t){const e=Vg(t),r=e.length,n=e[0];if(r===bg)return this.fromCompressedHex(e);if(r===Eg&&(2===n||3===n))return this.fromCompressedHex(e);if(r===_g&&4===n)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Eg} compressed bytes or ${_g} uncompressed bytes, not ${r}`)}static fromPrivateKey(t){return Tg.BASE.multiply(ny(t))}static fromSignature(t,e,r){const{r:n,s:i}=sy(e);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const s=Qg(Vg(t)),{n:o}=mg,a=2===r||3===r?n+o:n,c=Jg(a,o),u=Wg(-s*c,o),l=Wg(i*c,o),h=1&r?"03":"02",f=Tg.fromHex(h+Mg(a)),p=Tg.BASE.multiplyAndAddUnsafe(f,u,l);if(!p)throw new Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(t=!1){return qg(this.toHex(t))}toHex(t=!1){const e=Mg(this.x);if(t){return`${this.hasEvenY()?"02":"03"}${e}`}return`04${e}${Mg(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:r}=this;if(!ey(e)||!ey(r))throw new Error(t);const n=Wg(r*r);if(Wg(n-xg(e))!==fg)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new Tg(this.x,Wg(-this.y))}double(){return Ig.fromAffine(this).double().toAffine()}add(t){return Ig.fromAffine(this).add(Ig.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return Ig.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,r){const n=Ig.fromAffine(this),i=e===fg||e===pg||this!==Tg.BASE?n.multiplyUnsafe(e):n.multiply(e),s=Ig.fromAffine(t).multiplyUnsafe(r),o=i.add(s);return o.equals(Ig.ZERO)?void 0:o.toAffine()}}function kg(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function Rg(t){if(t.length<2||2!==t[0])throw new Error(`Invalid signature integer tag: ${Bg(t)}`);const e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Gg(r),left:t.subarray(e+2)}}Tg.BASE=new Tg(mg.Gx,mg.Gy),Tg.ZERO=new Tg(fg,fg);class Lg{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,r="Signature.fromCompact";if("string"!=typeof t&&!e)throw new TypeError(`${r}: Expected string or Uint8Array`);const n=e?Bg(t):t;if(128!==n.length)throw new Error(`${r}: Expected 64-byte hex`);return new Lg(Hg(n.slice(0,64)),Hg(n.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if("string"!=typeof t&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:r,s:n}=function(t){if(t.length<2||48!=t[0])throw new Error(`Invalid signature tag: ${Bg(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:r}=Rg(t.subarray(2)),{data:n,left:i}=Rg(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Bg(i)}`);return{r:e,s:n}}(e?t:qg(t));return new Lg(r,n)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!ty(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!ty(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=mg.n>>pg;return this.s>t}normalizeS(){return this.hasHighS()?new Lg(this.r,Wg(-this.s,mg.n)):this}toDERRawBytes(){return qg(this.toDERHex())}toDERHex(){const t=kg(zg(this.s)),e=kg(zg(this.r)),r=t.length/2,n=e.length/2,i=zg(r),s=zg(n);return`30${zg(n+r+4)}02${s}${e}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return qg(this.toCompactHex())}toCompactHex(){return Mg(this.r)+Mg(this.s)}}function jg(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const e=t[n];r.set(e,i),i+=e.length}return r}const Ug=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function Bg(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=Ug[t[r]];return e}const Dg=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Mg(t){if("bigint"!=typeof t)throw new Error("Expected bigint");if(!(fg<=t&&t<Dg))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function Fg(t){const e=qg(Mg(t));if(32!==e.length)throw new Error("Error: expected 32 bytes");return e}function zg(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function Hg(t){if("string"!=typeof t)throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function qg(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=2*r,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}function Gg(t){return Hg(Bg(t))}function Vg(t){return t instanceof Uint8Array?Uint8Array.from(t):qg(t)}function Kg(t){if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if("bigint"==typeof t&&ty(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Wg(t,e=mg.P){const r=t%e;return r>=fg?r:e+r}function $g(t,e){const{P:r}=mg;let n=t;for(;e-- >fg;)n*=n,n%=r;return n}function Jg(t,e=mg.P){if(t===fg||e<=fg)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Wg(t,e),n=e,i=fg,s=pg,o=pg,a=fg;for(;r!==fg;){const t=n/r,e=n%r,c=i-o*t,u=s-a*t;n=r,r=e,i=o,s=a,o=c,a=u}if(n!==pg)throw new Error("invert: does not exist");return Wg(i,e)}function Qg(t,e=!1){const r=function(t){const e=8*t.length-8*Ag,r=Gg(t);return e>0?r>>BigInt(e):r}(t);if(e)return r;const{n:n}=mg;return r>=n?r-n:r}let Zg,Yg;class Xg{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,"number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return dy.hmacSha256(this.k,...t)}hmacSync(...t){return Yg(this.k,...t)}checkSync(){if("function"!=typeof Yg)throw new Pg("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),0!==t.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),0!==t.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);const r=this.v.slice();e.push(r),t+=this.v.length}return jg(...e)}generateSync(){this.checkSync(),this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);const r=this.v.slice();e.push(r),t+=this.v.length}return jg(...e)}}function ty(t){return fg<t&&t<mg.n}function ey(t){return fg<t&&t<mg.P}function ry(t,e,r,n=!0){const{n:i}=mg,s=Qg(t,!0);if(!ty(s))return;const o=Jg(s,i),a=Tg.BASE.multiply(s),c=Wg(a.x,i);if(c===fg)return;const u=Wg(o*Wg(e+r*c,i),i);if(u===fg)return;let l=new Lg(c,u),h=(a.x===l.r?0:2)|Number(a.y&pg);return n&&l.hasHighS()&&(l=l.normalizeS(),h^=1),{sig:l,recovery:h}}function ny(t){let e;if("bigint"==typeof t)e=t;else if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if("string"==typeof t){if(t.length!==2*Ag)throw new Error("Expected 32 bytes of private key");e=Hg(t)}else{if(!(t instanceof Uint8Array))throw new TypeError("Expected valid private key");if(t.length!==Ag)throw new Error("Expected 32 bytes of private key");e=Gg(t)}if(!ty(e))throw new Error("Expected private key: 0 < key < n");return e}function iy(t){return t instanceof Tg?(t.assertValidity(),t):Tg.fromHex(t)}function sy(t){if(t instanceof Lg)return t.assertValidity(),t;try{return Lg.fromDER(t)}catch(e){return Lg.fromCompact(t)}}function oy(t){const e=t instanceof Uint8Array,r="string"==typeof t,n=(e||r)&&t.length;return e?n===Eg||n===_g:r?n===2*Eg||n===2*_g:t instanceof Tg}function ay(t){return Gg(t.length>bg?t.slice(0,bg):t)}function cy(t){const e=ay(t),r=Wg(e,mg.n);return uy(r<fg?e:r)}function uy(t){return Fg(t)}function ly(t,e,r){if(null==t)throw new Error(`sign: expected valid message hash, not "${t}"`);const n=Vg(t),i=ny(e),s=[uy(i),cy(n)];if(null!=r){!0===r&&(r=dy.randomBytes(bg));const t=Vg(r);if(t.length!==bg)throw new Error(`sign: Expected ${bg} bytes of extra data`);s.push(t)}return{seed:jg(...s),m:ay(n),d:i}}function hy(t,e){const{sig:r,recovery:n}=t,{der:i,recovered:s}=Object.assign({canonical:!0,der:!0},e),o=i?r.toDERRawBytes():r.toCompactRawBytes();return s?[o,n]:o}Tg.BASE._setWindowSize(8);const fy={node:hg,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},py={},dy={bytesToHex:Bg,hexToBytes:qg,concatBytes:jg,mod:Wg,invert:Jg,isValidPrivateKey(t){try{return ny(t),!0}catch(e){return!1}},_bigintTo32Bytes:Fg,_normalizePrivateKey:ny,hashToPrivateKey:t=>{t=Vg(t);const e=Ag+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return Fg(Wg(Gg(t),mg.n-pg)+pg)},randomBytes:(t=32)=>{if(fy.web)return fy.web.getRandomValues(new Uint8Array(t));if(fy.node){const{randomBytes:e}=fy.node;return Uint8Array.from(e(t))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>dy.hashToPrivateKey(dy.randomBytes(Ag+8)),precompute(t=8,e=Tg.BASE){const r=e===Tg.BASE?e:new Tg(e.x,e.y);return r._setWindowSize(t),r.multiply(gg),r},sha256:async(...t)=>{if(fy.web){const e=await fy.web.subtle.digest("SHA-256",jg(...t));return new Uint8Array(e)}if(fy.node){const{createHash:e}=fy.node,r=e("sha256");return t.forEach((t=>r.update(t))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(fy.web){const r=await fy.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=jg(...e),i=await fy.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}if(fy.node){const{createHmac:r}=fy.node,n=r("sha256",t);return e.forEach((t=>n.update(t))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=py[t];if(void 0===r){const e=await dy.sha256(Uint8Array.from(t,(t=>t.charCodeAt(0))));r=jg(e,e),py[t]=r}return dy.sha256(r,...e)},taggedHashSync:(t,...e)=>{if("function"!=typeof Zg)throw new Pg("sha256Sync is undefined, you need to set it");let r=py[t];if(void 0===r){const e=Zg(Uint8Array.from(t,(t=>t.charCodeAt(0))));r=jg(e,e),py[t]=r}return Zg(r,...e)},_JacobianPoint:Ig};Object.defineProperties(dy,{sha256Sync:{configurable:!1,get(){return Zg},set(t){Zg||(Zg=t)}},hmacSha256Sync:{configurable:!1,get(){return Yg},set(t){Yg||(Yg=t)}}});class gy extends ml{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,cl.hash(t);const r=yl(e);if(this.iHash=t.create(),!(this.iHash instanceof ml))throw new TypeError("Expected instance of class which extends utils.Hash");const n=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const i=new Uint8Array(n);i.set(r.length>this.iHash.blockLen?t.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=t.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(t){return cl.exists(this),this.iHash.update(t),this}digestInto(t){cl.exists(this),cl.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return t.finished=n,t.destroyed=i,t.blockLen=s,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const yy=(t,e,r)=>new gy(t,e).update(r).digest();yy.create=(t,e)=>new gy(t,e);class my extends ml{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=dl(this.buffer)}update(t){cl.exists(this);const{view:e,buffer:r,blockLen:n}=this,i=(t=yl(t)).length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o!==n)r.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(e,0),this.pos=0);else{const e=dl(t);for(;n<=i-s;s+=n)this.process(e,s)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){cl.exists(this),cl.output(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:n,isLE:i}=this;let{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let a=s;a<n;a++)e[a]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const o=dl(t);this.get().forEach(((t,e)=>o.setUint32(4*e,t,i)))}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return t.length=n,t.pos=o,t.finished=i,t.destroyed=s,n%e&&t.buffer.set(r),t}}const vy=(t,e,r)=>t&e^~t&r,wy=(t,e,r)=>t&e^t&r^e&r,by=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ay=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ey=new Uint32Array(64);class _y extends my{constructor(){super(64,32,8,!1),this.A=0|Ay[0],this.B=0|Ay[1],this.C=0|Ay[2],this.D=0|Ay[3],this.E=0|Ay[4],this.F=0|Ay[5],this.G=0|Ay[6],this.H=0|Ay[7]}get(){const{A:t,B:e,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[t,e,r,n,i,s,o,a]}set(t,e,r,n,i,s,o,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(t,e){for(let l=0;l<16;l++,e+=4)Ey[l]=t.getUint32(e,!1);for(let l=16;l<64;l++){const t=Ey[l-15],e=Ey[l-2],r=gl(t,7)^gl(t,18)^t>>>3,n=gl(e,17)^gl(e,19)^e>>>10;Ey[l]=n+Ey[l-7]+r+Ey[l-16]|0}let{A:r,B:n,C:i,D:s,E:o,F:a,G:c,H:u}=this;for(let l=0;l<64;l++){const t=u+(gl(o,6)^gl(o,11)^gl(o,25))+vy(o,a,c)+by[l]+Ey[l]|0,e=(gl(r,2)^gl(r,13)^gl(r,22))+wy(r,n,i)|0;u=c,c=a,a=o,o=s+t|0,s=i,i=n,n=r,r=t+e|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,n,i,s,o,a,c,u)}roundClean(){Ey.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const xy=vl((()=>new _y)),[Sy,Py]=pl.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))),Oy=new Uint32Array(80),Iy=new Uint32Array(80);class Cy extends my{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:u,Fh:l,Fl:h,Gh:f,Gl:p,Hh:d,Hl:g}=this;return[t,e,r,n,i,s,o,a,c,u,l,h,f,p,d,g]}set(t,e,r,n,i,s,o,a,c,u,l,h,f,p,d,g){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|h,this.Gh=0|f,this.Gl=0|p,this.Hh=0|d,this.Hl=0|g}process(t,e){for(let v=0;v<16;v++,e+=4)Oy[v]=t.getUint32(e),Iy[v]=t.getUint32(e+=4);for(let v=16;v<80;v++){const t=0|Oy[v-15],e=0|Iy[v-15],r=pl.rotrSH(t,e,1)^pl.rotrSH(t,e,8)^pl.shrSH(t,e,7),n=pl.rotrSL(t,e,1)^pl.rotrSL(t,e,8)^pl.shrSL(t,e,7),i=0|Oy[v-2],s=0|Iy[v-2],o=pl.rotrSH(i,s,19)^pl.rotrBH(i,s,61)^pl.shrSH(i,s,6),a=pl.rotrSL(i,s,19)^pl.rotrBL(i,s,61)^pl.shrSL(i,s,6),c=pl.add4L(n,a,Iy[v-7],Iy[v-16]),u=pl.add4H(c,r,o,Oy[v-7],Oy[v-16]);Oy[v]=0|u,Iy[v]=0|c}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:u,Eh:l,El:h,Fh:f,Fl:p,Gh:d,Gl:g,Hh:y,Hl:m}=this;for(let v=0;v<80;v++){const t=pl.rotrSH(l,h,14)^pl.rotrSH(l,h,18)^pl.rotrBH(l,h,41),e=pl.rotrSL(l,h,14)^pl.rotrSL(l,h,18)^pl.rotrBL(l,h,41),w=l&f^~l&d,b=h&p^~h&g,A=pl.add5L(m,e,b,Py[v],Iy[v]),E=pl.add5H(A,y,t,w,Sy[v],Oy[v]),_=0|A,x=pl.rotrSH(r,n,28)^pl.rotrBH(r,n,34)^pl.rotrBH(r,n,39),S=pl.rotrSL(r,n,28)^pl.rotrBL(r,n,34)^pl.rotrBL(r,n,39),P=r&i^r&o^i&o,O=n&s^n&a^s&a;y=0|d,m=0|g,d=0|f,g=0|p,f=0|l,p=0|h,({h:l,l:h}=pl.add(0|c,0|u,0|E,0|_)),c=0|o,u=0|a,o=0|i,a=0|s,i=0|r,s=0|n;const I=pl.add3L(_,S,O);r=pl.add3H(I,E,x,P),n=0|I}({h:r,l:n}=pl.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=pl.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=pl.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:u}=pl.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:l,l:h}=pl.add(0|this.Eh,0|this.El,0|l,0|h)),({h:f,l:p}=pl.add(0|this.Fh,0|this.Fl,0|f,0|p)),({h:d,l:g}=pl.add(0|this.Gh,0|this.Gl,0|d,0|g)),({h:y,l:m}=pl.add(0|this.Hh,0|this.Hl,0|y,0|m)),this.set(r,n,i,s,o,a,c,u,l,h,f,p,d,g,y,m)}roundClean(){Oy.fill(0),Iy.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Ny extends Cy{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Ty extends Cy{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const ky=vl((()=>new Cy));vl((()=>new Ny)),vl((()=>new Ty));const Ry=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();Ry.crypto||Ry.msCrypto;let Ly=!1;const jy=function(t,e,r){return function(t,e){const r={sha256:xy,sha512:ky}[t];return Au(null!=r,"invalid hmac algorithm","algorithm",t),yy.create(r,e)}(t,e).update(r).digest()};let Uy=jy;function By(t,e,r){const n=Pu(e,"key"),i=Pu(r,"data");return Nu(Uy(t,n,i))}By._=jy,By.lock=function(){Ly=!0},By.register=function(t){if(Ly)throw new Error("computeHmac is locked");Uy=t},Object.freeze(By),dy.hmacSha256Sync=function(t,...e){return Pu(By("sha256",t,Tu(e)))};class Dy{#T;constructor(t){Au(32===ku(t),"invalid private key","privateKey","[REDACTED]"),this.#T=Nu(t)}get privateKey(){return this.#T}get publicKey(){return Dy.computePublicKey(this.#T)}get compressedPublicKey(){return Dy.computePublicKey(this.#T,!0)}sign(t){Au(32===ku(t),"invalid digest length","digest",t);const[e,r]=function(t,e,r={}){const{seed:n,m:i,d:s}=ly(t,e,r.extraEntropy),o=new Xg(32,Ag);let a;for(o.reseedSync(n);!(a=ry(o.generateSync(),i,s,r.canonical));)o.reseedSync();return hy(a,r)}(Ou(t),Ou(this.#T),{recovered:!0,canonical:!0}),n=Lg.fromHex(e);return ug.from({r:Ku("0x"+n.r.toString(16),32),s:Ku("0x"+n.s.toString(16),32),v:r?28:27})}computeSharedSecret(t){const e=Dy.computePublicKey(t);return Nu(function(t,e,r=!1){if(oy(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!oy(e))throw new TypeError("getSharedSecret: second arg must be public key");const n=iy(e);return n.assertValidity(),n.multiply(ny(t)).toRawBytes(r)}(Ou(this.#T),Pu(e)))}static computePublicKey(t,e){let r=Pu(t,"key");if(32===r.length){return Nu(function(t,e=!1){return Tg.fromPrivateKey(t).toRawBytes(e)}(r,!!e))}if(64===r.length){const t=new Uint8Array(65);t[0]=4,t.set(r,1),r=t}return Nu(Tg.fromHex(r).toRawBytes(e))}static recoverPublicKey(t,e){Au(32===ku(t),"invalid digest length","digest",t);const r=ug.from(e),n=Lg.fromCompact(Ou(Tu([r.r,r.s]))).toDERRawBytes(),i=function(t,e,r,n=!1){return Tg.fromSignature(t,e,r).toRawBytes(n)}(Ou(t),n,r.yParity);return Au(null!=i,"invalid signautre for digest","signature",e),Nu(i)}static addPoints(t,e,r){const n=Tg.fromHex(Dy.computePublicKey(t).substring(2)),i=Tg.fromHex(Dy.computePublicKey(e).substring(2));return"0x"+n.add(i).toHex(!!r)}}function My(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Fy(t,e,r){let n=0;for(let i=0;i<r;i++)n=256*n+t[e+i];return n}function zy(t,e,r,n){const i=[];for(;r<e+1+n;){const s=Hy(t,r);i.push(s.result),bu((r+=s.consumed)<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:i}}function Hy(t,e){bu(0!==t.length,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=e=>{bu(e<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:e})};if(t[e]>=248){const n=t[e]-247;r(e+1+n);const i=Fy(t,e+1,n);return r(e+1+n+i),zy(t,e,e+1+n,n+i)}if(t[e]>=192){const n=t[e]-192;return r(e+1+n),zy(t,e,e+1,n)}if(t[e]>=184){const n=t[e]-183;r(e+1+n);const i=Fy(t,e+1,n);r(e+1+n+i);return{consumed:1+n+i,result:Nu(t.slice(e+1+n,e+1+n+i))}}if(t[e]>=128){const n=t[e]-128;r(e+1+n);return{consumed:1+n,result:Nu(t.slice(e+1,e+1+n))}}return{consumed:1,result:My(t[e])}}function qy(t){const e=Pu(t,"data"),r=Hy(e,0);return Au(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function Gy(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function Vy(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(Vy(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=Gy(e.length);return r.unshift(247+r.length),r.concat(e)}const e=Array.prototype.slice.call(Pu(t,"object"));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=Gy(e.length);return r.unshift(183+r.length),r.concat(e)}const Ky="0123456789abcdef";function Wy(t){let e="0x";for(const r of Vy(t))e+=Ky[r>>4],e+=Ky[15&r];return e}function $y(t,e){return function(t){let e;return e="string"==typeof t?Dy.computePublicKey(t,!1):t.publicKey,Wl(Ml("0x"+e.substring(4)).substring(26))}(Dy.recoverPublicKey(t,e))}const Jy=BigInt(0),Qy=BigInt(2),Zy=BigInt(27),Yy=BigInt(28),Xy=BigInt(35),tm=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function em(t){return"0x"===t?null:Wl(t)}function rm(t,e){try{return Uf(t)}catch(r){Au(!1,r.message,e,t)}}function nm(t,e){return"0x"===t?0:Vu(t,e)}function im(t,e){if("0x"===t)return Jy;const r=zu(t,e);return Au(r<=tm,"value exceeds uint size",e,r),r}function sm(t,e){const r=zu(t,"value"),n=Wu(r);return Au(n.length<=32,"value too large",`tx.${e}`,r),n}function om(t){return Uf(t).map((t=>[t.address,t.storageKeys]))}function am(t,e){const r=[sm(t.nonce||0,"nonce"),sm(t.gasPrice||0,"gasPrice"),sm(t.gasLimit||0,"gasLimit"),null!=t.to?Wl(t.to):"0x",sm(t.value||0,"value"),t.data||"0x"];let n=Jy;if(t.chainId!=Jy)n=zu(t.chainId,"tx.chainId"),Au(!e||null==e.networkV||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const e=t.signature.legacyChainId;null!=e&&(n=e)}if(!e)return n!==Jy&&(r.push(Wu(n)),r.push("0x"),r.push("0x")),Wy(r);let i=BigInt(27+e.yParity);return n!==Jy?i=ug.getChainIdV(n,e.v):BigInt(e.v)!==i&&Au(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(Wu(i)),r.push(Wu(e.r)),r.push(Wu(e.s)),Wy(r)}function cm(t,e){let r;try{if(r=nm(e[0],"yParity"),0!==r&&1!==r)throw new Error("bad yParity")}catch(o){Au(!1,"invalid yParity","yParity",e[0])}const n=ju(e[1],32),i=ju(e[2],32),s=ug.from({r:n,s:i,yParity:r});t.signature=s}function um(t,e){const r=[sm(t.chainId||0,"chainId"),sm(t.nonce||0,"nonce"),sm(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),sm(t.maxFeePerGas||0,"maxFeePerGas"),sm(t.gasLimit||0,"gasLimit"),null!=t.to?Wl(t.to):"0x",sm(t.value||0,"value"),t.data||"0x",om(t.accessList||[])];return e&&(r.push(sm(e.yParity,"yParity")),r.push(Wu(e.r)),r.push(Wu(e.s))),Tu(["0x02",Wy(r)])}function lm(t,e){const r=[sm(t.chainId||0,"chainId"),sm(t.nonce||0,"nonce"),sm(t.gasPrice||0,"gasPrice"),sm(t.gasLimit||0,"gasLimit"),null!=t.to?Wl(t.to):"0x",sm(t.value||0,"value"),t.data||"0x",om(t.accessList||[])];return e&&(r.push(sm(e.yParity,"recoveryParam")),r.push(Wu(e.r)),r.push(Wu(e.s))),Tu(["0x01",Wy(r)])}class hm{#k;#R;#e;#L;#j;#U;#B;#D;#M;#F;#z;#H;get type(){return this.#k}set type(t){switch(t){case null:this.#k=null;break;case 0:case"legacy":this.#k=0;break;case 1:case"berlin":case"eip-2930":this.#k=1;break;case 2:case"london":case"eip-1559":this.#k=2;break;default:Au(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return this.#R}set to(t){this.#R=null==t?null:Wl(t)}get nonce(){return this.#L}set nonce(t){this.#L=Vu(t,"value")}get gasLimit(){return this.#j}set gasLimit(t){this.#j=zu(t)}get gasPrice(){const t=this.#U;return null!=t||0!==this.type&&1!==this.type?t:Jy}set gasPrice(t){this.#U=null==t?null:zu(t,"gasPrice")}get maxPriorityFeePerGas(){const t=this.#B;return null==t?2===this.type?Jy:null:t}set maxPriorityFeePerGas(t){this.#B=null==t?null:zu(t,"maxPriorityFeePerGas")}get maxFeePerGas(){const t=this.#D;return null==t?2===this.type?Jy:null:t}set maxFeePerGas(t){this.#D=null==t?null:zu(t,"maxFeePerGas")}get data(){return this.#e}set data(t){this.#e=Nu(t)}get value(){return this.#M}set value(t){this.#M=zu(t,"value")}get chainId(){return this.#F}set chainId(t){this.#F=zu(t)}get signature(){return this.#z||null}set signature(t){this.#z=null==t?null:ug.from(t)}get accessList(){const t=this.#H||null;return null==t?1===this.type||2===this.type?[]:null:t}set accessList(t){this.#H=null==t?null:Uf(t)}constructor(){this.#k=null,this.#R=null,this.#L=0,this.#j=BigInt(0),this.#U=null,this.#B=null,this.#D=null,this.#e="0x",this.#M=BigInt(0),this.#F=BigInt(0),this.#z=null,this.#H=null}get hash(){return null==this.signature?null:Ml(this.serialized)}get unsignedHash(){return Ml(this.unsignedSerialized)}get from(){return null==this.signature?null:$y(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:Dy.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}get serialized(){switch(bu(null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return am(this,this.signature);case 1:return lm(this,this.signature);case 2:return um(this,this.signature)}bu(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return am(this);case 1:return lm(this);case 2:return um(this)}bu(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const t=null!=this.gasPrice,e=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,r=null!=this.accessList;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&bu(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),bu(!e||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),bu(0!==this.type||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const n=[];return null!=this.type?n.push(this.type):e?n.push(2):t?(n.push(1),r||n.push(0)):r?(n.push(1),n.push(2)):(n.push(0),n.push(1),n.push(2)),n.sort(),n}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}clone(){return hm.from(this)}toJSON(){const t=t=>null==t?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(t){if(null==t)return new hm;if("string"==typeof t){const e=Pu(t);if(e[0]>=127)return hm.from(function(t){const e=qy(t);Au(Array.isArray(e)&&(9===e.length||6===e.length),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:nm(e[0],"nonce"),gasPrice:im(e[1],"gasPrice"),gasLimit:im(e[2],"gasLimit"),to:em(e[3]),value:im(e[4],"value"),data:Nu(e[5]),chainId:Jy};if(6===e.length)return r;const n=im(e[6],"v"),i=im(e[7],"r"),s=im(e[8],"s");if(i===Jy&&s===Jy)r.chainId=n;else{let i=(n-Xy)/Qy;i<Jy&&(i=Jy),r.chainId=i,Au(i!==Jy||n===Zy||n===Yy,"non-canonical legacy v","v",e[6]),r.signature=ug.from({r:ju(e[7],32),s:ju(e[8],32),v:n}),r.hash=Ml(t)}return r}(e));switch(e[0]){case 1:return hm.from(function(t){const e=qy(Pu(t).slice(1));Au(Array.isArray(e)&&(8===e.length||11===e.length),"invalid field count for transaction type: 1","data",Nu(t));const r={type:1,chainId:im(e[0],"chainId"),nonce:nm(e[1],"nonce"),gasPrice:im(e[2],"gasPrice"),gasLimit:im(e[3],"gasLimit"),to:em(e[4]),value:im(e[5],"value"),data:Nu(e[6]),accessList:rm(e[7],"accessList")};return 8===e.length||(r.hash=Ml(t),cm(r,e.slice(8))),r}(e));case 2:return hm.from(function(t){const e=qy(Pu(t).slice(1));Au(Array.isArray(e)&&(9===e.length||12===e.length),"invalid field count for transaction type: 2","data",Nu(t));const r=im(e[2],"maxPriorityFeePerGas"),n=im(e[3],"maxFeePerGas"),i={type:2,chainId:im(e[0],"chainId"),nonce:nm(e[1],"nonce"),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:im(e[4],"gasLimit"),to:em(e[5]),value:im(e[6],"value"),data:Nu(e[7]),accessList:rm(e[8],"accessList")};return 9===e.length||(i.hash=Ml(t),cm(i,e.slice(9))),i}(e))}bu(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const e=new hm;return null!=t.type&&(e.type=t.type),null!=t.to&&(e.to=t.to),null!=t.nonce&&(e.nonce=t.nonce),null!=t.gasLimit&&(e.gasLimit=t.gasLimit),null!=t.gasPrice&&(e.gasPrice=t.gasPrice),null!=t.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas),null!=t.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null!=t.data&&(e.data=t.data),null!=t.value&&(e.value=t.value),null!=t.chainId&&(e.chainId=t.chainId),null!=t.signature&&(e.signature=ug.from(t.signature)),null!=t.accessList&&(e.accessList=t.accessList),null!=t.hash&&(Au(e.isSigned(),"unsigned transaction cannot define hash","tx",t),Au(e.hash===t.hash,"hash mismatch","tx",t)),null!=t.from&&(Au(e.isSigned(),"unsigned transaction cannot define from","tx",t),Au(e.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),e}}let fm=async function(t,e){const r=t.url.split(":")[0].toLowerCase();let n;if(bu("http"===r||"https"===r,`unsupported protocol ${r}`,"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),bu("https"===r||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"}),e){const t=new AbortController;n=t.signal,e.addListener((()=>{t.abort()}))}const i={method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:n},s=await fetch(t.url,i),o={};s.headers.forEach(((t,e)=>{o[e.toLowerCase()]=t}));const a=await s.arrayBuffer(),c=null==a?null:new Uint8Array(a);return{statusCode:s.status,statusMessage:s.statusText,headers:o,body:c}};const pm=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),dm=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let gm=!1;async function ym(t,e){try{const e=t.match(pm);if(!e)throw new Error("invalid data");return new _m(200,"OK",{"content-type":e[1]||"text/plain"},e[2]?function(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return Pu(e)}(e[3]):mh(e[3].replace(/%([0-9a-f][0-9a-f])/gi,((t,e)=>String.fromCharCode(parseInt(e,16))))))}catch(r){return new _m(599,"BAD REQUEST (invalid data: URI)",{},null,new Em(t))}}function mm(t){return async function(e,r){try{const r=e.match(dm);if(!r)throw new Error("invalid link");return new Em(`${t}${r[2]}`)}catch(n){return new _m(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Em(e))}}}const vm={data:ym,ipfs:mm("https://gateway.ipfs.io/ipfs/")},wm=new WeakMap;class bm{#q;#G;constructor(t){this.#q=[],this.#G=!1,wm.set(t,(()=>{if(!this.#G){this.#G=!0;for(const t of this.#q)setTimeout((()=>{t()}),0);this.#q=[]}}))}addListener(t){bu(!this.#G,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#q.push(t)}get cancelled(){return this.#G}checkSignal(){bu(!this.cancelled,"cancelled","CANCELLED",{})}}function Am(t){if(null==t)throw new Error("missing signal; should not happen");return t.checkSignal(),t}class Em{#V;#K;#W;#$;#J;#Q;#Z;#Y;#X;#tt;#et;#rt;#nt;#it;get url(){return this.#Q}set url(t){this.#Q=String(t)}get body(){return null==this.#Z?null:new Uint8Array(this.#Z)}set body(t){if(null==t)this.#Z=void 0,this.#Y=void 0;else if("string"==typeof t)this.#Z=mh(t),this.#Y="text/plain";else if(t instanceof Uint8Array)this.#Z=t,this.#Y="application/octet-stream";else{if("object"!=typeof t)throw new Error("invalid body");this.#Z=mh(JSON.stringify(t)),this.#Y="application/json"}}hasBody(){return null!=this.#Z}get method(){return this.#$?this.#$:this.hasBody()?"POST":"GET"}set method(t){null==t&&(t=""),this.#$=String(t).toUpperCase()}get headers(){const t=Object.assign({},this.#W);return this.#X&&(t.authorization=`Basic ${function(t){const e=Pu(t);let r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}(mh(this.#X))}`),this.allowGzip&&(t["accept-encoding"]="gzip"),null==t["content-type"]&&this.#Y&&(t["content-type"]=this.#Y),this.body&&(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,e){this.#W[String(t).toLowerCase()]=String(e)}clearHeaders(){this.#W={}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let r=0;return{next:()=>{if(r<e.length){const n=e[r++];return{value:[n,t[n]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#X||null}setCredentials(t,e){Au(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#X=`${t}:${e}`}get allowGzip(){return this.#K}set allowGzip(t){this.#K=!!t}get allowInsecureAuthentication(){return!!this.#V}set allowInsecureAuthentication(t){this.#V=!!t}get timeout(){return this.#J}set timeout(t){Au(t>=0,"timeout must be non-zero","timeout",t),this.#J=t}get preflightFunc(){return this.#tt||null}set preflightFunc(t){this.#tt=t}get processFunc(){return this.#et||null}set processFunc(t){this.#et=t}get retryFunc(){return this.#rt||null}set retryFunc(t){this.#rt=t}constructor(t){this.#Q=String(t),this.#V=!1,this.#K=!0,this.#W={},this.#$="",this.#J=3e5,this.#it={slotInterval:250,maxAttempts:12}}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#Z?Nu(this.#Z):"null"}>`}setThrottleParams(t){null!=t.slotInterval&&(this.#it.slotInterval=t.slotInterval),null!=t.maxAttempts&&(this.#it.maxAttempts=t.maxAttempts)}async#st(t,e,r,n,i){if(t>=this.#it.maxAttempts)return i.makeServerError("exceeded maximum retry limit");bu(xm()<=e,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:n}),r>0&&await function(t){return new Promise((e=>setTimeout(e,t)))}(r);let s=this.clone();const o=(s.url.split(":")[0]||"").toLowerCase();if(o in vm){const t=await vm[o](s.url,Am(n.#nt));if(t instanceof _m){let e=t;if(this.processFunc){Am(n.#nt);try{e=await this.processFunc(s,e)}catch(u){null!=u.throttle&&"number"==typeof u.stall||e.makeServerError("error in post-processing function",u).assertOk()}}return e}s=t}this.preflightFunc&&(s=await this.preflightFunc(s));const a=await fm(s,Am(n.#nt));let c=new _m(a.statusCode,a.statusMessage,a.headers,a.body,n);if(301===c.statusCode||302===c.statusCode){try{const r=c.headers.location||"";return s.redirect(r).#st(t+1,e,0,n,c)}catch(u){}return c}if(429===c.statusCode&&(null==this.retryFunc||await this.retryFunc(s,c,t))){const r=c.headers["retry-after"];let i=this.#it.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return"string"==typeof r&&r.match(/^[1-9][0-9]*$/)&&(i=parseInt(r)),s.clone().#st(t+1,e,i,n,c)}if(this.processFunc){Am(n.#nt);try{c=await this.processFunc(s,c)}catch(u){null!=u.throttle&&"number"==typeof u.stall||c.makeServerError("error in post-processing function",u).assertOk();let r=this.#it.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return u.stall>=0&&(r=u.stall),s.clone().#st(t+1,e,r,n,c)}}return c}send(){return bu(null==this.#nt,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#nt=new bm(this),this.#st(0,xm()+this.timeout,0,this,new _m(0,"",{},null,this))}cancel(){bu(null!=this.#nt,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=wm.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const e=this.url.split(":")[0].toLowerCase(),r=t.split(":")[0].toLowerCase();bu("GET"===this.method&&("https"!==e||"http"!==r)&&t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(t)})`});const n=new Em(t);return n.method="GET",n.allowGzip=this.allowGzip,n.timeout=this.timeout,n.#W=Object.assign({},this.#W),this.#Z&&(n.#Z=new Uint8Array(this.#Z)),n.#Y=this.#Y,n}clone(){const t=new Em(this.url);return t.#$=this.#$,this.#Z&&(t.#Z=this.#Z),t.#Y=this.#Y,t.#W=Object.assign({},this.#W),t.#X=this.#X,this.allowGzip&&(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&&(t.allowInsecureAuthentication=!0),t.#tt=this.#tt,t.#et=this.#et,t.#rt=this.#rt,t}static lockConfig(){gm=!0}static getGateway(t){return vm[t.toLowerCase()]||null}static registerGateway(t,e){if("http"===(t=t.toLowerCase())||"https"===t)throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(gm)throw new Error("gateways locked");vm[t]=e}static registerGetUrl(t){if(gm)throw new Error("gateways locked");fm=t}static createDataGateway(){return ym}static createIpfsGatewayFunc(t){return mm(t)}}class _m{#ot;#at;#W;#Z;#ct;#ut;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#Z?Nu(this.#Z):"null"}>`}get statusCode(){return this.#ot}get statusMessage(){return this.#at}get headers(){return Object.assign({},this.#W)}get body(){return null==this.#Z?null:new Uint8Array(this.#Z)}get bodyText(){try{return null==this.#Z?"":vh(this.#Z)}catch(t){bu(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(t){bu(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let r=0;return{next:()=>{if(r<e.length){const n=e[r++];return{value:[n,t[n]],done:!1}}return{value:void 0,done:!0}}}}constructor(t,e,r,n,i){this.#ot=t,this.#at=e,this.#W=Object.keys(r).reduce(((t,e)=>(t[e.toLowerCase()]=String(r[e]),t)),{}),this.#Z=null==n?null:new Uint8Array(n),this.#ct=i||null,this.#ut={message:""}}makeServerError(t,e){let r;r=t?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:`CLIENT ESCALATED SERVER ERROR (${t=`${this.statusCode} ${this.statusMessage}`})`;const n=new _m(599,r,this.headers,this.body,this.#ct||void 0);return n.#ut={message:t,error:e},n}throwThrottleError(t,e){null==e?e=-1:Au(Number.isInteger(e)&&e>=0,"invalid stall timeout","stall",e);const r=new Error(t||"throttling requests");throw gu(r,{stall:e,throttle:!0}),r}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return null!=this.#Z}get request(){return this.#ct}ok(){return""===this.#ut.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:t,error:e}=this.#ut;""===t&&(t=`server response ${this.statusCode} ${this.statusMessage}`),bu(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:e})}}function xm(){return(new Date).getTime()}const Sm="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Pm=BigInt(58);function Om(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Au(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class Im{name;constructor(t){gu(this,{name:t})}connect(t){return this}supportsCoinType(t){return!1}async encodeAddress(t,e){throw new Error("unsupported coin")}async decodeAddress(t,e){throw new Error("unsupported coin")}}const Cm=new RegExp("^(ipfs)://(.*)$","i"),Nm=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Cm,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class Tm{provider;address;name;#lt;#ht;constructor(t,e,r){gu(this,{provider:t,address:e,name:r}),this.#lt=null,this.#ht=new Cp(e,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (address)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t)}async supportsWildcard(){return null==this.#lt&&(this.#lt=(async()=>{try{return await this.#ht.supportsInterface("0x9061b923")}catch(t){if(mu(t,"CALL_EXCEPTION"))return!1;throw this.#lt=null,t}})()),await this.#lt}async#ft(t,e){e=(e||[]).slice();const r=this.#ht.interface;e.unshift(Xd(this.name));let n=null;var i;await this.supportsWildcard()&&(n=r.getFunction(t),bu(n,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),e=[(i=this.name,Nu(Tu(Yd(i).map((t=>{if(t.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const e=new Uint8Array(t.length+1);return e.set(t,1),e[0]=e.length-1,e}))))+"00"),r.encodeFunctionData(n,e)],t="resolve(bytes,bytes)"),e.push({ccipReadEnable:!0});try{const i=await this.#ht[t](...e);return n?r.decodeFunctionResult(n,i)[0]:i}catch(s){if(!mu(s,"CALL_EXCEPTION"))throw s}return null}async getAddress(t){if(null==t&&(t=60),60===t)try{const t=await this.#ft("addr(bytes32)");return null==t||t===Bf?null:t}catch(i){if(mu(i,"CALL_EXCEPTION"))return null;throw i}let e=null;for(const s of this.provider.plugins)if(s instanceof Im&&s.supportsCoinType(t)){e=s;break}if(null==e)return null;const r=await this.#ft("addr(bytes32,uint)",[t]);if(null==r||"0x"===r)return null;const n=await e.encodeAddress(t,r);if(null!=n)return n;bu(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:r}})}async getText(t){const e=await this.#ft("text(bytes32,string)",[t]);return null==e||"0x"===e?null:e}async getContentHash(){const t=await this.#ft("contenthash(bytes32)");if(null==t||"0x"===t)return null;const e=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const t="e3010170"===e[1]?"ipfs":"ipns",r=parseInt(e[4],16);if(e[5].length===2*r)return`${t}://${function(t){let e=Gu(Pu(t)),r="";for(;e;)r=Sm[Number(e%Pm)]+r,e/=Pm;return r}("0x"+e[2])}`}const r=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return`bzz://${r[1]}`;bu(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:"name",value:this.name}];try{const r=await this.getText("avatar");if(null==r)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:r});for(let n=0;n<Nm.length;n++){const i=r.match(Nm[n]);if(null==i)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return t.push({type:"url",value:r}),{linkage:t,url:r};case"ipfs":{const e=Om(r);return t.push({type:"ipfs",value:r}),t.push({type:"url",value:e}),{linkage:t,url:e}}case"erc721":case"erc1155":{const n="erc721"===s?"tokenURI(uint256)":"uri(uint256)";t.push({type:s,value:r});const o=await this.getAddress();if(null==o)return t.push({type:"!owner",value:""}),{url:null,linkage:t};const a=(i[2]||"").split("/");if(2!==a.length)return t.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:t};const c=a[1],u=new Cp(a[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===s){const e=await u.ownerOf(c);if(o!==e)return t.push({type:"!owner",value:e}),{url:null,linkage:t};t.push({type:"owner",value:e})}else if("erc1155"===s){const e=await u.balanceOf(o,c);if(!e)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:e.toString()})}let l=await u[n](c);if(null==l||"0x"===l)return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:l}),"erc1155"===s&&(l=l.replace("{id}",Ku(c,32).substring(2)),t.push({type:"metadata-url-expanded",value:l})),l.match(/^ipfs:/i)&&(l=Om(l)),t.push({type:"metadata-url",value:l});let h={};const f=await new Em(l).send();f.assertOk();try{h=f.bodyJson}catch(e){try{t.push({type:"!metadata",value:f.bodyText})}catch(e){const r=f.body;return r&&t.push({type:"!metadata",value:Nu(r)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!h)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(h)});let p=h.image;if("string"!=typeof p)return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(p.match(/^(https:\/\/|data:)/i));else{if(null==p.match(Cm))return t.push({type:"!imageUrl-ipfs",value:p}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:p}),p=Om(p)}return t.push({type:"url",value:p}),{linkage:t,url:p}}}}}catch(e){}return{linkage:t,url:null}}static async getEnsAddress(t){const e=await t.getNetwork(),r=e.getPlugin("org.ethers.plugins.network.Ens");return bu(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:e}}),r.address}static async#pt(t,e){const r=await Tm.getEnsAddress(t);try{const n=new Cp(r,["function resolver(bytes32) view returns (address)"],t),i=await n.resolver(Xd(e),{enableCcipRead:!0});return i===Bf?null:i}catch(n){throw n}return null}static async fromName(t,e){let r=e;for(;;){if(""===r||"."===r)return null;if("eth"!==e&&"eth"===r)return null;const n=await Tm.#pt(t,r);if(null!=n){const i=new Tm(t,n,e);return r===e||await i.supportsWildcard()?i:null}r=r.split(".").slice(1).join(".")}}}const km=BigInt(0);function Rm(t,e){return function(r){return null==r?e:t(r)}}function Lm(t){return e=>{if(!Array.isArray(e))throw new Error("not an array");return e.map((e=>t(e)))}}function jm(t,e){return r=>{const n={};for(const s in t){let o=s;if(e&&s in e&&!(o in r))for(const t of e[s])if(t in r){o=t;break}try{const e=t[s](r[o]);void 0!==e&&(n[s]=e)}catch(i){bu(!1,`invalid value for value.${s} (${i instanceof Error?i.message:"not-an-error"})`,"BAD_DATA",{value:r})}}return n}}function Um(t){return Au(Iu(t,!0),"invalid data","value",t),t}function Bm(t){return Au(Iu(t,32),"invalid hash","value",t),t}const Dm=jm({address:Wl,blockHash:Bm,blockNumber:Vu,data:Um,index:Vu,removed:Rm((function(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}Au(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}),!1),topics:Lm(Bm),transactionHash:Bm,transactionIndex:Vu},{index:["logIndex"]});const Mm=jm({hash:Rm(Bm),parentHash:Bm,number:Vu,timestamp:Vu,nonce:Rm(Um),difficulty:zu,gasLimit:zu,gasUsed:zu,miner:Rm(Wl),extraData:Um,baseFeePerGas:Rm(zu)});const Fm=jm({transactionIndex:Vu,blockNumber:Vu,transactionHash:Bm,address:Wl,topics:Lm(Bm),data:Um,index:Vu,blockHash:Bm},{index:["logIndex"]});const zm=jm({to:Rm(Wl,null),from:Rm(Wl,null),contractAddress:Rm(Wl,null),index:Vu,root:Rm(Nu),gasUsed:zu,logsBloom:Rm(Um),blockHash:Bm,hash:Bm,logs:Lm((function(t){return Fm(t)})),blockNumber:Vu,cumulativeGasUsed:zu,effectiveGasPrice:Rm(zu),status:Rm(Vu),type:Rm(Vu,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Hm(t){t.to&&zu(t.to)===km&&(t.to="0x0000000000000000000000000000000000000000");const e=jm({hash:Bm,type:t=>"0x"===t||null==t?0:Vu(t),accessList:Rm(Uf,null),blockHash:Rm(Bm,null),blockNumber:Rm(Vu,null),transactionIndex:Rm(Vu,null),from:Wl,gasPrice:Rm(zu),maxPriorityFeePerGas:Rm(zu),maxFeePerGas:Rm(zu),gasLimit:zu,to:Rm(Wl,null),value:zu,nonce:Vu,data:Um,creates:Rm(Wl,null),chainId:Rm(zu,null)},{data:["input"],gasLimit:["gas"]})(t);if(null==e.to&&null==e.creates&&(e.creates=function(t){const e=Wl(t.from);let r=zu(t.nonce,"tx.nonce").toString(16);return r="0"===r?"0x":r.length%2?"0x0"+r:"0x"+r,Wl(Ru(Ml(Wy([e,r])),12))}(e)),1!==t.type&&2!==t.type||null!=t.accessList||(e.accessList=[]),t.signature?e.signature=ug.from(t.signature):e.signature=ug.from(t),null==e.chainId){const t=e.signature.legacyChainId;null!=t&&(e.chainId=t)}return e.blockHash&&zu(e.blockHash)===km&&(e.blockHash=null),e}class qm{name;constructor(t){gu(this,{name:t})}clone(){return new qm(this.name)}}class Gm extends qm{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(t,e){null==t&&(t=0),super(`org.ethers.network.plugins.GasCost#${t||0}`);const r={effectiveBlock:t};function n(t,n){let i=(e||{})[t];null==i&&(i=n),Au("number"==typeof i,`invalud value for ${t}`,"costs",e),r[t]=i}n("txBase",21e3),n("txCreate",32e3),n("txDataZero",4),n("txDataNonzero",16),n("txAccessListStorageKey",1900),n("txAccessListAddress",2400),gu(this,r)}clone(){return new Gm(this.effectiveBlock,this)}}class Vm extends qm{address;targetNetwork;constructor(t,e){super("org.ethers.plugins.network.Ens"),gu(this,{address:t||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==e?1:e})}clone(){return new Vm(this.address,this.targetNetwork)}}const Km=new Map;class Wm{#dt;#F;#gt;constructor(t,e){this.#dt=t,this.#F=zu(e),this.#gt=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#dt}set name(t){this.#dt=t}get chainId(){return this.#F}set chainId(t){this.#F=zu(t,"chainId")}matches(t){if(null==t)return!1;if("string"==typeof t){try{return this.chainId===zu(t)}catch(e){}return this.name===t}if("number"==typeof t||"bigint"==typeof t){try{return this.chainId===zu(t)}catch(e){}return!1}if("object"==typeof t){if(null!=t.chainId){try{return this.chainId===zu(t.chainId)}catch(e){}return!1}return null!=t.name&&this.name===t.name}return!1}get plugins(){return Array.from(this.#gt.values())}attachPlugin(t){if(this.#gt.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#gt.set(t.name,t.clone()),this}getPlugin(t){return this.#gt.get(t)||null}getPlugins(t){return this.plugins.filter((e=>e.name.split("#")[0]===t))}clone(){const t=new Wm(this.name,this.chainId);return this.plugins.forEach((e=>{t.attachPlugin(e.clone())})),t}computeIntrinsicGas(t){const e=this.getPlugin("org.ethers.plugins.network.GasCost")||new Gm;let r=e.txBase;if(null==t.to&&(r+=e.txCreate),t.data)for(let n=2;n<t.data.length;n+=2)"00"===t.data.substring(n,n+2)?r+=e.txDataZero:r+=e.txDataNonzero;if(t.accessList){const n=Uf(t.accessList);for(const t in n)r+=e.txAccessListAddress+e.txAccessListStorageKey*n[t].storageKeys.length}return r}static from(t){if(function(){if($m)return;function t(t,e,r){const n=function(){const n=new Wm(t,e);return null!=r.ensNetwork&&n.attachPlugin(new Vm(null,r.ensNetwork)),r.priorityFee,n.attachPlugin(new Gm),n};Wm.register(t,n),Wm.register(e,n),r.altNames&&r.altNames.forEach((t=>{Wm.register(t,n)}))}$m=!0,t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{}),t("classic",61,{}),t("classicKotti",6,{}),t("xdai",100,{ensNetwork:1}),t("optimism",10,{ensNetwork:1,etherscan:{url:"https://api-optimistic.etherscan.io/"}}),t("optimism-goerli",420,{etherscan:{url:"https://api-goerli-optimistic.etherscan.io/"}}),t("arbitrum",42161,{ensNetwork:1,etherscan:{url:"https://api.arbiscan.io/"}}),t("arbitrum-goerli",421613,{etherscan:{url:"https://api-goerli.arbiscan.io/"}}),t("matic",137,{ensNetwork:1,etherscan:{url:"https://api.polygonscan.com/"}}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],etherscan:{url:"https://api-testnet.polygonscan.com/"}}),t("bnb",56,{ensNetwork:1,etherscan:{url:"http://api.bscscan.com"}}),t("bnbt",97,{etherscan:{url:"http://api-testnet.bscscan.com"}})}(),null==t)return Wm.from("mainnet");if("number"==typeof t&&(t=BigInt(t)),"string"==typeof t||"bigint"==typeof t){const e=Km.get(t);if(e)return e();if("bigint"==typeof t)return new Wm("unknown",t);Au(!1,"unknown network","network",t)}if("function"==typeof t.clone){return t.clone()}if("object"==typeof t){Au("string"==typeof t.name&&"number"==typeof t.chainId,"invalid network object name or chainId","network",t);const e=new Wm(t.name,t.chainId);return(t.ensAddress||null!=t.ensNetwork)&&e.attachPlugin(new Vm(t.ensAddress,t.ensNetwork)),e}Au(!1,"invalid network","network",t)}static register(t,e){"number"==typeof t&&(t=BigInt(t));const r=Km.get(t);r&&Au(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",t),Km.set(t,e)}}let $m=!1;function Jm(t){return JSON.parse(JSON.stringify(t))}class Qm{#yt;#mt;#vt;#wt;constructor(t){this.#yt=t,this.#mt=null,this.#vt=4e3,this.#wt=-2}get pollingInterval(){return this.#vt}set pollingInterval(t){this.#vt=t}async#bt(){try{const t=await this.#yt.getBlockNumber();if(-2===this.#wt)return void(this.#wt=t);if(t!==this.#wt){for(let e=this.#wt+1;e<=t;e++){if(null==this.#mt)return;await this.#yt.emit("block",e)}this.#wt=t}}catch(t){}null!=this.#mt&&(this.#mt=this.#yt._setTimeout(this.#bt.bind(this),this.#vt))}start(){this.#mt||(this.#mt=this.#yt._setTimeout(this.#bt.bind(this),this.#vt),this.#bt())}stop(){this.#mt&&(this.#yt._clearTimeout(this.#mt),this.#mt=null)}pause(t){this.stop(),t&&(this.#wt=-2)}resume(){this.start()}}class Zm{#yt;#bt;#At;constructor(t){this.#yt=t,this.#At=!1,this.#bt=t=>{this._poll(t,this.#yt)}}async _poll(t,e){throw new Error("sub-classes must override this")}start(){this.#At||(this.#At=!0,this.#bt(-2),this.#yt.on("block",this.#bt))}stop(){this.#At&&(this.#At=!1,this.#yt.off("block",this.#bt))}pause(t){this.stop()}resume(){this.start()}}class Ym extends Zm{#P;constructor(t,e){super(t),this.#P=Jm(e)}async _poll(t,e){throw new Error("@TODO")}}class Xm extends Zm{#Et;constructor(t,e){super(t),this.#Et=e}async _poll(t,e){const r=await e.getTransactionReceipt(this.#Et);r&&e.emit(this.#Et,r)}}class tv{#yt;#P;#mt;#At;#wt;constructor(t,e){this.#yt=t,this.#P=Jm(e),this.#mt=this.#bt.bind(this),this.#At=!1,this.#wt=-2}async#bt(t){if(-2===this.#wt)return;const e=Jm(this.#P);e.fromBlock=this.#wt+1,e.toBlock=t;const r=await this.#yt.getLogs(e);if(0!==r.length)for(const n of r)this.#yt.emit(this.#P,n),this.#wt=n.blockNumber;else this.#wt<t-60&&(this.#wt=t-60)}start(){this.#At||(this.#At=!0,-2===this.#wt&&this.#yt.getBlockNumber().then((t=>{this.#wt=t})),this.#yt.on("block",this.#mt))}stop(){this.#At&&(this.#At=!1,this.#yt.off("block",this.#mt))}pause(t){this.stop(),t&&(this.#wt=-2)}resume(){this.start()}}const ev=BigInt(2);function rv(t){return t&&"function"==typeof t.then}function nv(t,e){return t+":"+JSON.stringify(e,((t,e)=>{if(null==e)return"null";if("bigint"==typeof e)return`bigint:${e.toString()}`;if("string"==typeof e)return e.toLowerCase();if("object"==typeof e&&!Array.isArray(e)){const t=Object.keys(e);return t.sort(),t.reduce(((t,r)=>(t[r]=e[r],t)),{})}return e}))}class iv{name;constructor(t){gu(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function sv(t){return(t=Array.from(new Set(t).values())).sort(),t}async function ov(t,e){if(null==t)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),"string"==typeof t)switch(t){case"block":case"pending":case"debug":case"error":case"network":return{type:t,tag:t}}if(Iu(t,32)){const e=t.toLowerCase();return{type:"transaction",tag:nv("tx",{hash:e}),hash:e}}if(t.orphan){const e=t;return{type:"orphan",tag:nv("orphan",e),filter:(r=e,JSON.parse(JSON.stringify(r)))}}var r;if(t.address||t.topics){const r=t,n={topics:(r.topics||[]).map((t=>null==t?null:Array.isArray(t)?sv(t.map((t=>t.toLowerCase()))):t.toLowerCase()))};if(r.address){const t=[],i=[],s=r=>{Iu(r)?t.push(r):i.push((async()=>{t.push(await bf(r,e))})())};Array.isArray(r.address)?r.address.forEach(s):s(r.address),i.length&&await Promise.all(i),n.address=sv(t.map((t=>t.toLowerCase())))}return{filter:n,tag:nv("event",n),type:"event"}}Au(!1,"unknown ProviderEvent","event",t)}function av(){return(new Date).getTime()}class cv{#_t;#gt;#xt;#St;#Pt;#Ot;#It;#Ct;#Nt;#Tt;#kt;constructor(t){if("any"===t)this.#Ot=!0,this.#Pt=null;else if(t){const e=Wm.from(t);this.#Ot=!1,this.#Pt=Promise.resolve(e),setTimeout((()=>{this.emit("network",e,null)}),0)}else this.#Ot=!1,this.#Pt=null;this.#Ct=-1,this.#It=new Map,this.#_t=new Map,this.#gt=new Map,this.#xt=null,this.#St=!1,this.#Nt=1,this.#Tt=new Map,this.#kt=!1}get provider(){return this}get plugins(){return Array.from(this.#gt.values())}attachPlugin(t){if(this.#gt.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#gt.set(t.name,t.connect(this)),this}getPlugin(t){return this.#gt.get(t)||null}get disableCcipRead(){return this.#kt}set disableCcipRead(t){this.#kt=!!t}async#Rt(t){const e=nv(t.method,t);let r=this.#It.get(e);return r||(r=this._perform(t),this.#It.set(e,r),setTimeout((()=>{this.#It.get(e)===r&&this.#It.delete(e)}),250)),await r}async ccipReadFetch(t,e,r){if(this.disableCcipRead||0===r.length||null==t.to)return null;const n=t.to.toLowerCase(),i=e.toLowerCase(),s=[];for(let a=0;a<r.length;a++){const e=r[a],c=e.replace("{sender}",n).replace("{data}",i),u=new Em(c);-1===e.indexOf("{data}")&&(u.body={data:i,sender:n}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:r});let l="unknown error";const h=await u.send();try{const t=h.bodyJson;if(t.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:t}),t.data;t.message&&(l=t.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:t})}catch(o){}bu(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${l}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:e,errorMessage:l}}),s.push(l)}bu(!1,`error encountered during CCIP fetch: ${s.map((t=>JSON.stringify(t))).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:r,errorMessages:s}})}_wrapBlock(t,e){return new Qf(function(t){const e=Mm(t);return e.transactions=t.transactions.map((t=>"string"==typeof t?t:Hm(t))),e}(t),this)}_wrapLog(t,e){return new Zf(function(t){return Dm(t)}(t),this)}_wrapTransactionReceipt(t,e){return new Yf(function(t){return zm(t)}(t),this)}_wrapTransactionResponse(t,e){return new Xf(Hm(t),this)}_detectNetwork(){bu(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(t){bu(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t})}async getBlockNumber(){const t=Vu(await this.#Rt({method:"getBlockNumber"}),"%response");return this.#Ct>=0&&(this.#Ct=t),t}_getAddress(t){return bf(t,this)}_getBlockTag(t){if(null==t)return"latest";switch(t){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return t}return Iu(t)?Iu(t,32)?t:$u(t):("bigint"==typeof t&&(t=Vu(t,"blockTag")),"number"==typeof t?t>=0?$u(t):this.#Ct>=0?$u(this.#Ct+t):this.getBlockNumber().then((e=>$u(e+t))):void Au(!1,"invalid blockTag","blockTag",t))}_getFilter(t){const e=(t.topics||[]).map((t=>null==t?null:Array.isArray(t)?sv(t.map((t=>t.toLowerCase()))):t.toLowerCase())),r="blockHash"in t?t.blockHash:void 0,n=(t,n,i)=>{let s;switch(t.length){case 0:break;case 1:s=t[0];break;default:t.sort(),s=t}if(r&&(null!=n||null!=i))throw new Error("invalid filter");const o={};return s&&(o.address=s),e.length&&(o.topics=e),n&&(o.fromBlock=n),i&&(o.toBlock=i),r&&(o.blockHash=r),o};let i,s,o=[];if(t.address)if(Array.isArray(t.address))for(const a of t.address)o.push(this._getAddress(a));else o.push(this._getAddress(t.address));return"fromBlock"in t&&(i=this._getBlockTag(t.fromBlock)),"toBlock"in t&&(s=this._getBlockTag(t.toBlock)),o.filter((t=>"string"!=typeof t)).length||null!=i&&"string"!=typeof i||null!=s&&"string"!=typeof s?Promise.all([Promise.all(o),i,s]).then((t=>n(t[0],t[1],t[2]))):n(o,i,s)}_getTransactionRequest(t){const e=Jf(t),r=[];if(["to","from"].forEach((t=>{if(null==e[t])return;const n=bf(e[t]);rv(n)?r.push(async function(){e[t]=await n}()):e[t]=n})),null!=e.blockTag){const t=this._getBlockTag(e.blockTag);rv(t)?r.push(async function(){e.blockTag=await t}()):e.blockTag=t}return r.length?async function(){return await Promise.all(r),e}():e}async getNetwork(){if(null==this.#Pt){const t=this._detectNetwork().then((t=>(this.emit("network",t,null),t)),(e=>{throw this.#Pt===t&&(this.#Pt=null),e}));return this.#Pt=t,(await t).clone()}const t=this.#Pt,[e,r]=await Promise.all([t,this._detectNetwork()]);return e.chainId!==r.chainId&&(this.#Ot?(this.emit("network",r,e),this.#Pt===t&&(this.#Pt=Promise.resolve(r))):bu(!1,`network changed: ${e.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),e.clone()}async getFeeData(){const{block:t,gasPrice:e}=await du({block:this.getBlock("latest"),gasPrice:(async()=>{try{return zu(await this.#Rt({method:"getGasPrice"}),"%response")}catch(t){}return null})()});let r=null,n=null;return t&&t.baseFeePerGas&&(n=BigInt("1000000000"),r=t.baseFeePerGas*ev+n),new $f(e,r,n)}async estimateGas(t){let e=this._getTransactionRequest(t);return rv(e)&&(e=await e),zu(await this.#Rt({method:"estimateGas",transaction:e}),"%response")}async#Lt(t,e,r){bu(r<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:e,enableCcipRead:!0})});const n=Jf(t);try{return Nu(await this._perform({method:"call",transaction:n,blockTag:e}))}catch(i){if(!this.disableCcipRead&&vu(i)&&i.data&&r>=0&&"latest"===e&&null!=n.to&&"0x556f1830"===Ru(i.data,0,4)){const t=i.data,s=await bf(n.to,this);let o;try{o=function(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};bu(ku(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=Ru(t,0,32);bu(Ru(r,0,12)===Ru(gv,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Ru(r,12);try{const r=[],n=Vu(Ru(t,32,64)),i=Vu(Ru(t,n,n+32)),s=Ru(t,n+32);for(let t=0;t<i;t++){const e=uv(s,32*t);if(null==e)throw new Error("abort");r.push(e)}e.urls=r}catch(i){bu(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=lv(t,64);if(null==r)throw new Error("abort");e.calldata=r}catch(i){bu(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}bu(Ru(t,100,128)===Ru(gv,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Ru(t,96,100);try{const r=lv(t,128);if(null==r)throw new Error("abort");e.extraData=r}catch(i){bu(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((t=>e[t])),e}(Ru(i.data,4))}catch(i){bu(!1,i.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:n,info:{data:t}})}bu(o.sender.toLowerCase()===s.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:t,reason:"OffchainLookup",transaction:n,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});const a=await this.ccipReadFetch(n,o.calldata,o.urls);bu(null!=a,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:n,info:{data:i.data,errorArgs:o.errorArgs}});const c={to:s,data:Tu([o.selector,dv([a,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:c});try{const t=await this.#Lt(c,e,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},c),result:t}),t}catch(i){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},c),error:i}),i}}throw i}}async#jt(t){const{value:e}=await du({network:this.getNetwork(),value:t});return e}async call(t){const{tx:e,blockTag:r}=await du({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return await this.#jt(this.#Lt(e,r,t.enableCcipRead?0:-1))}async#Ut(t,e,r){let n=this._getAddress(e),i=this._getBlockTag(r);return"string"==typeof n&&"string"==typeof i||([n,i]=await Promise.all([n,i])),await this.#jt(this.#Rt(Object.assign(t,{address:n,blockTag:i})))}async getBalance(t,e){return zu(await this.#Ut({method:"getBalance"},t,e),"%response")}async getTransactionCount(t,e){return Vu(await this.#Ut({method:"getTransactionCount"},t,e),"%response")}async getCode(t,e){return Nu(await this.#Ut({method:"getCode"},t,e))}async getStorage(t,e,r){const n=zu(e,"position");return Nu(await this.#Ut({method:"getStorage",position:n},t,r))}async broadcastTransaction(t){const{blockNumber:e,hash:r,network:n}=await du({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()}),i=hm.from(t);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,n).replaceableTransaction(e)}async#Bt(t,e){if(Iu(t,32))return await this.#Rt({method:"getBlock",blockHash:t,includeTransactions:e});let r=this._getBlockTag(t);return"string"!=typeof r&&(r=await r),await this.#Rt({method:"getBlock",blockTag:r,includeTransactions:e})}async getBlock(t,e){const{network:r,params:n}=await du({network:this.getNetwork(),params:this.#Bt(t,!!e)});return null==n?null:this._wrapBlock(n,r)}async getTransaction(t){const{network:e,params:r}=await du({network:this.getNetwork(),params:this.#Rt({method:"getTransaction",hash:t})});return null==r?null:this._wrapTransactionResponse(r,e)}async getTransactionReceipt(t){const{network:e,params:r}=await du({network:this.getNetwork(),params:this.#Rt({method:"getTransactionReceipt",hash:t})});if(null==r)return null;if(null==r.gasPrice&&null==r.effectiveGasPrice){const e=await this.#Rt({method:"getTransaction",hash:t});if(null==e)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=e.gasPrice}return this._wrapTransactionReceipt(r,e)}async getTransactionResult(t){const{result:e}=await du({network:this.getNetwork(),result:this.#Rt({method:"getTransactionResult",hash:t})});return null==e?null:Nu(e)}async getLogs(t){let e=this._getFilter(t);rv(e)&&(e=await e);const{network:r,params:n}=await du({network:this.getNetwork(),params:this.#Rt({method:"getLogs",filter:e})});return n.map((t=>this._wrapLog(t,r)))}_getProvider(t){bu(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(t){return await Tm.fromName(this,t)}async getAvatar(t){const e=await this.getResolver(t);return e?await e.getAvatar():null}async resolveName(t){const e=await this.getResolver(t);return e?await e.getAddress():null}async lookupAddress(t){const e=Xd((t=Wl(t)).substring(2).toLowerCase()+".addr.reverse");try{const r=await Tm.getEnsAddress(this),n=new Cp(r,["function resolver(bytes32) view returns (address)"],this),i=await n.resolver(e);if(null==i||i===Bf)return null;const s=new Cp(i,["function name(bytes32) view returns (string)"],this),o=await s.name(e);return await this.resolveName(o)!==t?null:o}catch(r){if(mu(r,"BAD_DATA")&&"0x"===r.value)return null;if(mu(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(t,e,r){const n=null!=e?e:1;return 0===n?this.getTransactionReceipt(t):new Promise((async(e,i)=>{let s=null;const o=async r=>{try{const i=await this.getTransactionReceipt(t);if(null!=i&&r-i.blockNumber+1>=n)return e(i),void(s&&(clearTimeout(s),s=null))}catch(i){console.log("EEE",i)}this.once("block",o)};null!=r&&(s=setTimeout((()=>{null!=s&&(s=null,this.off("block",o),i(wu("timeout","TIMEOUT",{reason:"timeout"})))}),r)),o(await this.getBlockNumber())}))}async waitForBlock(t){bu(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(t){const e=this.#Tt.get(t);e&&(e.timer&&clearTimeout(e.timer),this.#Tt.delete(t))}_setTimeout(t,e){null==e&&(e=0);const r=this.#Nt++,n=()=>{this.#Tt.delete(r),t()};if(this.paused)this.#Tt.set(r,{timer:null,func:n,time:e});else{const t=setTimeout(n,e);this.#Tt.set(r,{timer:t,func:n,time:av()})}return r}_forEachSubscriber(t){for(const e of this.#_t.values())t(e.subscriber)}_getSubscriber(t){switch(t.type){case"debug":case"error":case"network":return new iv(t.type);case"block":return new Qm(this);case"event":return new tv(this,t.filter);case"transaction":return new Xm(this,t.hash);case"orphan":return new Ym(this,t.filter)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,e){for(const r of this.#_t.values())if(r.subscriber===t){r.started&&r.subscriber.stop(),r.subscriber=e,r.started&&e.start(),null!=this.#xt&&e.pause(this.#xt);break}}async#Dt(t,e){let r=await ov(t,this);return"event"===r.type&&e&&e.length>0&&!0===e[0].removed&&(r=await ov({orphan:"drop-log",log:e[0]},this)),this.#_t.get(r.tag)||null}async#Mt(t){const e=await ov(t,this),r=e.tag;let n=this.#_t.get(r);if(!n){n={subscriber:this._getSubscriber(e),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#_t.set(r,n)}return n}async on(t,e){const r=await this.#Mt(t);return r.listeners.push({listener:e,once:!1}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#xt&&r.subscriber.pause(this.#xt)),this}async once(t,e){const r=await this.#Mt(t);return r.listeners.push({listener:e,once:!0}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#xt&&r.subscriber.pause(this.#xt)),this}async emit(t,...e){const r=await this.#Dt(t,e);if(!r||0===r.listeners.length)return!1;const n=r.listeners.length;return r.listeners=r.listeners.filter((({listener:r,once:n})=>{const i=new rp(this,n?null:r,t);try{r.call(this,...e,i)}catch(s){}return!n})),0===r.listeners.length&&(r.started&&r.subscriber.stop(),this.#_t.delete(r.tag)),n>0}async listenerCount(t){if(t){const e=await this.#Dt(t);return e?e.listeners.length:0}let e=0;for(const{listeners:r}of this.#_t.values())e+=r.length;return e}async listeners(t){if(t){const e=await this.#Dt(t);return e?e.listeners.map((({listener:t})=>t)):[]}let e=[];for(const{listeners:r}of this.#_t.values())e=e.concat(r.map((({listener:t})=>t)));return e}async off(t,e){const r=await this.#Dt(t);if(!r)return this;if(e){const t=r.listeners.map((({listener:t})=>t)).indexOf(e);t>=0&&r.listeners.splice(t,1)}return e&&0!==r.listeners.length||(r.started&&r.subscriber.stop(),this.#_t.delete(r.tag)),this}async removeAllListeners(t){if(t){const{tag:e,started:r,subscriber:n}=await this.#Mt(t);r&&n.stop(),this.#_t.delete(e)}else for(const[e,{started:r,subscriber:n}]of this.#_t)r&&n.stop(),this.#_t.delete(e);return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return this.off(t,e)}get destroyed(){return this.#St}destroy(){this.removeAllListeners();for(const t of this.#Tt.keys())this._clearTimeout(t);this.#St=!0}get paused(){return null!=this.#xt}set paused(t){!!t!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(t){if(this.#Ct=-1,null!=this.#xt){if(this.#xt==!!t)return;bu(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((e=>e.pause(t))),this.#xt=!!t;for(const e of this.#Tt.values())e.timer&&clearTimeout(e.timer),e.time=av()-e.time}resume(){if(null!=this.#xt){this._forEachSubscriber((t=>t.resume())),this.#xt=null;for(const t of this.#Tt.values()){let e=t.time;e<0&&(e=0),t.time=av(),setTimeout(t.func,e)}}}}function uv(t,e){try{const r=lv(t,e);if(r)return vh(r)}catch(r){}return null}function lv(t,e){if("0x"===t)return null;try{const r=Vu(Ru(t,e,e+32)),n=Vu(Ru(t,r,r+32));return Ru(t,r+32,r+32+n)}catch(r){}return null}function hv(t){const e=Wu(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function fv(t){if(t.length%32==0)return t;const e=new Uint8Array(32*Math.ceil(t.length/32));return e.set(t),e}const pv=new Uint8Array([]);function dv(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(pv),r+=32;for(let n=0;n<t.length;n++){const i=Pu(t[n]);e[n]=hv(r),e.push(hv(i.length)),e.push(fv(i)),r+=32+32*Math.ceil(i.length/32)}return Tu(e)}const gv="0x0000000000000000000000000000000000000000000000000000000000000000";function yv(t,e){if(t.provider)return t.provider;bu(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function mv(t,e){let r=Jf(e);if(null!=r.to&&(r.to=bf(r.to,t)),null!=r.from){const e=r.from;r.from=Promise.all([t.getAddress(),bf(e,t)]).then((([t,e])=>(Au(t.toLowerCase()===e.toLowerCase(),"transaction from mismatch","tx.from",e),t)))}else r.from=t.getAddress();return await du(r)}class vv{provider;constructor(t){gu(this,{provider:t||null})}async getNonce(t){return yv(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await mv(this,t)}async populateTransaction(t){const e=yv(this,"populateTransaction"),r=await mv(this,t);null==r.nonce&&(r.nonce=await this.getNonce("pending")),null==r.gasLimit&&(r.gasLimit=await this.estimateGas(r));const n=await this.provider.getNetwork();if(null!=r.chainId){Au(zu(r.chainId)===n.chainId,"transaction chainId mismatch","tx.chainId",t.chainId)}else r.chainId=n.chainId;const i=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas;if(null==r.gasPrice||2!==r.type&&!i?0!==r.type&&1!==r.type||!i||Au(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t):Au(!1,"eip-1559 transaction do not support gasPrice","tx",t),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas)if(0===r.type||1===r.type){const t=await e.getFeeData();bu(null!=t.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==r.gasPrice&&(r.gasPrice=t.gasPrice)}else{const t=await e.getFeeData();if(null==r.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(r.type=2,null!=r.gasPrice){const t=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=t,r.maxPriorityFeePerGas=t}else null==r.maxFeePerGas&&(r.maxFeePerGas=t.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(bu(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=t.gasPrice),r.type=0):bu(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2===r.type&&(null==r.maxFeePerGas&&(r.maxFeePerGas=t.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else r.type=2;return await du(r)}async estimateGas(t){return yv(this,"estimateGas").estimateGas(await this.populateCall(t))}async call(t){return yv(this,"call").call(await this.populateCall(t))}async resolveName(t){const e=yv(this,"resolveName");return await e.resolveName(t)}async sendTransaction(t){const e=yv(this,"sendTransaction"),r=await this.populateTransaction(t);delete r.from;const n=hm.from(r);return await e.broadcastTransaction(await this.signTransaction(n))}}class wv{#yt;#Ft;#mt;#At;#zt;#Ht;constructor(t){this.#yt=t,this.#Ft=null,this.#mt=this.#bt.bind(this),this.#At=!1,this.#zt=null,this.#Ht=!1}_subscribe(t){throw new Error("subclasses must override this")}_emitResults(t,e){throw new Error("subclasses must override this")}_recover(t){throw new Error("subclasses must override this")}async#bt(t){try{null==this.#Ft&&(this.#Ft=this._subscribe(this.#yt));let t=null;try{t=await this.#Ft}catch(e){if(!mu(e,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==e.operation)throw e}if(null==t)return this.#Ft=null,void this.#yt._recoverSubscriber(this,this._recover(this.#yt));const r=await this.#yt.getNetwork();if(this.#zt||(this.#zt=r),this.#zt.chainId!==r.chainId)throw new Error("chaid changed");if(this.#Ht)return;const n=await this.#yt.send("eth_getFilterChanges",[t]);await this._emitResults(this.#yt,n)}catch(e){console.log("@TODO",e)}this.#yt.once("block",this.#mt)}#qt(){const t=this.#Ft;t&&(this.#Ft=null,t.then((t=>{this.#yt.send("eth_uninstallFilter",[t])})))}start(){this.#At||(this.#At=!0,this.#bt(-2))}stop(){this.#At&&(this.#At=!1,this.#Ht=!0,this.#qt(),this.#yt.off("block",this.#mt))}pause(t){t&&this.#qt(),this.#yt.off("block",this.#mt)}resume(){this.start()}}class bv extends wv{#Gt;constructor(t,e){var r;super(t),this.#Gt=(r=e,JSON.parse(JSON.stringify(r)))}_recover(t){return new tv(t,this.#Gt)}async _subscribe(t){return await t.send("eth_newFilter",[this.#Gt])}async _emitResults(t,e){for(const r of e)t.emit(this.#Gt,t._wrapLog(r,t._network))}}class Av extends wv{async _subscribe(t){return await t.send("eth_newPendingTransactionFilter",[])}async _emitResults(t,e){for(const r of e)t.emit("pending",r)}}const Ev="bigint,boolean,function,number,string,symbol".split(/,/g);function _v(t){if(null==t||Ev.indexOf(typeof t)>=0)return t;if("function"==typeof t.getAddress)return t;if(Array.isArray(t))return t.map(_v);if("object"==typeof t)return Object.keys(t).reduce(((e,r)=>(e[r]=t[r],e)),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function xv(t){return new Promise((e=>{setTimeout(e,t)}))}function Sv(t){return t?t.toLowerCase():t}function Pv(t){return t&&"number"==typeof t.pollingInterval}const Ov={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100};class Iv extends vv{address;constructor(t,e){super(t),gu(this,{address:e=Wl(e)})}connect(t){bu(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const e=_v(t),r=[];if(e.from){const n=e.from;r.push((async()=>{const r=await bf(n,this.provider);Au(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),e.from=r})())}else e.from=this.address;if(null==e.gasLimit&&r.push((async()=>{e.gasLimit=await this.provider.estimateGas({...e,from:this.address})})()),null!=e.to){const t=e.to;r.push((async()=>{e.to=await bf(t,this.provider)})())}r.length&&await Promise.all(r);const n=this.provider.getRpcTransaction(e);return this.provider.send("eth_sendTransaction",[n])}async sendTransaction(t){const e=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(t);return await new Promise(((t,n)=>{const i=[1e3,100],s=async()=>{const n=await this.provider.getTransaction(r);null==n?this.provider._setTimeout((()=>{s()}),i.pop()||4e3):t(n.replaceableTransaction(e))};s()}))}async signTransaction(t){const e=_v(t);if(e.from){const r=await bf(e.from,this.provider);Au(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),e.from=r}else e.from=this.address;const r=this.provider.getRpcTransaction(e);return await this.provider.send("eth_signTransaction",[r])}async signMessage(t){const e="string"==typeof t?mh(t):t;return await this.provider.send("personal_sign",[Nu(e),this.address.toLowerCase()])}async signTypedData(t,e,r){const n=_v(r),i=await Lf.resolveNames(t,e,n,(async t=>{const e=await bf(t);return Au(null!=e,"TypedData does not support null address","value",t),e}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Lf.getPayload(i.domain,e,i.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const e="string"==typeof t?mh(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Nu(e)])}}class Cv extends cv{#o;#Vt;#Kt;#Wt;#$t;#zt;#Jt(){if(this.#Wt)return;const t=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#Wt=setTimeout((()=>{this.#Wt=null;const t=this.#Kt;for(this.#Kt=[];t.length;){const e=[t.shift()];for(;t.length&&e.length!==this.#o.batchMaxCount;){e.push(t.shift());const r=JSON.stringify(e.map((t=>t.payload)));if(r.length>this.#o.batchMaxSize){t.unshift(e.pop());break}}(async()=>{const t=1===e.length?e[0].payload:e.map((t=>t.payload));this.emit("debug",{action:"sendRpcPayload",payload:t});try{const r=await this._send(t);this.emit("debug",{action:"receiveRpcResult",result:r});for(const{resolve:t,reject:n,payload:i}of e){if(this.destroyed){n(wu("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:i.method}));continue}const e=r.filter((t=>t.id===i.id))[0];if(null!=e)"error"in e?n(this.getRpcError(i,e)):t(e.result);else{const t=wu("missing response for request","BAD_DATA",{value:r,info:{payload:i}});this.emit("error",t),n(t)}}}catch(r){this.emit("debug",{action:"receiveRpcError",error:r});for(const{reject:t}of e)t(r)}})()}}),t)}constructor(t,e){super(t),this.#Vt=1,this.#o=Object.assign({},Ov,e||{}),this.#Kt=[],this.#Wt=null,this.#zt=null;{let t=null;const e=new Promise((e=>{t=e}));this.#$t={promise:e,resolve:t}}const r=this._getOption("staticNetwork");r&&(Au(null==t||r.matches(t),"staticNetwork MUST match network object","options",e),this.#zt=r)}_getOption(t){return this.#o[t]}get _network(){return bu(this.#zt,"network is not available yet","NETWORK_ERROR"),this.#zt}async _perform(t){if("call"===t.method||"estimateGas"===t.method){let e=t.transaction;if(e&&null!=e.type&&zu(e.type)&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){const r=await this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&(t=Object.assign({},t,{transaction:Object.assign({},e,{type:void 0})}))}}const e=this.getRpcRequest(t);return null!=e?await this.send(e.method,e.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t)return t;if(this.ready)return Wm.from(zu(await this.send("eth_chainId",[])));const e={id:this.#Vt++,method:"eth_chainId",params:[],jsonrpc:"2.0"};let r;this.emit("debug",{action:"sendRpcPayload",payload:e});try{r=(await this._send(e))[0]}catch(n){throw this.emit("debug",{action:"receiveRpcError",error:n}),n}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return Wm.from(zu(r.result));throw this.getRpcError(e,r)}_start(){null!=this.#$t&&null!=this.#$t.resolve&&(this.#$t.resolve(),this.#$t=null,(async()=>{for(;null==this.#zt&&!this.destroyed;)try{this.#zt=await this._detectNetwork()}catch(t){console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",wu("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await xv(1e3)}this.#Jt()})())}async _waitUntilReady(){if(null!=this.#$t)return await this.#$t.promise}_getSubscriber(t){return"pending"===t.type?new Av(this):"event"===t.type?this._getOption("polling")?new tv(this,t.filter):new bv(this,t.filter):"orphan"===t.type&&"drop-log"===t.filter.orphan?new iv("orphan"):super._getSubscriber(t)}get ready(){return null==this.#$t}getRpcTransaction(t){const e={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((r=>{if(null==t[r])return;let n=r;"gasLimit"===r&&(n="gas"),e[n]=$u(zu(t[r],`tx.${r}`))})),["from","to","data"].forEach((r=>{null!=t[r]&&(e[r]=Nu(t[r]))})),t.accessList&&(e.accessList=Uf(t.accessList)),e}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Sv(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Sv(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[Sv(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Sv(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&null!=t.filter.address&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(Sv):t.filter.address=Sv(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,e){const{method:r}=t,{error:n}=e;if("eth_estimateGas"===r&&n.message){const e=n.message;if(!e.match(/revert/i)&&e.match(/insufficient funds/i))return wu("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:n}})}if("eth_call"===r||"eth_estimateGas"===r){const e=Tv(n),i=mf.getBuiltinCallException("eth_call"===r?"call":"estimateGas",t.params[0],e?e.data:null);return i.info={error:n,payload:t},i}const i=JSON.stringify(function(t){const e=[];return kv(t,e),e}(n));if("string"==typeof n.message&&n.message.match(/user denied|ethers-user-denied/i)){return wu("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:t,error:n}})}if("eth_sendRawTransaction"===r||"eth_sendTransaction"===r){const e=t.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return wu("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:e,info:{error:n}});if(i.match(/nonce/i)&&i.match(/too low/i))return wu("nonce has already been used","NONCE_EXPIRED",{transaction:e,info:{error:n}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return wu("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:e,info:{error:n}});if(i.match(/only replay-protected/i))return wu("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:e,info:{error:n}}})}return i.match(/the method .* does not exist/i)?wu("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:n}}):wu("could not coalesce error","UNKNOWN_ERROR",{error:n})}send(t,e){if(this.destroyed)return Promise.reject(wu("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const r=this.#Vt++,n=new Promise(((n,i)=>{this.#Kt.push({resolve:n,reject:i,payload:{method:t,params:e,id:r,jsonrpc:"2.0"}})}));return this.#Jt(),n}async getSigner(t){null==t&&(t=0);const e=this.send("eth_accounts",[]);if("number"==typeof t){const r=await e;if(t>=r.length)throw new Error("no such account");return new Iv(this,r[t])}const{accounts:r}=await du({network:this.getNetwork(),accounts:e});t=Wl(t);for(const n of r)if(Wl(n)===t)return new Iv(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((t=>new Iv(this,t)))}destroy(){this.#Wt&&(clearTimeout(this.#Wt),this.#Wt=null);for(const{payload:t,reject:e}of this.#Kt)e(wu("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));this.#Kt=[],super.destroy()}}class Nv extends Cv{#Qt;constructor(t,e){super(t,e),this.#Qt=4e3}_getSubscriber(t){const e=super._getSubscriber(t);return Pv(e)&&(e.pollingInterval=this.#Qt),e}get pollingInterval(){return this.#Qt}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");this.#Qt=t,this._forEachSubscriber((t=>{Pv(t)&&(t.pollingInterval=this.#Qt)}))}}function Tv(t){if(null==t)return null;if("string"==typeof t.message&&t.message.match("reverted")&&Iu(t.data))return{message:t.message,data:t.data};if("object"==typeof t){for(const e in t){const r=Tv(t[e]);if(r)return r}return null}if("string"==typeof t)try{return Tv(JSON.parse(t))}catch(e){}return null}function kv(t,e){if(null!=t){if("string"==typeof t.message&&e.push(t.message),"object"==typeof t)for(const r in t)kv(t[r],e);if("string"==typeof t)try{return kv(JSON.parse(t),e)}catch(r){}}}class Rv extends Nv{#ct;constructor(t,e){super(e,{batchMaxCount:1}),this.#ct=async(e,r)=>{const n={method:e,params:r};this.emit("debug",{action:"sendEip1193Request",payload:n});try{const e=await t.request(n);return this.emit("debug",{action:"receiveEip1193Result",result:e}),e}catch(i){const t=new Error(i.message);throw t.code=i.code,t.data=i.data,t.payload=n,this.emit("debug",{action:"receiveEip1193Error",error:t}),t}}}async send(t,e){return await this._start(),await super.send(t,e)}async _send(t){Au(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{const e=await this.#ct(t.method,t.params||[]);return[{id:t.id,result:e}]}catch(e){return[{id:t.id,error:{code:e.code,data:e.data,message:e.message}}]}}getRpcError(t,e){switch((e=JSON.parse(JSON.stringify(e))).error.code||-1){case 4001:e.error.message=`ethers-user-denied: ${e.error.message}`;break;case 4200:e.error.message=`ethers-unsupported: ${e.error.message}`}return super.getRpcError(t,e)}async hasSigner(t){null==t&&(t=0);const e=await this.send("eth_accounts",[]);return"number"==typeof t?e.length>t:(t=t.toLowerCase(),0!==e.filter((e=>e.toLowerCase()===t)).length)}async getSigner(t){if(null==t&&(t=0),!await this.hasSigner(t))try{await this.#ct("eth_requestAccounts",[])}catch(e){const t=e.payload;throw this.getRpcError(t,{id:t.id,error:e})}return await super.getSigner(t)}}var Lv=r(917);const jv="undefined"!=typeof window?r(2484):null;var Uv=Z("provider");let Bv=function(){function t(){Object.defineProperty(this,Uv,{writable:!0,value:null})}var e=t.prototype;return e.enable=async function(){const t=await hu.init({projectId:"d0868226f60fea6aaad64b3f6a3dc3a7",chains:[1],showQrModal:!0,methods:["wallet_addEthereumChain"]});J(this,Uv)[Uv]=t,await t.connect()},e.on=function(t,e){J(this,Uv)[Uv].on(t,e)},e.request=async function(t){return J(this,Uv)[Uv].request(t)},t}();const Dv=(0,m.createContext)({}),Mv=t=>{let{children:e}=t;const{0:r,1:n}=(0,m.useState)(void 0),{0:i,1:s}=(0,m.useState)(void 0),o={walletconnect:{package:Bv,options:{infuraId:"foo"}}},a=jv&&new jv.default({cacheProvider:!0,providerOptions:o}),c=void 0!==r,u=c&&new Rv(r,"any"),l=()=>{u&&u.getSigner().then((t=>t.getAddress().then((t=>s(t)))))};return(0,m.useEffect)((()=>{r&&(l(),r.on("accountsChanged",l),r.on("chainChanged",l))}),[r]),(0,Lv.tZ)(Dv.Provider,{value:{web3:r,setWeb3:n,handleConnect:()=>{a.connect().then(n)},isConnected:c,handleAddChain:t=>{if(!u)return;const{nativeCurrency:e,explorers:r}=t,n=r&&r.length>0?r.map((t=>t.url)):null;u.send("wallet_addEthereumChain",[{chainId:"0x"+t.chainId.toString(16),chainName:t.name,nativeCurrency:e,rpcUrls:t.rpc,blockExplorerUrls:n}])},address:i}},e)};var Fv=r(8032),zv=(0,w.G)((function(t,e){const{htmlWidth:r,htmlHeight:n,alt:i,...s}=t;return(0,A.jsx)("img",{width:r,height:n,ref:e,alt:i,...s})}));zv.displayName="NativeImage";var Hv=r(6245);function qv(t,e=[]){const r=Object.assign({},t);for(const n of e)n in r&&delete r[n];return r}var Gv=(0,w.G)((function(t,e){const{fallbackSrc:r,fallback:n,src:i,srcSet:s,align:o,fit:a,loading:c,ignoreFallback:u,crossOrigin:l,fallbackStrategy:h="beforeLoadOrError",referrerPolicy:f,...p}=t,d=null!=c||u||!(void 0!==r||void 0!==n),g=function(t){const{loading:e,src:r,srcSet:n,onLoad:i,onError:s,crossOrigin:o,sizes:a,ignoreFallback:c}=t,[u,l]=(0,m.useState)("pending");(0,m.useEffect)((()=>{l(r?"loading":"pending")}),[r]);const h=(0,m.useRef)(),f=(0,m.useCallback)((()=>{if(!r)return;p();const t=new Image;t.src=r,o&&(t.crossOrigin=o),n&&(t.srcset=n),a&&(t.sizes=a),e&&(t.loading=e),t.onload=t=>{p(),l("loaded"),null==i||i(t)},t.onerror=t=>{p(),l("failed"),null==s||s(t)},h.current=t}),[r,o,n,a,i,s,e]),p=()=>{h.current&&(h.current.onload=null,h.current.onerror=null,h.current=null)};return(0,Hv.G)((()=>{if(!c)return"loading"===u&&f(),()=>{p()}}),[u,f,c]),c?"loaded":u}({...t,crossOrigin:l,ignoreFallback:d}),y=((t,e)=>"loaded"!==t&&"beforeLoadOrError"===e||"failed"===t&&"onError"===e)(g,h),v={ref:e,objectFit:a,objectPosition:o,...d?p:qv(p,["onError","onLoad"])};return y?n||(0,A.jsx)(b.m.img,{as:zv,className:"chakra-image__placeholder",src:r,...v}):(0,A.jsx)(b.m.img,{as:zv,src:i,srcSet:s,crossOrigin:l,loading:c,referrerPolicy:f,className:"chakra-image",...v})}));Gv.displayName="Image";const Vv=t=>{let{icon:e,name:r}=t;return e.childImageSharp?(0,Lv.tZ)(Fv.G,{objectFit:"scale-down",image:e.childImageSharp.gatsbyImageData,alt:r}):(0,Lv.tZ)(Gv,{src:e.publicURL,width:"40px"})},Kv=t=>{let{name:e,chainId:r,nativeCurrency:n,icon:i,...s}=t;const{isConnected:o,handleConnect:a,handleAddChain:c}=(0,m.useContext)(Dv);return(0,Lv.tZ)(I,{flexDirection:"column",px:"5",py:"4",borderWidth:"1px",rounded:"md",boxShadow:"base"},(0,Lv.tZ)(I,{justifyContent:"space-between"},(0,Lv.tZ)(I,{flexDirection:"column",minW:"200px"},(0,Lv.tZ)(I,{mb:"2"},(0,Lv.tZ)(C.x,{fontSize:"lg",fontWeight:"semibold",lineHeight:"short",isTruncated:!0,verticalAlign:"middle"},e)),(0,Lv.tZ)(N,{mb:"2"},(0,Lv.tZ)(U,null,(0,Lv.tZ)(B,null,"Chain ID"),(0,Lv.tZ)(D,{fontSize:"md"},r)),(0,Lv.tZ)(U,null,(0,Lv.tZ)(B,null,"Currency"),(0,Lv.tZ)(D,{fontSize:"md"},n.symbol)))),i&&(0,Lv.tZ)(I,null,(0,Lv.tZ)(Vv,{name:e,icon:i}))),(0,Lv.tZ)(M.M,{mt:"auto"},o?(0,Lv.tZ)(W,{onClick:()=>{c({name:e,chainId:r,nativeCurrency:n,...s})}},"Add Chain"):(0,Lv.tZ)(W,{onClick:a},"Connect Wallet")))},Wv=(0,m.createContext)({}),$v="filters",Jv=t=>{var e,r;let{children:n}=t;const i=(()=>{try{const t=window.localStorage.getItem($v);if(t)return JSON.parse(t)}catch{}return null})(),{0:s,1:o}=(0,m.useState)(""),{0:a,1:c}=(0,m.useState)(null!==(e=null==i?void 0:i.showTestnets)&&void 0!==e&&e),{0:u,1:l}=(0,m.useState)(null!==(r=null==i?void 0:i.showDeprecated)&&void 0!==r&&r);return(0,m.useEffect)((()=>{const t=JSON.stringify({showTestnets:a,showDeprecated:u});window.localStorage.setItem($v,t)}),[a,u]),(0,Lv.tZ)(Wv.Provider,{value:{query:s,setQuery:o,showTestnets:a,setShowTestnets:c,showDeprecated:u,setShowDeprecated:l}},n)};var Qv=r(4160);const Zv=()=>{const t=(0,Qv.K2)("2609099887").allChain.nodes,{query:e,showTestnets:r,showDeprecated:n}=(0,m.useContext)(Wv),i=e.toLowerCase(),s=t.filter((t=>{const s=t.name.toLowerCase(),o=!r&&(t.faucets.length>0||s.includes("testnet")),a=!n&&"deprecated"===t.status;return!o&&!a&&(!(e.length>0)||(t.name.toLowerCase().includes(i)||t.chainId.toString().includes(e)||t.nativeCurrency.symbol.toLowerCase().includes(i)))}));return(0,Lv.tZ)(O,{minChildWidth:"300px",spacing:4},s.map((t=>(0,Lv.tZ)(Kv,(0,v.Z)({key:t.id},t)))))};var Yv,Xv,tw,ew,rw=r(5697),nw=r.n(rw),iw=r(3524),sw=r.n(iw),ow=r(9590),aw=r.n(ow),cw=r(4852),uw=r.n(cw),lw="bodyAttributes",hw="htmlAttributes",fw="titleAttributes",pw={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},dw=(Object.keys(pw).map((function(t){return pw[t]})),"charset"),gw="cssText",yw="href",mw="http-equiv",vw="innerHTML",ww="itemprop",bw="name",Aw="property",Ew="rel",_w="src",xw="target",Sw={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Pw="defaultTitle",Ow="defer",Iw="encodeSpecialCharacters",Cw="onChangeClientState",Nw="titleTemplate",Tw=Object.keys(Sw).reduce((function(t,e){return t[Sw[e]]=e,t}),{}),kw=[pw.NOSCRIPT,pw.SCRIPT,pw.STYLE],Rw="data-react-helmet",Lw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jw=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Uw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bw=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},Dw=function(t){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Mw=function(t){var e=Gw(t,pw.TITLE),r=Gw(t,Nw);if(r&&e)return r.replace(/%s/g,(function(){return Array.isArray(e)?e.join(""):e}));var n=Gw(t,Pw);return e||n||void 0},Fw=function(t){return Gw(t,Cw)||function(){}},zw=function(t,e){return e.filter((function(e){return void 0!==e[t]})).map((function(e){return e[t]})).reduce((function(t,e){return Uw({},t,e)}),{})},Hw=function(t,e){return e.filter((function(t){return void 0!==t[pw.BASE]})).map((function(t){return t[pw.BASE]})).reverse().reduce((function(e,r){if(!e.length)for(var n=Object.keys(r),i=0;i<n.length;i++){var s=n[i].toLowerCase();if(-1!==t.indexOf(s)&&r[s])return e.concat(r)}return e}),[])},qw=function(t,e,r){var n={};return r.filter((function(e){return!!Array.isArray(e[t])||(void 0!==e[t]&&Jw("Helmet: "+t+' should be of type "Array". Instead found type "'+Lw(e[t])+'"'),!1)})).map((function(e){return e[t]})).reverse().reduce((function(t,r){var i={};r.filter((function(t){for(var r=void 0,s=Object.keys(t),o=0;o<s.length;o++){var a=s[o],c=a.toLowerCase();-1===e.indexOf(c)||r===Ew&&"canonical"===t[r].toLowerCase()||c===Ew&&"stylesheet"===t[c].toLowerCase()||(r=c),-1===e.indexOf(a)||a!==vw&&a!==gw&&a!==ww||(r=a)}if(!r||!t[r])return!1;var u=t[r].toLowerCase();return n[r]||(n[r]={}),i[r]||(i[r]={}),!n[r][u]&&(i[r][u]=!0,!0)})).reverse().forEach((function(e){return t.push(e)}));for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],c=uw()({},n[a],i[a]);n[a]=c}return t}),[]).reverse()},Gw=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t[r];if(n.hasOwnProperty(e))return n[e]}return null},Vw=(Yv=Date.now(),function(t){var e=Date.now();e-Yv>16?(Yv=e,t(e)):setTimeout((function(){Vw(t)}),0)}),Kw=function(t){return clearTimeout(t)},Ww="undefined"!=typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Vw:r.g.requestAnimationFrame||Vw,$w="undefined"!=typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Kw:r.g.cancelAnimationFrame||Kw,Jw=function(t){return console&&"function"==typeof console.warn&&console.warn(t)},Qw=null,Zw=function(t,e){var r=t.baseTag,n=t.bodyAttributes,i=t.htmlAttributes,s=t.linkTags,o=t.metaTags,a=t.noscriptTags,c=t.onChangeClientState,u=t.scriptTags,l=t.styleTags,h=t.title,f=t.titleAttributes;tb(pw.BODY,n),tb(pw.HTML,i),Xw(h,f);var p={baseTag:eb(pw.BASE,r),linkTags:eb(pw.LINK,s),metaTags:eb(pw.META,o),noscriptTags:eb(pw.NOSCRIPT,a),scriptTags:eb(pw.SCRIPT,u),styleTags:eb(pw.STYLE,l)},d={},g={};Object.keys(p).forEach((function(t){var e=p[t],r=e.newTags,n=e.oldTags;r.length&&(d[t]=r),n.length&&(g[t]=p[t].oldTags)})),e&&e(),c(t,d,g)},Yw=function(t){return Array.isArray(t)?t.join(""):t},Xw=function(t,e){void 0!==t&&document.title!==t&&(document.title=Yw(t)),tb(pw.TITLE,e)},tb=function(t,e){var r=document.getElementsByTagName(t)[0];if(r){for(var n=r.getAttribute(Rw),i=n?n.split(","):[],s=[].concat(i),o=Object.keys(e),a=0;a<o.length;a++){var c=o[a],u=e[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),-1===i.indexOf(c)&&i.push(c);var l=s.indexOf(c);-1!==l&&s.splice(l,1)}for(var h=s.length-1;h>=0;h--)r.removeAttribute(s[h]);i.length===s.length?r.removeAttribute(Rw):r.getAttribute(Rw)!==o.join(",")&&r.setAttribute(Rw,o.join(","))}},eb=function(t,e){var r=document.head||document.querySelector(pw.HEAD),n=r.querySelectorAll(t+"["+Rw+"]"),i=Array.prototype.slice.call(n),s=[],o=void 0;return e&&e.length&&e.forEach((function(e){var r=document.createElement(t);for(var n in e)if(e.hasOwnProperty(n))if(n===vw)r.innerHTML=e.innerHTML;else if(n===gw)r.styleSheet?r.styleSheet.cssText=e.cssText:r.appendChild(document.createTextNode(e.cssText));else{var a=void 0===e[n]?"":e[n];r.setAttribute(n,a)}r.setAttribute(Rw,"true"),i.some((function(t,e){return o=e,r.isEqualNode(t)}))?i.splice(o,1):s.push(r)})),i.forEach((function(t){return t.parentNode.removeChild(t)})),s.forEach((function(t){return r.appendChild(t)})),{oldTags:i,newTags:s}},rb=function(t){return Object.keys(t).reduce((function(e,r){var n=void 0!==t[r]?r+'="'+t[r]+'"':""+r;return e?e+" "+n:n}),"")},nb=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce((function(e,r){return e[Sw[r]||r]=t[r],e}),e)},ib=function(t,e,r){switch(t){case pw.TITLE:return{toComponent:function(){return t=e.title,r=e.titleAttributes,(n={key:t})[Rw]=!0,i=nb(r,n),[m.createElement(pw.TITLE,i,t)];var t,r,n,i},toString:function(){return function(t,e,r,n){var i=rb(r),s=Yw(e);return i?"<"+t+" "+Rw+'="true" '+i+">"+Dw(s,n)+"</"+t+">":"<"+t+" "+Rw+'="true">'+Dw(s,n)+"</"+t+">"}(t,e.title,e.titleAttributes,r)}};case lw:case hw:return{toComponent:function(){return nb(e)},toString:function(){return rb(e)}};default:return{toComponent:function(){return function(t,e){return e.map((function(e,r){var n,i=((n={key:r})[Rw]=!0,n);return Object.keys(e).forEach((function(t){var r=Sw[t]||t;if(r===vw||r===gw){var n=e.innerHTML||e.cssText;i.dangerouslySetInnerHTML={__html:n}}else i[r]=e[t]})),m.createElement(t,i)}))}(t,e)},toString:function(){return function(t,e,r){return e.reduce((function(e,n){var i=Object.keys(n).filter((function(t){return!(t===vw||t===gw)})).reduce((function(t,e){var i=void 0===n[e]?e:e+'="'+Dw(n[e],r)+'"';return t?t+" "+i:i}),""),s=n.innerHTML||n.cssText||"",o=-1===kw.indexOf(t);return e+"<"+t+" "+Rw+'="true" '+i+(o?"/>":">"+s+"</"+t+">")}),"")}(t,e,r)}}}},sb=function(t){var e=t.baseTag,r=t.bodyAttributes,n=t.encode,i=t.htmlAttributes,s=t.linkTags,o=t.metaTags,a=t.noscriptTags,c=t.scriptTags,u=t.styleTags,l=t.title,h=void 0===l?"":l,f=t.titleAttributes;return{base:ib(pw.BASE,e,n),bodyAttributes:ib(lw,r,n),htmlAttributes:ib(hw,i,n),link:ib(pw.LINK,s,n),meta:ib(pw.META,o,n),noscript:ib(pw.NOSCRIPT,a,n),script:ib(pw.SCRIPT,c,n),style:ib(pw.STYLE,u,n),title:ib(pw.TITLE,{title:h,titleAttributes:f},n)}},ob=sw()((function(t){return{baseTag:Hw([yw,xw],t),bodyAttributes:zw(lw,t),defer:Gw(t,Ow),encode:Gw(t,Iw),htmlAttributes:zw(hw,t),linkTags:qw(pw.LINK,[Ew,yw],t),metaTags:qw(pw.META,[bw,dw,mw,Aw,ww],t),noscriptTags:qw(pw.NOSCRIPT,[vw],t),onChangeClientState:Fw(t),scriptTags:qw(pw.SCRIPT,[_w,vw],t),styleTags:qw(pw.STYLE,[gw],t),title:Mw(t),titleAttributes:zw(fw,t)}}),(function(t){Qw&&$w(Qw),t.defer?Qw=Ww((function(){Zw(t,(function(){Qw=null}))})):(Zw(t),Qw=null)}),sb)((function(){return null})),ab=(Xv=ob,ew=tw=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.shouldComponentUpdate=function(t){return!aw()(this.props,t)},e.prototype.mapNestedChildrenToProps=function(t,e){if(!e)return null;switch(t.type){case pw.SCRIPT:case pw.NOSCRIPT:return{innerHTML:e};case pw.STYLE:return{cssText:e}}throw new Error("<"+t.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},e.prototype.flattenArrayTypeChildren=function(t){var e,r=t.child,n=t.arrayTypeChildren,i=t.newChildProps,s=t.nestedChildren;return Uw({},n,((e={})[r.type]=[].concat(n[r.type]||[],[Uw({},i,this.mapNestedChildrenToProps(r,s))]),e))},e.prototype.mapObjectTypeChildren=function(t){var e,r,n=t.child,i=t.newProps,s=t.newChildProps,o=t.nestedChildren;switch(n.type){case pw.TITLE:return Uw({},i,((e={})[n.type]=o,e.titleAttributes=Uw({},s),e));case pw.BODY:return Uw({},i,{bodyAttributes:Uw({},s)});case pw.HTML:return Uw({},i,{htmlAttributes:Uw({},s)})}return Uw({},i,((r={})[n.type]=Uw({},s),r))},e.prototype.mapArrayTypeChildrenToProps=function(t,e){var r=Uw({},e);return Object.keys(t).forEach((function(e){var n;r=Uw({},r,((n={})[e]=t[e],n))})),r},e.prototype.warnOnInvalidChildren=function(t,e){return!0},e.prototype.mapChildrenToProps=function(t,e){var r=this,n={};return m.Children.forEach(t,(function(t){if(t&&t.props){var i=t.props,s=i.children,o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce((function(e,r){return e[Tw[r]||r]=t[r],e}),e)}(Bw(i,["children"]));switch(r.warnOnInvalidChildren(t,s),t.type){case pw.LINK:case pw.META:case pw.NOSCRIPT:case pw.SCRIPT:case pw.STYLE:n=r.flattenArrayTypeChildren({child:t,arrayTypeChildren:n,newChildProps:o,nestedChildren:s});break;default:e=r.mapObjectTypeChildren({child:t,newProps:e,newChildProps:o,nestedChildren:s})}}})),e=this.mapArrayTypeChildrenToProps(n,e)},e.prototype.render=function(){var t=this.props,e=t.children,r=Bw(t,["children"]),n=Uw({},r);return e&&(n=this.mapChildrenToProps(e,n)),m.createElement(Xv,n)},jw(e,null,[{key:"canUseDOM",set:function(t){Xv.canUseDOM=t}}]),e}(m.Component),tw.propTypes={base:nw().object,bodyAttributes:nw().object,children:nw().oneOfType([nw().arrayOf(nw().node),nw().node]),defaultTitle:nw().string,defer:nw().bool,encodeSpecialCharacters:nw().bool,htmlAttributes:nw().object,link:nw().arrayOf(nw().object),meta:nw().arrayOf(nw().object),noscript:nw().arrayOf(nw().object),onChangeClientState:nw().func,script:nw().arrayOf(nw().object),style:nw().arrayOf(nw().object),title:nw().string,titleAttributes:nw().object,titleTemplate:nw().string},tw.defaultProps={defer:!0,encodeSpecialCharacters:!0},tw.peek=Xv.peek,tw.rewind=function(){var t=Xv.rewind();return t||(t=sb({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},ew);ab.renderStatic=ab.rewind;const cb=t=>{var e,r;let{lang:n="en",meta:i=[]}=t;const{site:s}=(0,Qv.K2)("63159454"),o=s.siteMetadata.description,a=null===(e=s.siteMetadata)||void 0===e?void 0:e.title;return(0,Lv.tZ)(ab,{htmlAttributes:{lang:n},title:a,titleTemplate:"%s",meta:[{name:"description",content:o},{property:"og:title",content:a},{property:"og:description",content:o},{property:"og:type",content:"website"},{name:"twitter:card",content:"summary"},{name:"twitter:creator",content:(null===(r=s.siteMetadata)||void 0===r?void 0:r.author)||""},{name:"twitter:title",content:a},{name:"twitter:description",content:o}].concat(i)})};var ub=r(4418),lb={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}};function hb(t){return null!=t&&"object"==typeof t&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}function fb(t){var e;if(!hb(t))return!1;return t instanceof(null!=(e=t.ownerDocument.defaultView)?e:window).HTMLElement}function pb(t){return hb(t)?t.ownerDocument:document}function db(t){return["html","body","#document"].includes(t.localName)?t.ownerDocument.body:fb(t)&&function(t){const e=t.ownerDocument.defaultView||window,{overflow:r,overflowX:n,overflowY:i}=e.getComputedStyle(t);return/auto|scroll|overlay|hidden/.test(r+i+n)}(t)?t:db(function(t){return"html"===t.localName?t:t.assignedSlot||t.parentElement||t.ownerDocument.documentElement}(t))}var gb=(t,e)=>({var:t,varRef:e?`var(${t}, ${e})`:`var(${t})`}),yb={arrowShadowColor:gb("--popper-arrow-shadow-color"),arrowSize:gb("--popper-arrow-size","8px"),arrowSizeHalf:gb("--popper-arrow-size-half"),arrowBg:gb("--popper-arrow-bg"),transformOrigin:gb("--popper-transform-origin"),arrowOffset:gb("--popper-arrow-offset")};var mb={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},vb={scroll:!0,resize:!0};function wb(t){let e;return e="object"==typeof t?{enabled:!0,options:{...vb,...t}}:{enabled:t,options:vb},e}var bb={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:t})=>{t.styles.popper.width=`${t.rects.reference.width}px`},effect:({state:t})=>()=>{const e=t.elements.reference;t.elements.popper.style.width=`${e.offsetWidth}px`}},Ab={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:t})=>{Eb(t)},effect:({state:t})=>()=>{Eb(t)}},Eb=t=>{var e;t.elements.popper.style.setProperty(yb.transformOrigin.var,(e=t.placement,mb[e]))},_b={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:t})=>{xb(t)}},xb=t=>{var e;if(!t.placement)return;const r=Sb(t.placement);if((null==(e=t.elements)?void 0:e.arrow)&&r){Object.assign(t.elements.arrow.style,{[r.property]:r.value,width:yb.arrowSize.varRef,height:yb.arrowSize.varRef,zIndex:-1});const e={[yb.arrowSizeHalf.var]:`calc(${yb.arrowSize.varRef} / 2 - 1px)`,[yb.arrowOffset.var]:`calc(${yb.arrowSizeHalf.varRef} * -1)`};for(const r in e)t.elements.arrow.style.setProperty(r,e[r])}},Sb=t=>t.startsWith("top")?{property:"bottom",value:yb.arrowOffset.varRef}:t.startsWith("bottom")?{property:"top",value:yb.arrowOffset.varRef}:t.startsWith("left")?{property:"right",value:yb.arrowOffset.varRef}:t.startsWith("right")?{property:"left",value:yb.arrowOffset.varRef}:void 0,Pb={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:t})=>{Ob(t)},effect:({state:t})=>()=>{Ob(t)}},Ob=t=>{if(!t.elements.arrow)return;const e=t.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!e)return;const r=(n=t.placement).includes("top")?"1px 1px 0px 0 var(--popper-arrow-shadow-color)":n.includes("bottom")?"-1px -1px 0px 0 var(--popper-arrow-shadow-color)":n.includes("right")?"-1px 1px 0px 0 var(--popper-arrow-shadow-color)":n.includes("left")?"1px -1px 0px 0 var(--popper-arrow-shadow-color)":void 0;var n;r&&e.style.setProperty("--popper-arrow-default-shadow",r),Object.assign(e.style,{transform:"rotate(45deg)",background:yb.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},Ib={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},Cb={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function Nb(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Tb(t){return t instanceof Nb(t).Element||t instanceof Element}function kb(t){return t instanceof Nb(t).HTMLElement||t instanceof HTMLElement}function Rb(t){return"undefined"!=typeof ShadowRoot&&(t instanceof Nb(t).ShadowRoot||t instanceof ShadowRoot)}var Lb=Math.max,jb=Math.min,Ub=Math.round;function Bb(t,e){void 0===e&&(e=!1);var r=t.getBoundingClientRect(),n=1,i=1;if(kb(t)&&e){var s=t.offsetHeight,o=t.offsetWidth;o>0&&(n=Ub(r.width)/o||1),s>0&&(i=Ub(r.height)/s||1)}return{width:r.width/n,height:r.height/i,top:r.top/i,right:r.right/n,bottom:r.bottom/i,left:r.left/n,x:r.left/n,y:r.top/i}}function Db(t){var e=Nb(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Mb(t){return t?(t.nodeName||"").toLowerCase():null}function Fb(t){return((Tb(t)?t.ownerDocument:t.document)||window.document).documentElement}function zb(t){return Bb(Fb(t)).left+Db(t).scrollLeft}function Hb(t){return Nb(t).getComputedStyle(t)}function qb(t){var e=Hb(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function Gb(t,e,r){void 0===r&&(r=!1);var n,i,s=kb(e),o=kb(e)&&function(t){var e=t.getBoundingClientRect(),r=Ub(e.width)/t.offsetWidth||1,n=Ub(e.height)/t.offsetHeight||1;return 1!==r||1!==n}(e),a=Fb(e),c=Bb(t,o),u={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(s||!s&&!r)&&(("body"!==Mb(e)||qb(a))&&(u=(n=e)!==Nb(n)&&kb(n)?{scrollLeft:(i=n).scrollLeft,scrollTop:i.scrollTop}:Db(n)),kb(e)?((l=Bb(e,!0)).x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=zb(a))),{x:c.left+u.scrollLeft-l.x,y:c.top+u.scrollTop-l.y,width:c.width,height:c.height}}function Vb(t){var e=Bb(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function Kb(t){return"html"===Mb(t)?t:t.assignedSlot||t.parentNode||(Rb(t)?t.host:null)||Fb(t)}function Wb(t){return["html","body","#document"].indexOf(Mb(t))>=0?t.ownerDocument.body:kb(t)&&qb(t)?t:Wb(Kb(t))}function $b(t,e){var r;void 0===e&&(e=[]);var n=Wb(t),i=n===(null==(r=t.ownerDocument)?void 0:r.body),s=Nb(n),o=i?[s].concat(s.visualViewport||[],qb(n)?n:[]):n,a=e.concat(o);return i?a:a.concat($b(Kb(o)))}function Jb(t){return["table","td","th"].indexOf(Mb(t))>=0}function Qb(t){return kb(t)&&"fixed"!==Hb(t).position?t.offsetParent:null}function Zb(t){for(var e=Nb(t),r=Qb(t);r&&Jb(r)&&"static"===Hb(r).position;)r=Qb(r);return r&&("html"===Mb(r)||"body"===Mb(r)&&"static"===Hb(r).position)?e:r||function(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&kb(t)&&"fixed"===Hb(t).position)return null;for(var r=Kb(t);kb(r)&&["html","body"].indexOf(Mb(r))<0;){var n=Hb(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||e&&"filter"===n.willChange||e&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(t)||e}var Yb="top",Xb="bottom",tA="right",eA="left",rA="auto",nA=[Yb,Xb,tA,eA],iA="start",sA="end",oA="clippingParents",aA="viewport",cA="popper",uA="reference",lA=nA.reduce((function(t,e){return t.concat([e+"-"+iA,e+"-"+sA])}),[]),hA=[].concat(nA,[rA]).reduce((function(t,e){return t.concat([e,e+"-"+iA,e+"-"+sA])}),[]),fA=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function pA(t){var e=new Map,r=new Set,n=[];function i(t){r.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!r.has(t)){var n=e.get(t);n&&i(n)}})),n.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){r.has(t.name)||i(t)})),n}var dA={placement:"bottom",modifiers:[],strategy:"absolute"};function gA(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function yA(t){void 0===t&&(t={});var e=t,r=e.defaultModifiers,n=void 0===r?[]:r,i=e.defaultOptions,s=void 0===i?dA:i;return function(t,e,r){void 0===r&&(r=s);var i,o,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},dA,s),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},c=[],u=!1,l={state:a,setOptions:function(r){var i="function"==typeof r?r(a.options):r;h(),a.options=Object.assign({},s,a.options,i),a.scrollParents={reference:Tb(t)?$b(t):t.contextElement?$b(t.contextElement):[],popper:$b(e)};var o=function(t){var e=pA(t);return fA.reduce((function(t,r){return t.concat(e.filter((function(t){return t.phase===r})))}),[])}(function(t){var e=t.reduce((function(t,e){var r=t[e.name];return t[e.name]=r?Object.assign({},r,e,{options:Object.assign({},r.options,e.options),data:Object.assign({},r.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}([].concat(n,a.options.modifiers)));return a.orderedModifiers=o.filter((function(t){return t.enabled})),a.orderedModifiers.forEach((function(t){var e=t.name,r=t.options,n=void 0===r?{}:r,i=t.effect;if("function"==typeof i){var s=i({state:a,name:e,instance:l,options:n}),o=function(){};c.push(s||o)}})),l.update()},forceUpdate:function(){if(!u){var t=a.elements,e=t.reference,r=t.popper;if(gA(e,r)){a.rects={reference:Gb(e,Zb(r),"fixed"===a.options.strategy),popper:Vb(r)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(t){return a.modifiersData[t.name]=Object.assign({},t.data)}));for(var n=0;n<a.orderedModifiers.length;n++)if(!0!==a.reset){var i=a.orderedModifiers[n],s=i.fn,o=i.options,c=void 0===o?{}:o,h=i.name;"function"==typeof s&&(a=s({state:a,options:c,name:h,instance:l})||a)}else a.reset=!1,n=-1}}},update:(i=function(){return new Promise((function(t){l.forceUpdate(),t(a)}))},function(){return o||(o=new Promise((function(t){Promise.resolve().then((function(){o=void 0,t(i())}))}))),o}),destroy:function(){h(),u=!0}};if(!gA(t,e))return l;function h(){c.forEach((function(t){return t()})),c=[]}return l.setOptions(r).then((function(t){!u&&r.onFirstUpdate&&r.onFirstUpdate(t)})),l}}var mA={passive:!0};function vA(t){return t.split("-")[0]}function wA(t){return t.split("-")[1]}function bA(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function AA(t){var e,r=t.reference,n=t.element,i=t.placement,s=i?vA(i):null,o=i?wA(i):null,a=r.x+r.width/2-n.width/2,c=r.y+r.height/2-n.height/2;switch(s){case Yb:e={x:a,y:r.y-n.height};break;case Xb:e={x:a,y:r.y+r.height};break;case tA:e={x:r.x+r.width,y:c};break;case eA:e={x:r.x-n.width,y:c};break;default:e={x:r.x,y:r.y}}var u=s?bA(s):null;if(null!=u){var l="y"===u?"height":"width";switch(o){case iA:e[u]=e[u]-(r[l]/2-n[l]/2);break;case sA:e[u]=e[u]+(r[l]/2-n[l]/2)}}return e}var EA={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _A(t){var e,r=t.popper,n=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,c=t.gpuAcceleration,u=t.adaptive,l=t.roundOffsets,h=t.isFixed,f=o.x,p=void 0===f?0:f,d=o.y,g=void 0===d?0:d,y="function"==typeof l?l({x:p,y:g}):{x:p,y:g};p=y.x,g=y.y;var m=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),w=eA,b=Yb,A=window;if(u){var E=Zb(r),_="clientHeight",x="clientWidth";if(E===Nb(r)&&"static"!==Hb(E=Fb(r)).position&&"absolute"===a&&(_="scrollHeight",x="scrollWidth"),i===Yb||(i===eA||i===tA)&&s===sA)b=Xb,g-=(h&&A.visualViewport?A.visualViewport.height:E[_])-n.height,g*=c?1:-1;if(i===eA||(i===Yb||i===Xb)&&s===sA)w=tA,p-=(h&&A.visualViewport?A.visualViewport.width:E[x])-n.width,p*=c?1:-1}var S,P=Object.assign({position:a},u&&EA),O=!0===l?function(t){var e=t.x,r=t.y,n=window.devicePixelRatio||1;return{x:Ub(e*n)/n||0,y:Ub(r*n)/n||0}}({x:p,y:g}):{x:p,y:g};return p=O.x,g=O.y,c?Object.assign({},P,((S={})[b]=v?"0":"",S[w]=m?"0":"",S.transform=(A.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",S)):Object.assign({},P,((e={})[b]=v?g+"px":"",e[w]=m?p+"px":"",e.transform="",e))}var xA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,r=t.options,n=t.name,i=r.offset,s=void 0===i?[0,0]:i,o=hA.reduce((function(t,r){return t[r]=function(t,e,r){var n=vA(t),i=[eA,Yb].indexOf(n)>=0?-1:1,s="function"==typeof r?r(Object.assign({},e,{placement:t})):r,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[eA,tA].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}(r,e.rects,s),t}),{}),a=o[e.placement],c=a.x,u=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=o}},SA={left:"right",right:"left",bottom:"top",top:"bottom"};function PA(t){return t.replace(/left|right|bottom|top/g,(function(t){return SA[t]}))}var OA={start:"end",end:"start"};function IA(t){return t.replace(/start|end/g,(function(t){return OA[t]}))}function CA(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&Rb(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function NA(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function TA(t,e){return e===aA?NA(function(t){var e=Nb(t),r=Fb(t),n=e.visualViewport,i=r.clientWidth,s=r.clientHeight,o=0,a=0;return n&&(i=n.width,s=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,a=n.offsetTop)),{width:i,height:s,x:o+zb(t),y:a}}(t)):Tb(e)?function(t){var e=Bb(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(e):NA(function(t){var e,r=Fb(t),n=Db(t),i=null==(e=t.ownerDocument)?void 0:e.body,s=Lb(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Lb(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+zb(t),c=-n.scrollTop;return"rtl"===Hb(i||r).direction&&(a+=Lb(r.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:c}}(Fb(t)))}function kA(t,e,r){var n="clippingParents"===e?function(t){var e=$b(Kb(t)),r=["absolute","fixed"].indexOf(Hb(t).position)>=0&&kb(t)?Zb(t):t;return Tb(r)?e.filter((function(t){return Tb(t)&&CA(t,r)&&"body"!==Mb(t)})):[]}(t):[].concat(e),i=[].concat(n,[r]),s=i[0],o=i.reduce((function(e,r){var n=TA(t,r);return e.top=Lb(n.top,e.top),e.right=jb(n.right,e.right),e.bottom=jb(n.bottom,e.bottom),e.left=Lb(n.left,e.left),e}),TA(t,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function RA(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function LA(t,e){return e.reduce((function(e,r){return e[r]=t,e}),{})}function jA(t,e){void 0===e&&(e={});var r=e,n=r.placement,i=void 0===n?t.placement:n,s=r.boundary,o=void 0===s?oA:s,a=r.rootBoundary,c=void 0===a?aA:a,u=r.elementContext,l=void 0===u?cA:u,h=r.altBoundary,f=void 0!==h&&h,p=r.padding,d=void 0===p?0:p,g=RA("number"!=typeof d?d:LA(d,nA)),y=l===cA?uA:cA,m=t.rects.popper,v=t.elements[f?y:l],w=kA(Tb(v)?v:v.contextElement||Fb(t.elements.popper),o,c),b=Bb(t.elements.reference),A=AA({reference:b,element:m,strategy:"absolute",placement:i}),E=NA(Object.assign({},m,A)),_=l===cA?E:b,x={top:w.top-_.top+g.top,bottom:_.bottom-w.bottom+g.bottom,left:w.left-_.left+g.left,right:_.right-w.right+g.right},S=t.modifiersData.offset;if(l===cA&&S){var P=S[i];Object.keys(x).forEach((function(t){var e=[tA,Xb].indexOf(t)>=0?1:-1,r=[Yb,Xb].indexOf(t)>=0?"y":"x";x[t]+=P[r]*e}))}return x}var UA={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,s=void 0===i||i,o=r.altAxis,a=void 0===o||o,c=r.fallbackPlacements,u=r.padding,l=r.boundary,h=r.rootBoundary,f=r.altBoundary,p=r.flipVariations,d=void 0===p||p,g=r.allowedAutoPlacements,y=e.options.placement,m=vA(y),v=c||(m===y||!d?[PA(y)]:function(t){if(vA(t)===rA)return[];var e=PA(t);return[IA(t),e,IA(e)]}(y)),w=[y].concat(v).reduce((function(t,r){return t.concat(vA(r)===rA?function(t,e){void 0===e&&(e={});var r=e,n=r.placement,i=r.boundary,s=r.rootBoundary,o=r.padding,a=r.flipVariations,c=r.allowedAutoPlacements,u=void 0===c?hA:c,l=wA(n),h=l?a?lA:lA.filter((function(t){return wA(t)===l})):nA,f=h.filter((function(t){return u.indexOf(t)>=0}));0===f.length&&(f=h);var p=f.reduce((function(e,r){return e[r]=jA(t,{placement:r,boundary:i,rootBoundary:s,padding:o})[vA(r)],e}),{});return Object.keys(p).sort((function(t,e){return p[t]-p[e]}))}(e,{placement:r,boundary:l,rootBoundary:h,padding:u,flipVariations:d,allowedAutoPlacements:g}):r)}),[]),b=e.rects.reference,A=e.rects.popper,E=new Map,_=!0,x=w[0],S=0;S<w.length;S++){var P=w[S],O=vA(P),I=wA(P)===iA,C=[Yb,Xb].indexOf(O)>=0,N=C?"width":"height",T=jA(e,{placement:P,boundary:l,rootBoundary:h,altBoundary:f,padding:u}),k=C?I?tA:eA:I?Xb:Yb;b[N]>A[N]&&(k=PA(k));var R=PA(k),L=[];if(s&&L.push(T[O]<=0),a&&L.push(T[k]<=0,T[R]<=0),L.every((function(t){return t}))){x=P,_=!1;break}E.set(P,L)}if(_)for(var j=function(t){var e=w.find((function(e){var r=E.get(e);if(r)return r.slice(0,t).every((function(t){return t}))}));if(e)return x=e,"break"},U=d?3:1;U>0;U--){if("break"===j(U))break}e.placement!==x&&(e.modifiersData[n]._skip=!0,e.placement=x,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function BA(t,e,r){return Lb(t,jb(e,r))}var DA={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,s=void 0===i||i,o=r.altAxis,a=void 0!==o&&o,c=r.boundary,u=r.rootBoundary,l=r.altBoundary,h=r.padding,f=r.tether,p=void 0===f||f,d=r.tetherOffset,g=void 0===d?0:d,y=jA(e,{boundary:c,rootBoundary:u,padding:h,altBoundary:l}),m=vA(e.placement),v=wA(e.placement),w=!v,b=bA(m),A="x"===b?"y":"x",E=e.modifiersData.popperOffsets,_=e.rects.reference,x=e.rects.popper,S="function"==typeof g?g(Object.assign({},e.rects,{placement:e.placement})):g,P="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,I={x:0,y:0};if(E){if(s){var C,N="y"===b?Yb:eA,T="y"===b?Xb:tA,k="y"===b?"height":"width",R=E[b],L=R+y[N],j=R-y[T],U=p?-x[k]/2:0,B=v===iA?_[k]:x[k],D=v===iA?-x[k]:-_[k],M=e.elements.arrow,F=p&&M?Vb(M):{width:0,height:0},z=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=z[N],q=z[T],G=BA(0,_[k],F[k]),V=w?_[k]/2-U-G-H-P.mainAxis:B-G-H-P.mainAxis,K=w?-_[k]/2+U+G+q+P.mainAxis:D+G+q+P.mainAxis,W=e.elements.arrow&&Zb(e.elements.arrow),$=W?"y"===b?W.clientTop||0:W.clientLeft||0:0,J=null!=(C=null==O?void 0:O[b])?C:0,Q=R+K-J,Z=BA(p?jb(L,R+V-J-$):L,R,p?Lb(j,Q):j);E[b]=Z,I[b]=Z-R}if(a){var Y,X="x"===b?Yb:eA,tt="x"===b?Xb:tA,et=E[A],rt="y"===A?"height":"width",nt=et+y[X],it=et-y[tt],st=-1!==[Yb,eA].indexOf(m),ot=null!=(Y=null==O?void 0:O[A])?Y:0,at=st?nt:et-_[rt]-x[rt]-ot+P.altAxis,ct=st?et+_[rt]+x[rt]-ot-P.altAxis:it,ut=p&&st?function(t,e,r){var n=BA(t,e,r);return n>r?r:n}(at,et,ct):BA(p?at:nt,et,p?ct:it);E[A]=ut,I[A]=ut-et}e.modifiersData[n]=I}},requiresIfExists:["offset"]};var MA={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,r=t.state,n=t.name,i=t.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,a=vA(r.placement),c=bA(a),u=[eA,tA].indexOf(a)>=0?"height":"width";if(s&&o){var l=function(t,e){return RA("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:LA(t,nA))}(i.padding,r),h=Vb(s),f="y"===c?Yb:eA,p="y"===c?Xb:tA,d=r.rects.reference[u]+r.rects.reference[c]-o[c]-r.rects.popper[u],g=o[c]-r.rects.reference[c],y=Zb(s),m=y?"y"===c?y.clientHeight||0:y.clientWidth||0:0,v=d/2-g/2,w=l[f],b=m-h[u]-l[p],A=m/2-h[u]/2+v,E=BA(w,A,b),_=c;r.modifiersData[n]=((e={})[_]=E,e.centerOffset=E-A,e)}},effect:function(t){var e=t.state,r=t.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=e.elements.popper.querySelector(n)))&&CA(e.elements.popper,n)&&(e.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function FA(t,e,r){return void 0===r&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function zA(t){return[Yb,tA,Xb,eA].some((function(e){return t[e]>=0}))}var HA=yA({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,s=void 0===i||i,o=n.resize,a=void 0===o||o,c=Nb(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach((function(t){t.addEventListener("scroll",r.update,mA)})),a&&c.addEventListener("resize",r.update,mA),function(){s&&u.forEach((function(t){t.removeEventListener("scroll",r.update,mA)})),a&&c.removeEventListener("resize",r.update,mA)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,r=t.name;e.modifiersData[r]=AA({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=void 0===n||n,s=r.adaptive,o=void 0===s||s,a=r.roundOffsets,c=void 0===a||a,u={placement:vA(e.placement),variation:wA(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,_A(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,_A(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var r=e.styles[t]||{},n=e.attributes[t]||{},i=e.elements[t];kb(i)&&Mb(i)&&(Object.assign(i.style,r),Object.keys(n).forEach((function(t){var e=n[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach((function(t){var n=e.elements[t],i=e.attributes[t]||{},s=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:r[t]).reduce((function(t,e){return t[e]="",t}),{});kb(n)&&Mb(n)&&(Object.assign(n.style,s),Object.keys(i).forEach((function(t){n.removeAttribute(t)})))}))}},requires:["computeStyles"]},xA,UA,DA,MA,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=jA(e,{elementContext:"reference"}),a=jA(e,{altBoundary:!0}),c=FA(o,n),u=FA(a,i,s),l=zA(c),h=zA(u);e.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":h})}}]});function qA(t={}){const{enabled:e=!0,modifiers:r,placement:n="bottom",strategy:i="absolute",arrowPadding:s=8,eventListeners:o=!0,offset:a,gutter:c=8,flip:u=!0,boundary:l="clippingParents",preventOverflow:h=!0,matchWidth:f,direction:p="ltr"}=t,d=(0,m.useRef)(null),g=(0,m.useRef)(null),y=(0,m.useRef)(null),v=function(t,e="ltr"){var r,n;const i=(null==(r=Ib[t])?void 0:r[e])||t;return"ltr"===e?i:null!=(n=Cb[t])?n:i}(n,p),w=(0,m.useRef)((()=>{})),b=(0,m.useCallback)((()=>{var t;e&&d.current&&g.current&&(null==(t=w.current)||t.call(w),y.current=HA(d.current,g.current,{placement:v,modifiers:[Pb,_b,Ab,{...bb,enabled:!!f},{name:"eventListeners",...wb(o)},{name:"arrow",options:{padding:s}},{name:"offset",options:{offset:null!=a?a:[0,c]}},{name:"flip",enabled:!!u,options:{padding:8}},{name:"preventOverflow",enabled:!!h,options:{boundary:l}},...null!=r?r:[]],strategy:i}),y.current.forceUpdate(),w.current=y.current.destroy)}),[v,e,r,f,o,s,a,c,u,h,l,i]);(0,m.useEffect)((()=>()=>{var t;d.current||g.current||(null==(t=y.current)||t.destroy(),y.current=null)}),[]);const A=(0,m.useCallback)((t=>{d.current=t,b()}),[b]),E=(0,m.useCallback)(((t={},e=null)=>({...t,ref:V(A,e)})),[A]),_=(0,m.useCallback)((t=>{g.current=t,b()}),[b]),x=(0,m.useCallback)(((t={},e=null)=>({...t,ref:V(_,e),style:{...t.style,position:i,minWidth:f?void 0:"max-content",inset:"0 auto auto 0"}})),[i,_,f]),S=(0,m.useCallback)(((t={},e=null)=>{const{size:r,shadowColor:n,bg:i,style:s,...o}=t;return{...o,ref:e,"data-popper-arrow":"",style:GA(t)}}),[]),P=(0,m.useCallback)(((t={},e=null)=>({...t,ref:e,"data-popper-arrow-inner":""})),[]);return{update(){var t;null==(t=y.current)||t.update()},forceUpdate(){var t;null==(t=y.current)||t.forceUpdate()},transformOrigin:yb.transformOrigin.varRef,referenceRef:A,popperRef:_,getPopperProps:x,getArrowProps:S,getArrowInnerProps:P,getReferenceProps:E}}function GA(t){const{size:e,shadowColor:r,bg:n,style:i}=t,s={...i,position:"absolute"};return e&&(s["--popper-arrow-size"]=e),r&&(s["--popper-arrow-shadow-color"]=r),n&&(s["--popper-arrow-bg"]=n),s}var VA=r(5155);function KA(t={}){const{onClose:e,onOpen:r,isOpen:n,id:i}=t,s=(0,VA.W)(r),o=(0,VA.W)(e),[a,c]=(0,m.useState)(t.defaultIsOpen||!1),u=void 0!==n?n:a,l=void 0!==n,h=(0,m.useId)(),f=null!=i?i:`disclosure-${h}`,p=(0,m.useCallback)((()=>{l||c(!1),null==o||o()}),[l,o]),d=(0,m.useCallback)((()=>{l||c(!0),null==s||s()}),[l,s]),g=(0,m.useCallback)((()=>{u?p():d()}),[u,d,p]);return{isOpen:u,onOpen:d,onClose:p,onToggle:g,isControlled:l,getButtonProps:function(t={}){return{...t,"aria-expanded":u,"aria-controls":f,onClick(e){var r;null==(r=t.onClick)||r.call(t,e),g()}}},getDisclosureProps:function(t={}){return{...t,hidden:!u,id:f}}}}function WA(t,e,r,n){const i=(0,VA.W)(r);return(0,m.useEffect)((()=>{const s="function"==typeof t?t():null!=t?t:document;if(r&&s)return s.addEventListener(e,i,n),()=>{s.removeEventListener(e,i,n)}}),[e,t,n,i,r]),()=>{const r="function"==typeof t?t():null!=t?t:document;null==r||r.removeEventListener(e,i,n)}}var $A=t=>{var e;return(null==(e=t.current)?void 0:e.ownerDocument)||document},JA=t=>{var e,r;return(null==(r=null==(e=t.current)?void 0:e.ownerDocument)?void 0:r.defaultView)||window};function QA(t={}){const{openDelay:e=0,closeDelay:r=0,closeOnClick:n=!0,closeOnMouseDown:i,closeOnScroll:s,closeOnPointerDown:o=i,closeOnEsc:a=!0,onOpen:c,onClose:u,placement:l,id:h,isOpen:f,defaultIsOpen:p,arrowSize:d=10,arrowShadowColor:g,arrowPadding:y,modifiers:v,isDisabled:w,gutter:b,offset:A,direction:E,..._}=t,{isOpen:x,onOpen:P,onClose:O}=KA({isOpen:f,defaultIsOpen:p,onOpen:c,onClose:u}),{referenceRef:I,getPopperProps:C,getArrowInnerProps:N,getArrowProps:T}=qA({enabled:x,placement:l,arrowPadding:y,modifiers:v,gutter:b,offset:A,direction:E}),k=(0,m.useId)(),R=`tooltip-${null!=h?h:k}`,L=(0,m.useRef)(null),j=(0,m.useRef)(),U=(0,m.useCallback)((()=>{j.current&&(clearTimeout(j.current),j.current=void 0)}),[]),B=(0,m.useRef)(),D=(0,m.useCallback)((()=>{B.current&&(clearTimeout(B.current),B.current=void 0)}),[]),M=(0,m.useCallback)((()=>{D(),O()}),[O,D]),F=function(t,e){return(0,m.useEffect)((()=>{const r=$A(t);return r.addEventListener(ZA,e),()=>r.removeEventListener(ZA,e)}),[e,t]),()=>{const e=$A(t),r=JA(t);e.dispatchEvent(new r.CustomEvent(ZA))}}(L,M),z=(0,m.useCallback)((()=>{if(!w&&!j.current){F();const t=JA(L);j.current=t.setTimeout(P,e)}}),[F,w,P,e]),H=(0,m.useCallback)((()=>{U();const t=JA(L);B.current=t.setTimeout(M,r)}),[r,M,U]),q=(0,m.useCallback)((()=>{x&&n&&H()}),[n,H,x]),G=(0,m.useCallback)((()=>{x&&o&&H()}),[o,H,x]),K=(0,m.useCallback)((t=>{x&&"Escape"===t.key&&H()}),[x,H]);WA((()=>$A(L)),"keydown",a?K:void 0),WA((()=>{const t=L.current;if(!t)return null;const e=db(t);return"body"===e.localName?JA(L):e}),"scroll",(()=>{x&&s&&M()}),{passive:!0,capture:!0}),(0,m.useEffect)((()=>{w&&(U(),x&&O())}),[w,x,O,U]),(0,m.useEffect)((()=>()=>{U(),D()}),[U,D]),WA((()=>L.current),"pointerleave",H);const W=(0,m.useCallback)(((t={},e=null)=>({...t,ref:V(L,e,I),onPointerEnter:(0,S.v0)(t.onPointerEnter,(t=>{"touch"!==t.pointerType&&z()})),onClick:(0,S.v0)(t.onClick,q),onPointerDown:(0,S.v0)(t.onPointerDown,G),onFocus:(0,S.v0)(t.onFocus,z),onBlur:(0,S.v0)(t.onBlur,H),"aria-describedby":x?R:void 0})),[z,H,G,x,R,q,I]),$=(0,m.useCallback)(((t={},e=null)=>C({...t,style:{...t.style,[yb.arrowSize.var]:d?`${d}px`:void 0,[yb.arrowShadowColor.var]:g}},e)),[C,d,g]),J=(0,m.useCallback)(((t={},e=null)=>{const r={...t.style,position:"relative",transformOrigin:yb.transformOrigin.varRef};return{ref:e,..._,...t,id:R,role:"tooltip",style:r}}),[_,R]);return{isOpen:x,show:z,hide:H,getTriggerProps:W,getTooltipProps:J,getTooltipPositionerProps:$,getArrowProps:T,getArrowInnerProps:N}}var ZA="chakra-ui:close-tooltip";var YA=r(9598),XA=r(954),tE=r(7828);var eE=(0,b.m)(XA.E.div),rE=(0,w.G)(((t,e)=>{var r,n;const i=(0,k.mq)("Tooltip",t),s=(0,R.Lr)(t),o=(0,_.F)(),{children:a,label:c,shouldWrapChildren:u,"aria-label":l,hasArrow:h,bg:f,portalProps:p,background:d,backgroundColor:g,bgColor:y,motionProps:v,...w}=s,E=null!=(n=null!=(r=null!=d?d:g)?r:f)?n:y;if(E){i.bg=E;const t=(0,R.K1)(o,"colors",E);i[yb.arrowBg.var]=t}const x=QA({...w,direction:o.direction});let S;if("string"==typeof a||u)S=(0,A.jsx)(b.m.span,{display:"inline-block",tabIndex:0,...x.getTriggerProps(),children:a});else{const t=m.Children.only(a);S=(0,m.cloneElement)(t,x.getTriggerProps(t.props,t.ref))}const P=!!l,O=x.getTooltipProps({},e),I=P?function(t,e=[]){const r=Object.assign({},t);for(const n of e)n in r&&delete r[n];return r}(O,["role","id"]):O,C=function(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}(O,["role","id"]);return c?(0,A.jsxs)(A.Fragment,{children:[S,(0,A.jsx)(tE.M,{children:x.isOpen&&(0,A.jsx)(YA.h,{...p,children:(0,A.jsx)(b.m.div,{...x.getTooltipPositionerProps(),__css:{zIndex:i.zIndex,pointerEvents:"none"},children:(0,A.jsxs)(eE,{variants:lb,initial:"exit",animate:"enter",exit:"exit",...v,...I,__css:i,children:[c,P&&(0,A.jsx)(b.m.span,{srOnly:!0,...C,children:l}),h&&(0,A.jsx)(b.m.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:(0,A.jsx)(b.m.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:i.bg}})})]})})})})]}):(0,A.jsx)(A.Fragment,{children:a})}));rE.displayName="Tooltip";var nE=(0,w.G)((function(t,e){const r=(0,k.mq)("Link",t),{className:n,isExternal:i,...s}=(0,R.Lr)(t);return(0,A.jsx)(b.m.a,{target:i?"_blank":void 0,rel:i?"noopener":void 0,ref:e,className:(0,S.cx)("chakra-link",n),...s,__css:r})}));nE.displayName="Link";var iE=(0,w.G)(((t,e)=>{const{icon:r,children:n,isRound:i,"aria-label":s,...o}=t,a=r||n,c=(0,m.isValidElement)(a)?(0,m.cloneElement)(a,{"aria-hidden":!0,focusable:!1}):null;return(0,A.jsx)(W,{padding:"0",borderRadius:i?"full":void 0,ref:e,"aria-label":s,...o,children:c})}));iE.displayName="IconButton";var sE=r(6877);function oE(t){const{viewBox:e="0 0 24 24",d:r,displayName:n,defaultProps:i={}}=t,s=m.Children.toArray(t.path),o=(0,w.G)(((t,n)=>(0,A.jsx)(sE.J,{ref:n,viewBox:e,...i,...t,children:s.length?s:(0,A.jsx)("path",{fill:"currentColor",d:r})})));return o.displayName=n,o}var aE=oE({d:"M21.4,13.7C20.6,13.9,19.8,14,19,14c-5,0-9-4-9-9c0-0.8,0.1-1.6,0.3-2.4c0.1-0.3,0-0.7-0.3-1 c-0.3-0.3-0.6-0.4-1-0.3C4.3,2.7,1,7.1,1,12c0,6.1,4.9,11,11,11c4.9,0,9.3-3.3,10.6-8.1c0.1-0.3,0-0.7-0.3-1 C22.1,13.7,21.7,13.6,21.4,13.7z",displayName:"MoonIcon"}),cE=oE({displayName:"SunIcon",path:(0,A.jsxs)("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2",fill:"none",stroke:"currentColor",children:[(0,A.jsx)("circle",{cx:"12",cy:"12",r:"5"}),(0,A.jsx)("path",{d:"M12 1v2"}),(0,A.jsx)("path",{d:"M12 21v2"}),(0,A.jsx)("path",{d:"M4.22 4.22l1.42 1.42"}),(0,A.jsx)("path",{d:"M18.36 18.36l1.42 1.42"}),(0,A.jsx)("path",{d:"M1 12h2"}),(0,A.jsx)("path",{d:"M21 12h2"}),(0,A.jsx)("path",{d:"M4.22 19.78l1.42-1.42"}),(0,A.jsx)("path",{d:"M18.36 5.64l1.42-1.42"})]})}),uE=r(2498);const lE=t=>{const{colorMode:e,toggleColorMode:r}=(0,uE.If)();return(0,Lv.tZ)(rE,{label:"Toggle Dark Mode"},(0,Lv.tZ)(iE,(0,v.Z)({},t,{"aria-label":"Toggle Dark Mode",onClick:r,icon:"light"===e?(0,Lv.tZ)(aE,null):(0,Lv.tZ)(cE,null)})))};var hE=oE({d:"M23.384,21.619,16.855,15.09a9.284,9.284,0,1,0-1.768,1.768l6.529,6.529a1.266,1.266,0,0,0,1.768,0A1.251,1.251,0,0,0,23.384,21.619ZM2.75,9.5a6.75,6.75,0,1,1,6.75,6.75A6.758,6.758,0,0,1,2.75,9.5Z",displayName:"SearchIcon"});var fE=r(7052),[pE,dE]=(0,T.k)({name:"InputGroupStylesContext",errorMessage:"useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<InputGroup />\" "}),gE=(0,w.G)((function(t,e){const r=(0,k.jC)("Input",t),{children:n,className:i,...s}=(0,R.Lr)(t),o=(0,S.cx)("chakra-input__group",i),a={},c=function(t){return m.Children.toArray(t).filter((t=>(0,m.isValidElement)(t)))}(n),u=r.field;c.forEach((t=>{var e,n;r&&(u&&"InputLeftElement"===t.type.id&&(a.paddingStart=null!=(e=u.height)?e:u.h),u&&"InputRightElement"===t.type.id&&(a.paddingEnd=null!=(n=u.height)?n:u.h),"InputRightAddon"===t.type.id&&(a.borderEndRadius=0),"InputLeftAddon"===t.type.id&&(a.borderStartRadius=0))}));const l=c.map((e=>{var r,n;const i=(0,fE.o)({size:(null==(r=e.props)?void 0:r.size)||t.size,variant:(null==(n=e.props)?void 0:n.variant)||t.variant});return"Input"!==e.type.id?(0,m.cloneElement)(e,i):(0,m.cloneElement)(e,Object.assign(i,a,e.props))}));return(0,A.jsx)(b.m.div,{className:o,ref:e,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate"},"data-group":!0,...s,children:(0,A.jsx)(pE,{value:r,children:l})})}));gE.displayName="InputGroup";var yE=(0,b.m)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),mE=(0,w.G)((function(t,e){var r,n;const{placement:i="left",...s}=t,o=dE(),a=o.field,c={["left"===i?"insetStart":"insetEnd"]:"0",width:null!=(r=null==a?void 0:a.height)?r:null==a?void 0:a.h,height:null!=(n=null==a?void 0:a.height)?n:null==a?void 0:a.h,fontSize:null==a?void 0:a.fontSize,...o.element};return(0,A.jsx)(yE,{ref:e,__css:c,...s})}));mE.id="InputElement",mE.displayName="InputElement";var vE=(0,w.G)((function(t,e){const{className:r,...n}=t,i=(0,S.cx)("chakra-input__left-element",r);return(0,A.jsx)(mE,{ref:e,placement:"left",className:i,...n})}));vE.id="InputLeftElement",vE.displayName="InputLeftElement";var wE=(0,w.G)((function(t,e){const{className:r,...n}=t,i=(0,S.cx)("chakra-input__right-element",r);return(0,A.jsx)(mE,{ref:e,placement:"right",className:i,...n})}));wE.id="InputRightElement",wE.displayName="InputRightElement";var[bE,AE]=(0,T.k)({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[EE,_E]=(0,T.k)({strict:!1,name:"FormControlContext"});var xE=(0,w.G)((function(t,e){const r=(0,k.jC)("Form",t),n=(0,R.Lr)(t),{getRootProps:i,htmlProps:s,...o}=function(t){const{id:e,isRequired:r,isInvalid:n,isDisabled:i,isReadOnly:s,...o}=t,a=(0,m.useId)(),c=e||`field-${a}`,u=`${c}-label`,l=`${c}-feedback`,h=`${c}-helptext`,[f,p]=(0,m.useState)(!1),[d,g]=(0,m.useState)(!1),[y,v]=(0,m.useState)(!1),w=(0,m.useCallback)(((t={},e=null)=>({id:h,...t,ref:V(e,(t=>{t&&g(!0)}))})),[h]),b=(0,m.useCallback)(((t={},e=null)=>({...t,ref:e,"data-focus":(0,S.PB)(y),"data-disabled":(0,S.PB)(i),"data-invalid":(0,S.PB)(n),"data-readonly":(0,S.PB)(s),id:void 0!==t.id?t.id:u,htmlFor:void 0!==t.htmlFor?t.htmlFor:c})),[c,i,y,n,s,u]),A=(0,m.useCallback)(((t={},e=null)=>({id:l,...t,ref:V(e,(t=>{t&&p(!0)})),"aria-live":"polite"})),[l]),E=(0,m.useCallback)(((t={},e=null)=>({...t,...o,ref:e,role:"group"})),[o]),_=(0,m.useCallback)(((t={},e=null)=>({...t,ref:e,role:"presentation","aria-hidden":!0,children:t.children||"*"})),[]);return{isRequired:!!r,isInvalid:!!n,isReadOnly:!!s,isDisabled:!!i,isFocused:!!y,onFocus:()=>v(!0),onBlur:()=>v(!1),hasFeedbackText:f,setHasFeedbackText:p,hasHelpText:d,setHasHelpText:g,id:c,labelId:u,feedbackId:l,helpTextId:h,htmlProps:o,getHelpTextProps:w,getErrorMessageProps:A,getRootProps:E,getLabelProps:b,getRequiredIndicatorProps:_}}(n),a=(0,S.cx)("chakra-form-control",t.className);return(0,A.jsx)(EE,{value:o,children:(0,A.jsx)(bE,{value:r,children:(0,A.jsx)(b.m.div,{...i({},e),className:a,__css:r.container})})})}));function SE(t){var e,r,n;const i=_E(),{id:s,disabled:o,readOnly:a,required:c,isRequired:u,isInvalid:l,isReadOnly:h,isDisabled:f,onFocus:p,onBlur:d,...g}=t,y=t["aria-describedby"]?[t["aria-describedby"]]:[];return(null==i?void 0:i.hasFeedbackText)&&(null==i?void 0:i.isInvalid)&&y.push(i.feedbackId),(null==i?void 0:i.hasHelpText)&&y.push(i.helpTextId),{...g,"aria-describedby":y.join(" ")||void 0,id:null!=s?s:null==i?void 0:i.id,isDisabled:null!=(e=null!=o?o:f)?e:null==i?void 0:i.isDisabled,isReadOnly:null!=(r=null!=a?a:h)?r:null==i?void 0:i.isReadOnly,isRequired:null!=(n=null!=c?c:u)?n:null==i?void 0:i.isRequired,isInvalid:null!=l?l:null==i?void 0:i.isInvalid,onFocus:(0,S.v0)(null==i?void 0:i.onFocus,p),onBlur:(0,S.v0)(null==i?void 0:i.onBlur,d)}}xE.displayName="FormControl",(0,w.G)((function(t,e){const r=_E(),n=AE(),i=(0,S.cx)("chakra-form__helper-text",t.className);return(0,A.jsx)(b.m.div,{...null==r?void 0:r.getHelpTextProps(t,e),__css:n.helperText,className:i})})).displayName="FormHelperText";var PE=(0,w.G)((function(t,e){const{htmlSize:r,...n}=t,i=(0,k.jC)("Input",n),s=function(t){const{isDisabled:e,isInvalid:r,isReadOnly:n,isRequired:i,...s}=SE(t);return{...s,disabled:e,readOnly:n,required:i,"aria-invalid":(0,S.Qm)(r),"aria-required":(0,S.Qm)(i),"aria-readonly":(0,S.Qm)(n)}}((0,R.Lr)(n)),o=(0,S.cx)("chakra-input",t.className);return(0,A.jsx)(b.m.input,{size:r,...s,__css:i.field,ref:e,className:o})}));PE.displayName="Input",PE.id="Input";const OE=()=>{const{setQuery:t}=(0,m.useContext)(Wv),{0:e,1:r}=(0,m.useState)(""),n=((t,e)=>{const{0:r,1:n}=(0,m.useState)(t);return(0,m.useEffect)((()=>{const r=setTimeout((()=>n(t)),e);return()=>{clearTimeout(r)}}),[t,e]),r})(e,250);return(0,m.useEffect)((()=>{t(n)}),[n]),(0,Lv.tZ)(gE,{size:"lg",mx:{base:0,md:"5"},mb:{base:"2",md:0}},(0,Lv.tZ)(vE,{pointerEvents:"none",children:(0,Lv.tZ)(hE,{color:"gray.300"})}),(0,Lv.tZ)(PE,{type:"text",placeholder:"Search",value:e,onChange:t=>r(t.target.value)}))};var IE=r(9583),CE=oE({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"});function NE(t){const{isOpen:e,ref:r}=t,[n,i]=(0,m.useState)(e),[s,o]=(0,m.useState)(!1);(0,m.useEffect)((()=>{s||(i(e),o(!0))}),[e,s,n]),WA((()=>r.current),"animationend",(()=>{i(e)}));return{present:!(!e&&!n),onComplete(){var t;const e=function(t){var e,r;return null!=(r=null==(e=pb(t))?void 0:e.defaultView)?r:window}(r.current),n=new e.CustomEvent("animationend",{bubbles:!0});null==(t=r.current)||t.dispatchEvent(n)}}}var TE=()=>"undefined"!=typeof window;var kE=t=>TE()&&t.test(function(){var t;const e=navigator.userAgentData;return null!=(t=null==e?void 0:e.platform)?t:navigator.platform}()),RE=()=>kE(/mac|iphone|ipad|ipod/i)&&(t=>TE()&&t.test(navigator.vendor))(/apple/i);var LE=t=>t.hasAttribute("tabindex"),jE=t=>LE(t)&&-1===t.tabIndex;function UE(t){return!(!t.parentElement||!UE(t.parentElement))||t.hidden}function BE(t){if(!fb(t)||UE(t)||function(t){return!0===Boolean(t.getAttribute("disabled"))||!0===Boolean(t.getAttribute("aria-disabled"))}(t))return!1;const{localName:e}=t;if(["input","select","textarea","button"].indexOf(e)>=0)return!0;const r={a:()=>t.hasAttribute("href"),audio:()=>t.hasAttribute("controls"),video:()=>t.hasAttribute("controls")};return e in r?r[e]():!!function(t){const e=t.getAttribute("contenteditable");return"false"!==e&&null!=e}(t)||LE(t)}var DE=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"].join(),ME=t=>t.offsetWidth>0&&t.offsetHeight>0;function FE(t){const e=Array.from(t.querySelectorAll(DE));return e.unshift(t),e.filter((t=>BE(t)&&ME(t)))}var zE=r(2366);function HE(t){const e=t.current;if(!e)return!1;const r=pb(e).activeElement;var n;return!!r&&(!e.contains(r)&&!(!((n=r)&&fb(n)&&BE(n))||jE(n)))}var qE={preventScroll:!0,shouldFocus:!1};var GE={click:"click",hover:"hover"};function VE(t={}){const{closeOnBlur:e=!0,closeOnEsc:r=!0,initialFocusRef:n,id:i,returnFocusOnClose:s=!0,autoFocus:o=!0,arrowSize:a,arrowShadowColor:c,trigger:u=GE.click,openDelay:l=200,closeDelay:h=200,isLazy:f,lazyBehavior:p="unmount",computePositionOnMount:d,...g}=t,{isOpen:y,onClose:v,onOpen:w,onToggle:b}=KA(t),A=(0,m.useRef)(null),E=(0,m.useRef)(null),_=(0,m.useRef)(null),x=(0,m.useRef)(!1),P=(0,m.useRef)(!1);y&&(P.current=!0);const[O,I]=(0,m.useState)(!1),[C,N]=(0,m.useState)(!1),T=(0,m.useId)(),k=null!=i?i:T,[R,L,j,U]=["popover-trigger","popover-content","popover-header","popover-body"].map((t=>`${t}-${k}`)),{referenceRef:B,getArrowProps:D,getPopperProps:M,getArrowInnerProps:F,forceUpdate:z}=qA({...g,enabled:y||!!d}),H=NE({isOpen:y,ref:_});!function(t){const{ref:e,elements:r,enabled:n}=t,i=()=>{var t,r;return null!=(r=null==(t=e.current)?void 0:t.ownerDocument)?r:document};WA(i,"pointerdown",(t=>{if(!RE()||!n)return;const s=t.target,o=(null!=r?r:[e]).some((t=>{const e="current"in t?t.current:t;return(null==e?void 0:e.contains(s))||e===s}));i().activeElement!==s&&o&&(t.preventDefault(),s.focus())}))}({enabled:y,ref:E}),function(t,e){const{shouldFocus:r,visible:n,focusRef:i}=e,s=r&&!n;(0,zE.r)((()=>{if(!s)return;if(HE(t))return;const e=(null==i?void 0:i.current)||t.current;let r;return e?(r=requestAnimationFrame((()=>{e.focus({preventScroll:!0})})),()=>{cancelAnimationFrame(r)}):void 0}),[s,t,i])}(_,{focusRef:E,visible:y,shouldFocus:s&&u===GE.click}),function(t,e=qE){const{focusRef:r,preventScroll:n,shouldFocus:i,visible:s}=e,o="current"in t?t.current:t,a=i&&s,c=(0,m.useRef)(a),u=(0,m.useRef)(s);(0,Hv.G)((()=>{!u.current&&s&&(c.current=a),u.current=s}),[s,a]);const l=(0,m.useCallback)((()=>{if(s&&o&&c.current&&(c.current=!1,!o.contains(document.activeElement)))if(null==r?void 0:r.current)requestAnimationFrame((()=>{var t;null==(t=r.current)||t.focus({preventScroll:n})}));else{const t=FE(o);t.length>0&&requestAnimationFrame((()=>{t[0].focus({preventScroll:n})}))}}),[s,n,o,r]);(0,zE.r)((()=>{l()}),[l]),WA(o,"transitionend",l)}(_,{focusRef:n,visible:y,shouldFocus:o&&u===GE.click});const q=function(t){const{wasSelected:e,enabled:r,isSelected:n,mode:i="unmount"}=t;return!r||!!n||!("keepMounted"!==i||!e)}({wasSelected:P.current,enabled:f,mode:p,isSelected:H.present}),G=(0,m.useCallback)(((t={},n=null)=>{const i={...t,style:{...t.style,transformOrigin:yb.transformOrigin.varRef,[yb.arrowSize.var]:a?`${a}px`:void 0,[yb.arrowShadowColor.var]:c},ref:V(_,n),children:q?t.children:null,id:L,tabIndex:-1,role:"dialog",onKeyDown:(0,S.v0)(t.onKeyDown,(t=>{r&&"Escape"===t.key&&v()})),onBlur:(0,S.v0)(t.onBlur,(t=>{const r=WE(t),n=KE(_.current,r),i=KE(E.current,r);y&&e&&(!n&&!i)&&v()})),"aria-labelledby":O?j:void 0,"aria-describedby":C?U:void 0};return u===GE.hover&&(i.role="tooltip",i.onMouseEnter=(0,S.v0)(t.onMouseEnter,(()=>{x.current=!0})),i.onMouseLeave=(0,S.v0)(t.onMouseLeave,(t=>{null!==t.nativeEvent.relatedTarget&&(x.current=!1,setTimeout((()=>v()),h))}))),i}),[q,L,O,j,C,U,u,r,v,y,e,h,c,a]),K=(0,m.useCallback)(((t={},e=null)=>M({...t,style:{visibility:y?"visible":"hidden",...t.style}},e)),[y,M]),W=(0,m.useCallback)(((t,e=null)=>({...t,ref:V(e,A,B)})),[A,B]),$=(0,m.useRef)(),J=(0,m.useRef)(),Q=(0,m.useCallback)((t=>{null==A.current&&B(t)}),[B]),Z=(0,m.useCallback)(((t={},r=null)=>{const n={...t,ref:V(E,r,Q),id:R,"aria-haspopup":"dialog","aria-expanded":y,"aria-controls":L};return u===GE.click&&(n.onClick=(0,S.v0)(t.onClick,b)),u===GE.hover&&(n.onFocus=(0,S.v0)(t.onFocus,(()=>{void 0===$.current&&w()})),n.onBlur=(0,S.v0)(t.onBlur,(t=>{const r=WE(t),n=!KE(_.current,r);y&&e&&n&&v()})),n.onKeyDown=(0,S.v0)(t.onKeyDown,(t=>{"Escape"===t.key&&v()})),n.onMouseEnter=(0,S.v0)(t.onMouseEnter,(()=>{x.current=!0,$.current=window.setTimeout((()=>w()),l)})),n.onMouseLeave=(0,S.v0)(t.onMouseLeave,(()=>{x.current=!1,$.current&&(clearTimeout($.current),$.current=void 0),J.current=window.setTimeout((()=>{!1===x.current&&v()}),h)}))),n}),[R,y,L,u,Q,b,w,e,v,l,h]);(0,m.useEffect)((()=>()=>{$.current&&clearTimeout($.current),J.current&&clearTimeout(J.current)}),[]);const Y=(0,m.useCallback)(((t={},e=null)=>({...t,id:j,ref:V(e,(t=>{I(!!t)}))})),[j]),X=(0,m.useCallback)(((t={},e=null)=>({...t,id:U,ref:V(e,(t=>{N(!!t)}))})),[U]);return{forceUpdate:z,isOpen:y,onAnimationComplete:H.onComplete,onClose:v,getAnchorProps:W,getArrowProps:D,getArrowInnerProps:F,getPopoverPositionerProps:K,getPopoverProps:G,getTriggerProps:Z,getHeaderProps:Y,getBodyProps:X}}function KE(t,e){return t===e||(null==t?void 0:t.contains(e))}function WE(t){var e;const r=t.currentTarget.ownerDocument.activeElement;return null!=(e=t.relatedTarget)?e:r}var[$E,JE]=(0,T.k)({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),[QE,ZE]=(0,T.k)({name:"PopoverStylesContext",errorMessage:"usePopoverStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Popover />\" "});function YE(t){const e=(0,k.jC)("Popover",t),{children:r,...n}=(0,R.Lr)(t),i=VE({...n,direction:(0,_.F)().direction});return(0,A.jsx)($E,{value:i,children:(0,A.jsx)(QE,{value:e,children:(0,S.Pu)(r,{isOpen:i.isOpen,onClose:i.onClose,forceUpdate:i.forceUpdate})})})}function XE(t){const e=m.Children.only(t.children),{getTriggerProps:r}=JE();return(0,m.cloneElement)(e,r(e.props,e.ref))}function t_(t){if(t)return{enter:{...t.enter,visibility:"visible"},exit:{...t.exit,transitionEnd:{visibility:"hidden"}}}}YE.displayName="Popover",XE.displayName="PopoverTrigger";var e_={exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}},r_=(0,b.m)(XA.E.section),n_=(0,w.G)((function(t,e){const{variants:r=e_,...n}=t,{isOpen:i}=JE();return(0,A.jsx)(r_,{ref:e,variants:t_(r),initial:!1,animate:i?"enter":"exit",...n})}));n_.displayName="PopoverTransition";var i_=(0,w.G)((function(t,e){const{rootProps:r,motionProps:n,...i}=t,{getPopoverProps:s,getPopoverPositionerProps:o,onAnimationComplete:a}=JE(),c=ZE(),u={position:"relative",display:"flex",flexDirection:"column",...c.content};return(0,A.jsx)(b.m.div,{...o(r),__css:c.popper,className:"chakra-popover__popper",children:(0,A.jsx)(n_,{...n,...s(i,e),onAnimationComplete:(0,S.PP)(a,i.onAnimationComplete),className:(0,S.cx)("chakra-popover__content",t.className),__css:u})})}));i_.displayName="PopoverContent";var s_=(t,e)=>e?`${t}.${e}, ${e}`:void 0;function o_(t){var e;const{bg:r,bgColor:n,backgroundColor:i,shadow:s,boxShadow:o,shadowColor:a}=t,{getArrowProps:c,getArrowInnerProps:u}=JE(),l=ZE(),h=null!=(e=null!=r?r:n)?e:i,f=null!=s?s:o;return(0,A.jsx)(b.m.div,{...c(),className:"chakra-popover__arrow-positioner",children:(0,A.jsx)(b.m.div,{className:(0,S.cx)("chakra-popover__arrow",t.className),...u(t),__css:{"--popper-arrow-shadow-color":s_("colors",a),"--popper-arrow-bg":s_("colors",h),"--popper-arrow-shadow":s_("shadows",f),...l.arrow}})})}o_.displayName="PopoverArrow";var a_=(0,w.G)((function(t,e){const{getBodyProps:r}=JE(),n=ZE();return(0,A.jsx)(b.m.div,{...r(t,e),className:(0,S.cx)("chakra-popover__body",t.className),__css:n.body})}));a_.displayName="PopoverBody";var c_=(0,w.G)((function(t,e){var r;const n=(0,k.mq)("FormLabel",t),i=(0,R.Lr)(t),{className:s,children:o,requiredIndicator:a=(0,A.jsx)(u_,{}),optionalIndicator:c=null,...u}=i,l=_E(),h=null!=(r=null==l?void 0:l.getLabelProps(u,e))?r:{ref:e,...u};return(0,A.jsxs)(b.m.label,{...h,className:(0,S.cx)("chakra-form__label",i.className),__css:{display:"block",textAlign:"start",...n},children:[o,(null==l?void 0:l.isRequired)?a:c]})}));c_.displayName="FormLabel";var u_=(0,w.G)((function(t,e){const r=_E(),n=AE();if(!(null==r?void 0:r.isRequired))return null;const i=(0,S.cx)("chakra-form__required-indicator",t.className);return(0,A.jsx)(b.m.span,{...null==r?void 0:r.getRequiredIndicatorProps(t,e),__css:n.requiredIndicator,className:i})}));u_.displayName="RequiredIndicator";var l_={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},h_=!1,f_=null,p_=!1,d_=!1,g_=new Set;function y_(t,e){g_.forEach((r=>r(t,e)))}var m_="undefined"!=typeof window&&null!=window.navigator&&/^Mac/.test(window.navigator.platform);function v_(t){var e;p_=!0,(e=t).metaKey||!m_&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key||(f_="keyboard",y_("keyboard",t))}function w_(t){if(f_="pointer","mousedown"===t.type||"pointerdown"===t.type){p_=!0;const e=t.composedPath?t.composedPath()[0]:t.target;let r=!1;try{r=e.matches(":focus-visible")}catch{}if(r)return;y_("pointer",t)}}function b_(t){var e;(0===(e=t).mozInputSource&&e.isTrusted||0===e.detail&&!e.pointerType)&&(p_=!0,f_="virtual")}function A_(t){t.target!==window&&t.target!==document&&(p_||d_||(f_="virtual",y_("virtual",t)),p_=!1,d_=!1)}function E_(){p_=!1,d_=!0}function __(){return"pointer"!==f_}function x_(){if("undefined"==typeof window||h_)return;const{focus:t}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...e){p_=!0,t.apply(this,e)},document.addEventListener("keydown",v_,!0),document.addEventListener("keyup",v_,!0),document.addEventListener("click",b_,!0),window.addEventListener("focus",A_,!0),window.addEventListener("blur",E_,!1),"undefined"!=typeof PointerEvent?(document.addEventListener("pointerdown",w_,!0),document.addEventListener("pointermove",w_,!0),document.addEventListener("pointerup",w_,!0)):(document.addEventListener("mousedown",w_,!0),document.addEventListener("mousemove",w_,!0),document.addEventListener("mouseup",w_,!0)),h_=!0}function S_(t){x_(),t(__());const e=()=>t(__());return g_.add(e),()=>{g_.delete(e)}}function P_(t={}){const e=SE(t),{isDisabled:r,isReadOnly:n,isRequired:i,isInvalid:s,id:o,onBlur:a,onFocus:c,"aria-describedby":u}=e,{defaultChecked:l,isChecked:h,isFocusable:f,onChange:p,isIndeterminate:d,name:g,value:y,tabIndex:v,"aria-label":w,"aria-labelledby":b,"aria-invalid":A,...E}=t,_=function(t,e=[]){const r=Object.assign({},t);for(const n of e)n in r&&delete r[n];return r}(E,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),x=(0,VA.W)(p),P=(0,VA.W)(a),O=(0,VA.W)(c),[I,C]=(0,m.useState)(!1),[N,T]=(0,m.useState)(!1),[k,R]=(0,m.useState)(!1),[L,j]=(0,m.useState)(!1);(0,m.useEffect)((()=>S_(C)),[]);const U=(0,m.useRef)(null),[B,D]=(0,m.useState)(!0),[M,F]=(0,m.useState)(!!l),z=void 0!==h,H=z?h:M,q=(0,m.useCallback)((t=>{n||r?t.preventDefault():(z||F(H?t.target.checked:!!d||t.target.checked),null==x||x(t))}),[n,r,H,z,d,x]);(0,Hv.G)((()=>{U.current&&(U.current.indeterminate=Boolean(d))}),[d]),(0,zE.r)((()=>{r&&T(!1)}),[r,T]),(0,Hv.G)((()=>{const t=U.current;(null==t?void 0:t.form)&&(t.form.onreset=()=>{F(!!l)})}),[]);const G=r&&!f,K=(0,m.useCallback)((t=>{" "===t.key&&j(!0)}),[j]),W=(0,m.useCallback)((t=>{" "===t.key&&j(!1)}),[j]);(0,Hv.G)((()=>{if(!U.current)return;U.current.checked!==H&&F(U.current.checked)}),[U.current]);const $=(0,m.useCallback)(((t={},e=null)=>({...t,ref:e,"data-active":(0,S.PB)(L),"data-hover":(0,S.PB)(k),"data-checked":(0,S.PB)(H),"data-focus":(0,S.PB)(N),"data-focus-visible":(0,S.PB)(N&&I),"data-indeterminate":(0,S.PB)(d),"data-disabled":(0,S.PB)(r),"data-invalid":(0,S.PB)(s),"data-readonly":(0,S.PB)(n),"aria-hidden":!0,onMouseDown:(0,S.v0)(t.onMouseDown,(t=>{N&&t.preventDefault(),j(!0)})),onMouseUp:(0,S.v0)(t.onMouseUp,(()=>j(!1))),onMouseEnter:(0,S.v0)(t.onMouseEnter,(()=>R(!0))),onMouseLeave:(0,S.v0)(t.onMouseLeave,(()=>R(!1)))})),[L,H,r,N,I,k,d,s,n]),J=(0,m.useCallback)(((t={},e=null)=>({..._,...t,ref:V(e,(t=>{t&&D("LABEL"===t.tagName)})),onClick:(0,S.v0)(t.onClick,(()=>{var t;B||(null==(t=U.current)||t.click(),requestAnimationFrame((()=>{var t;null==(t=U.current)||t.focus({preventScroll:!0})})))})),"data-disabled":(0,S.PB)(r),"data-checked":(0,S.PB)(H),"data-invalid":(0,S.PB)(s)})),[_,r,H,s,B]),Q=(0,m.useCallback)(((t={},e=null)=>({...t,ref:V(U,e),type:"checkbox",name:g,value:y,id:o,tabIndex:v,onChange:(0,S.v0)(t.onChange,q),onBlur:(0,S.v0)(t.onBlur,P,(()=>T(!1))),onFocus:(0,S.v0)(t.onFocus,O,(()=>T(!0))),onKeyDown:(0,S.v0)(t.onKeyDown,K),onKeyUp:(0,S.v0)(t.onKeyUp,W),required:i,checked:H,disabled:G,readOnly:n,"aria-label":w,"aria-labelledby":b,"aria-invalid":A?Boolean(A):s,"aria-describedby":u,"aria-disabled":r,style:l_})),[g,y,o,q,P,O,K,W,i,H,G,n,w,b,A,s,u,r,v]),Z=(0,m.useCallback)(((t={},e=null)=>({...t,ref:e,onMouseDown:(0,S.v0)(t.onMouseDown,O_),"data-disabled":(0,S.PB)(r),"data-checked":(0,S.PB)(H),"data-invalid":(0,S.PB)(s)})),[H,r,s]);return{state:{isInvalid:s,isFocused:N,isChecked:H,isActive:L,isHovered:k,isIndeterminate:d,isDisabled:r,isReadOnly:n,isRequired:i},getRootProps:J,getCheckboxProps:$,getInputProps:Q,getLabelProps:Z,htmlProps:_}}function O_(t){t.preventDefault(),t.stopPropagation()}var I_=(0,w.G)((function(t,e){const r=(0,k.jC)("Switch",t),{spacing:n="0.5rem",children:i,...s}=(0,R.Lr)(t),{state:o,getInputProps:a,getCheckboxProps:c,getRootProps:u,getLabelProps:l}=P_(s),h=(0,m.useMemo)((()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...r.container})),[r.container]),f=(0,m.useMemo)((()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...r.track})),[r.track]),p=(0,m.useMemo)((()=>({userSelect:"none",marginStart:n,...r.label})),[n,r.label]);return(0,A.jsxs)(b.m.label,{...u(),className:(0,S.cx)("chakra-switch",t.className),__css:h,children:[(0,A.jsx)("input",{className:"chakra-switch__input",...a({},e)}),(0,A.jsx)(b.m.span,{...c(),className:"chakra-switch__track",__css:f,children:(0,A.jsx)(b.m.span,{__css:r.thumb,className:"chakra-switch__thumb","data-checked":(0,S.PB)(o.isChecked),"data-hover":(0,S.PB)(o.isHovered)})}),i&&(0,A.jsx)(b.m.span,{className:"chakra-switch__label",...l(),__css:p,children:i})]})}));I_.displayName="Switch";const C_=()=>{const{showTestnets:t,showDeprecated:e,setShowTestnets:r,setShowDeprecated:n}=(0,m.useContext)(Wv);return(0,Lv.tZ)(YE,null,(0,Lv.tZ)(rE,{label:"Filters"},(0,Lv.tZ)(XE,null,(0,Lv.tZ)(iE,{size:"lg","aria-label":"Filters",icon:(0,Lv.tZ)(IE.ulB,null),mr:"1"}))),(0,Lv.tZ)(YA.h,null,(0,Lv.tZ)(i_,{maxW:"220px"},(0,Lv.tZ)(o_,null),(0,Lv.tZ)(a_,null,(0,Lv.tZ)(xE,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:"2"},(0,Lv.tZ)(c_,{htmlFor:"testnet-switch",mb:"0"},"Show Testnets"),(0,Lv.tZ)(I_,{id:"testnet-switch",onChange:()=>{r((t=>!t))},isChecked:t})),(0,Lv.tZ)(xE,{display:"flex",alignItems:"center",justifyContent:"space-between"},(0,Lv.tZ)(c_,{htmlFor:"deprecated-switch",mb:"0"},"Show Deprecated"),(0,Lv.tZ)(I_,{id:"deprecated-switch",onChange:()=>{n((t=>!t))},isChecked:e}))))))},N_=t=>{let{showSearch:e=!0,showFilters:r=!0}=t;const{handleConnect:n,isConnected:i,address:s}=(0,m.useContext)(Dv);return(0,Lv.tZ)(I,{as:"header",flexShrink:"0",py:"3",px:"8",flexDirection:{base:"column",md:"row"},justifyContent:"space-between",backdropFilter:"auto",backdropBlur:"1.25rem",position:"fixed",top:"0",left:"0",width:"100%",zIndex:"sticky"},(0,Lv.tZ)(ub.X,null,"Chainlist"),e&&(0,Lv.tZ)(OE,null),(0,Lv.tZ)(I,null,r&&(0,Lv.tZ)(C_,null),(0,Lv.tZ)(rE,{label:"Add Network"},(0,Lv.tZ)(nE,{href:"https://github.com/ethereum-lists/chains/pulls",isExternal:!0},(0,Lv.tZ)(iE,{size:"lg","aria-label":"Add",icon:(0,Lv.tZ)(CE,null),mr:"1"}))),(0,Lv.tZ)(rE,{label:"GitHub"},(0,Lv.tZ)(nE,{href:"https://github.com/FrederikBolding/chainlist",isExternal:!0},(0,Lv.tZ)(iE,{size:"lg","aria-label":"GitHub",icon:(0,Lv.tZ)(IE.hJX,null),mr:"1"}))),(0,Lv.tZ)(lE,{size:"lg",mr:"1"}),i?(0,Lv.tZ)(W,{size:"lg",w:{base:"100%",md:"auto"}},(0,Lv.tZ)(C.x,{fontSize:"sm",isTruncated:!0},s)):(0,Lv.tZ)(W,{w:{base:"100%",md:"auto"},size:"lg",onClick:n},"Connect Wallet")))},T_=t=>{let{children:e,headerProps:r={}}=t;return(0,Lv.tZ)(I,{flexDirection:"column",py:"4",px:"8",height:"100vh",position:"relative"},(0,Lv.tZ)(N_,r),(0,Lv.tZ)(I,{as:"main",flexDirection:"column",mt:{base:"164px",md:"16"}},e))};var k_=()=>(0,Lv.tZ)(m.Fragment,null,(0,Lv.tZ)(cb,null),(0,Lv.tZ)(Mv,null,(0,Lv.tZ)(Jv,null,(0,Lv.tZ)(T_,null,(0,Lv.tZ)(Zv,null)))))},2307:function(t,e,r){t=r.nmd(t);var n="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",l="[object Boolean]",h="[object Date]",f="[object Error]",p="[object Function]",d="[object GeneratorFunction]",g="[object Map]",y="[object Number]",m="[object Null]",v="[object Object]",w="[object Promise]",b="[object Proxy]",A="[object RegExp]",E="[object Set]",_="[object String]",x="[object Symbol]",S="[object Undefined]",P="[object WeakMap]",O="[object ArrayBuffer]",I="[object DataView]",C=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,T={};T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T[a]=T[c]=T[O]=T[l]=T[I]=T[h]=T[f]=T[p]=T[g]=T[y]=T[v]=T[A]=T[E]=T[_]=T[P]=!1;var k="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,R="object"==typeof self&&self&&self.Object===Object&&self,L=k||R||Function("return this")(),j=e&&!e.nodeType&&e,U=j&&t&&!t.nodeType&&t,B=U&&U.exports===j,D=B&&k.process,M=function(){try{return D&&D.binding&&D.binding("util")}catch(t){}}(),F=M&&M.isTypedArray;function z(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function H(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function q(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var G,V,K,W=Array.prototype,$=Function.prototype,J=Object.prototype,Q=L["__core-js_shared__"],Z=$.toString,Y=J.hasOwnProperty,X=(G=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",tt=J.toString,et=RegExp("^"+Z.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=B?L.Buffer:void 0,nt=L.Symbol,it=L.Uint8Array,st=J.propertyIsEnumerable,ot=W.splice,at=nt?nt.toStringTag:void 0,ct=Object.getOwnPropertySymbols,ut=rt?rt.isBuffer:void 0,lt=(V=Object.keys,K=Object,function(t){return V(K(t))}),ht=Mt(L,"DataView"),ft=Mt(L,"Map"),pt=Mt(L,"Promise"),dt=Mt(L,"Set"),gt=Mt(L,"WeakMap"),yt=Mt(Object,"create"),mt=qt(ht),vt=qt(ft),wt=qt(pt),bt=qt(dt),At=qt(gt),Et=nt?nt.prototype:void 0,_t=Et?Et.valueOf:void 0;function xt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function St(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Pt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ot(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Pt;++e<r;)this.add(t[e])}function It(t){var e=this.__data__=new St(t);this.size=e.size}function Ct(t,e){var r=Kt(t),n=!r&&Vt(t),i=!r&&!n&&Wt(t),s=!r&&!n&&!i&&Yt(t),o=r||n||i||s,a=o?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],c=a.length;for(var u in t)!e&&!Y.call(t,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ht(u,c))||a.push(u);return a}function Nt(t,e){for(var r=t.length;r--;)if(Gt(t[r][0],e))return r;return-1}function Tt(t){return null==t?void 0===t?S:m:at&&at in Object(t)?function(t){var e=Y.call(t,at),r=t[at];try{t[at]=void 0;var n=!0}catch(s){}var i=tt.call(t);n&&(e?t[at]=r:delete t[at]);return i}(t):function(t){return tt.call(t)}(t)}function kt(t){return Zt(t)&&Tt(t)==a}function Rt(t,e,r,n,o){return t===e||(null==t||null==e||!Zt(t)&&!Zt(e)?t!=t&&e!=e:function(t,e,r,n,o,u){var p=Kt(t),d=Kt(e),m=p?c:zt(t),w=d?c:zt(e),b=(m=m==a?v:m)==v,S=(w=w==a?v:w)==v,P=m==w;if(P&&Wt(t)){if(!Wt(e))return!1;p=!0,b=!1}if(P&&!b)return u||(u=new It),p||Yt(t)?Ut(t,e,r,n,o,u):function(t,e,r,n,o,a,c){switch(r){case I:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case O:return!(t.byteLength!=e.byteLength||!a(new it(t),new it(e)));case l:case h:case y:return Gt(+t,+e);case f:return t.name==e.name&&t.message==e.message;case A:case _:return t==e+"";case g:var u=H;case E:var p=n&i;if(u||(u=q),t.size!=e.size&&!p)return!1;var d=c.get(t);if(d)return d==e;n|=s,c.set(t,e);var m=Ut(u(t),u(e),n,o,a,c);return c.delete(t),m;case x:if(_t)return _t.call(t)==_t.call(e)}return!1}(t,e,m,r,n,o,u);if(!(r&i)){var C=b&&Y.call(t,"__wrapped__"),N=S&&Y.call(e,"__wrapped__");if(C||N){var T=C?t.value():t,k=N?e.value():e;return u||(u=new It),o(T,k,r,n,u)}}if(!P)return!1;return u||(u=new It),function(t,e,r,n,s,o){var a=r&i,c=Bt(t),u=c.length,l=Bt(e),h=l.length;if(u!=h&&!a)return!1;var f=u;for(;f--;){var p=c[f];if(!(a?p in e:Y.call(e,p)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var g=!0;o.set(t,e),o.set(e,t);var y=a;for(;++f<u;){var m=t[p=c[f]],v=e[p];if(n)var w=a?n(v,m,p,e,t,o):n(m,v,p,t,e,o);if(!(void 0===w?m===v||s(m,v,r,n,o):w)){g=!1;break}y||(y="constructor"==p)}if(g&&!y){var b=t.constructor,A=e.constructor;b==A||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof A&&A instanceof A||(g=!1)}return o.delete(t),o.delete(e),g}(t,e,r,n,o,u)}(t,e,r,n,Rt,o))}function Lt(t){return!(!Qt(t)||function(t){return!!X&&X in t}(t))&&($t(t)?et:C).test(qt(t))}function jt(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||J,e!==n)return lt(t);var e,r,n,i=[];for(var s in Object(t))Y.call(t,s)&&"constructor"!=s&&i.push(s);return i}function Ut(t,e,r,n,o,a){var c=r&i,u=t.length,l=e.length;if(u!=l&&!(c&&l>u))return!1;var h=a.get(t);if(h&&a.get(e))return h==e;var f=-1,p=!0,d=r&s?new Ot:void 0;for(a.set(t,e),a.set(e,t);++f<u;){var g=t[f],y=e[f];if(n)var m=c?n(y,g,f,e,t,a):n(g,y,f,t,e,a);if(void 0!==m){if(m)continue;p=!1;break}if(d){if(!z(e,(function(t,e){if(i=e,!d.has(i)&&(g===t||o(g,t,r,n,a)))return d.push(e);var i}))){p=!1;break}}else if(g!==y&&!o(g,y,r,n,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function Bt(t){return function(t,e,r){var n=e(t);return Kt(t)?n:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(n,r(t))}(t,Xt,Ft)}function Dt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Mt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Lt(r)?r:void 0}xt.prototype.clear=function(){this.__data__=yt?yt(null):{},this.size=0},xt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},xt.prototype.get=function(t){var e=this.__data__;if(yt){var r=e[t];return r===n?void 0:r}return Y.call(e,t)?e[t]:void 0},xt.prototype.has=function(t){var e=this.__data__;return yt?void 0!==e[t]:Y.call(e,t)},xt.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=yt&&void 0===e?n:e,this},St.prototype.clear=function(){this.__data__=[],this.size=0},St.prototype.delete=function(t){var e=this.__data__,r=Nt(e,t);return!(r<0)&&(r==e.length-1?e.pop():ot.call(e,r,1),--this.size,!0)},St.prototype.get=function(t){var e=this.__data__,r=Nt(e,t);return r<0?void 0:e[r][1]},St.prototype.has=function(t){return Nt(this.__data__,t)>-1},St.prototype.set=function(t,e){var r=this.__data__,n=Nt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Pt.prototype.clear=function(){this.size=0,this.__data__={hash:new xt,map:new(ft||St),string:new xt}},Pt.prototype.delete=function(t){var e=Dt(this,t).delete(t);return this.size-=e?1:0,e},Pt.prototype.get=function(t){return Dt(this,t).get(t)},Pt.prototype.has=function(t){return Dt(this,t).has(t)},Pt.prototype.set=function(t,e){var r=Dt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Ot.prototype.add=Ot.prototype.push=function(t){return this.__data__.set(t,n),this},Ot.prototype.has=function(t){return this.__data__.has(t)},It.prototype.clear=function(){this.__data__=new St,this.size=0},It.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},It.prototype.get=function(t){return this.__data__.get(t)},It.prototype.has=function(t){return this.__data__.has(t)},It.prototype.set=function(t,e){var r=this.__data__;if(r instanceof St){var n=r.__data__;if(!ft||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Pt(n)}return r.set(t,e),this.size=r.size,this};var Ft=ct?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}(ct(t),(function(e){return st.call(t,e)})))}:function(){return[]},zt=Tt;function Ht(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||N.test(t))&&t>-1&&t%1==0&&t<e}function qt(t){if(null!=t){try{return Z.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Gt(t,e){return t===e||t!=t&&e!=e}(ht&&zt(new ht(new ArrayBuffer(1)))!=I||ft&&zt(new ft)!=g||pt&&zt(pt.resolve())!=w||dt&&zt(new dt)!=E||gt&&zt(new gt)!=P)&&(zt=function(t){var e=Tt(t),r=e==v?t.constructor:void 0,n=r?qt(r):"";if(n)switch(n){case mt:return I;case vt:return g;case wt:return w;case bt:return E;case At:return P}return e});var Vt=kt(function(){return arguments}())?kt:function(t){return Zt(t)&&Y.call(t,"callee")&&!st.call(t,"callee")},Kt=Array.isArray;var Wt=ut||function(){return!1};function $t(t){if(!Qt(t))return!1;var e=Tt(t);return e==p||e==d||e==u||e==b}function Jt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function Qt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Zt(t){return null!=t&&"object"==typeof t}var Yt=F?function(t){return function(e){return t(e)}}(F):function(t){return Zt(t)&&Jt(t.length)&&!!T[Tt(t)]};function Xt(t){return null!=(e=t)&&Jt(e.length)&&!$t(e)?Ct(t):jt(t);var e}t.exports=function(t,e){return Rt(t,e)}},7563:function(t,e,r){"use strict";const n=r(610),i=r(4020),s=r(500),o=r(2806),a=Symbol("encodeFragmentIdentifier");function c(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(t,e){return e.encode?e.strict?n(t):encodeURIComponent(t):t}function l(t,e){return e.decode?i(t):t}function h(t){return Array.isArray(t)?t.sort():"object"==typeof t?h(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function f(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function p(t){const e=(t=f(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function d(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function g(t,e){c((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,n)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case"bracket":return(t,r,n)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"colon-list-separator":return(t,r,n)=>{e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"comma":case"separator":return(e,r,n)=>{const i="string"==typeof r&&r.includes(t.arrayFormatSeparator),s="string"==typeof r&&!i&&l(r,t).includes(t.arrayFormatSeparator);r=s?l(r,t):r;const o=i||s?r.split(t.arrayFormatSeparator).map((e=>l(e,t))):null===r?r:l(r,t);n[e]=o};case"bracket-separator":return(e,r,n)=>{const i=/(\[\])$/.test(e);if(e=e.replace(/\[\]$/,""),!i)return void(n[e]=r?l(r,t):r);const s=null===r?[]:r.split(t.arrayFormatSeparator).map((e=>l(e,t)));void 0!==n[e]?n[e]=[].concat(n[e],s):n[e]=s};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e),n=Object.create(null);if("string"!=typeof t)return n;if(!(t=t.trim().replace(/^[?#&]/,"")))return n;for(const i of t.split("&")){if(""===i)continue;let[t,o]=s(e.decode?i.replace(/\+/g," "):i,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:l(o,e),r(l(t,e),o,n)}for(const i of Object.keys(n)){const t=n[i];if("object"==typeof t&&null!==t)for(const r of Object.keys(t))t[r]=d(t[r],e);else n[i]=d(t,e)}return!1===e.sort?n:(!0===e.sort?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce(((t,e)=>{const r=n[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=h(r):t[e]=r,t}),Object.create(null))}e.extract=p,e.parse=g,e.stringify=(t,e)=>{if(!t)return"";c((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const r=r=>e.skipNull&&null==t[r]||e.skipEmptyString&&""===t[r],n=function(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{const i=r.length;return void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),"[",i,"]"].join("")]:[...r,[u(e,t),"[",u(i,t),"]=",u(n,t)].join("")]};case"bracket":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),"[]"].join("")]:[...r,[u(e,t),"[]=",u(n,t)].join("")];case"colon-list-separator":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),":list="].join("")]:[...r,[u(e,t),":list=",u(n,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===t.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length?[[u(r,t),e,u(i,t)].join("")]:[[n,u(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,u(e,t)]:[...r,[u(e,t),"=",u(n,t)].join("")]}}(e),i={};for(const o of Object.keys(t))r(o)||(i[o]=t[o]);const s=Object.keys(i);return!1!==e.sort&&s.sort(e.sort),s.map((r=>{const i=t[r];return void 0===i?"":null===i?u(r,e):Array.isArray(i)?0===i.length&&"bracket-separator"===e.arrayFormat?u(r,e)+"[]":i.reduce(n(r),[]).join("&"):u(r,e)+"="+u(i,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[r,n]=s(t,"#");return Object.assign({url:r.split("?")[0]||"",query:g(p(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:l(n,e)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0,[a]:!0},r);const n=f(t.url).split("?")[0]||"",i=e.extract(t.url),s=e.parse(i,{sort:!1}),o=Object.assign(s,t.query);let c=e.stringify(o,r);c&&(c=`?${c}`);let l=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(t.url);return t.fragmentIdentifier&&(l=`#${r[a]?u(t.fragmentIdentifier,r):t.fragmentIdentifier}`),`${n}${c}${l}`},e.pick=(t,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[a]:!1},n);const{url:i,query:s,fragmentIdentifier:c}=e.parseUrl(t,n);return e.stringifyUrl({url:i,query:o(s,r),fragmentIdentifier:c},n)},e.exclude=(t,r,n)=>{const i=Array.isArray(r)?t=>!r.includes(t):(t,e)=>!r(t,e);return e.pick(t,i,n)}},5346:function(t){"use strict";function e(t){try{return JSON.stringify(t)}catch(e){return'"[Circular]"'}}t.exports=function(t,r,n){var i=n&&n.stringify||e;if("object"==typeof t&&null!==t){var s=r.length+1;if(1===s)return t;var o=new Array(s);o[0]=i(t);for(var a=1;a<s;a++)o[a]=i(r[a]);return o.join(" ")}if("string"!=typeof t)return t;var c=r.length;if(0===c)return t;for(var u="",l=0,h=-1,f=t&&t.length||0,p=0;p<f;){if(37===t.charCodeAt(p)&&p+1<f){switch(h=h>-1?h:0,t.charCodeAt(p+1)){case 100:case 102:if(l>=c)break;if(null==r[l])break;h<p&&(u+=t.slice(h,p)),u+=Number(r[l]),h=p+2,p++;break;case 105:if(l>=c)break;if(null==r[l])break;h<p&&(u+=t.slice(h,p)),u+=Math.floor(Number(r[l])),h=p+2,p++;break;case 79:case 111:case 106:if(l>=c)break;if(void 0===r[l])break;h<p&&(u+=t.slice(h,p));var d=typeof r[l];if("string"===d){u+="'"+r[l]+"'",h=p+2,p++;break}if("function"===d){u+=r[l].name||"<anonymous>",h=p+2,p++;break}u+=i(r[l]),h=p+2,p++;break;case 115:if(l>=c)break;h<p&&(u+=t.slice(h,p)),u+=String(r[l]),h=p+2,p++;break;case 37:h<p&&(u+=t.slice(h,p)),u+="%",h=p+2,p++,l--}++l}++p}if(-1===h)return t;h<f&&(u+=t.slice(h));return u}},4405:function(t,e,r){"use strict";r.d(e,{w_:function(){return u}});var n=r(7294),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=n.createContext&&n.createContext(i),o=function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)},a=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r};function c(t){return t&&t.map((function(t,e){return n.createElement(t.tag,o({key:e},t.attr),c(t.child))}))}function u(t){return function(e){return n.createElement(l,o({attr:o({},t.attr)},e),c(t.child))}}function l(t){var e=function(e){var r,i=t.attr,s=t.size,c=t.title,u=a(t,["attr","size","title"]),l=s||e.size||"1em";return e.className&&(r=e.className),t.className&&(r=(r?r+" ":"")+t.className),n.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,u,{className:r,style:o(o({color:t.color||e.color},e.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),c&&n.createElement("title",null,c),t.children)};return void 0!==s?n.createElement(s.Consumer,null,(function(t){return e(t)})):e(i)}},3524:function(t,e,r){"use strict";var n,i=r(7294),s=(n=i)&&"object"==typeof n&&"default"in n?n.default:n;function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a=!("undefined"==typeof window||!window.document||!window.document.createElement);t.exports=function(t,e,r){if("function"!=typeof t)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof e)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==r&&"function"!=typeof r)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(n){if("function"!=typeof n)throw new Error("Expected WrappedComponent to be a React component.");var c,u=[];function l(){c=t(u.map((function(t){return t.props}))),h.canUseDOM?e(c):r&&(c=r(c))}var h=function(t){var e,r;function i(){return t.apply(this,arguments)||this}r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i.peek=function(){return c},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var t=c;return c=void 0,u=[],t};var o=i.prototype;return o.UNSAFE_componentWillMount=function(){u.push(this),l()},o.componentDidUpdate=function(){l()},o.componentWillUnmount=function(){var t=u.indexOf(this);u.splice(t,1),l()},o.render=function(){return s.createElement(n,this.props)},i}(i.PureComponent);return o(h,"displayName","SideEffect("+function(t){return t.displayName||t.name||"Component"}(n)+")"),o(h,"canUseDOM",a),h}}},3954:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.safeJsonParse=function(t){if("string"!=typeof t)throw new Error("Cannot safe json parse value of type "+typeof t);try{return JSON.parse(t)}catch(e){return t}},e.safeJsonStringify=function(t){return"string"==typeof t?t:JSON.stringify(t,((t,e)=>void 0===e?null:e))}},500:function(t){"use strict";t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const r=t.indexOf(e);return-1===r?[t]:[t.slice(0,r),t.slice(r+e.length)]}},610:function(t){"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))},5856:function(){},5883:function(){},6559:function(t,e,r){"use strict";const n=r(5346);t.exports=o;const i=function(){function t(t){return void 0!==t&&t}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(e){return t(self)||t(window)||t(this)||{}}}().console||{},s={mapHttpRequest:f,mapHttpResponse:f,wrapRequestSerializer:p,wrapResponseSerializer:p,wrapErrorSerializer:p,req:f,res:f,err:function(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)void 0===e[r]&&(e[r]=t[r]);return e}};function o(t){(t=t||{}).browser=t.browser||{};const e=t.browser.transmit;if(e&&"function"!=typeof e.send)throw Error("pino: transmit option must have a send function");const r=t.browser.write||i;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},s=function(t,e){if(Array.isArray(t))return t.filter((function(t){return"!stdSerializers.err"!==t}));return!0===t&&Object.keys(e)}(t.browser.serialize,n);let f=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(f=!1);"function"==typeof r&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),!1===t.enabled&&(t.level="silent");const p=t.level||"info",g=Object.create(r);g.log||(g.log=d),Object.defineProperty(g,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(g,"level",{get:function(){return this._level},set:function(t){if("silent"!==t&&!this.levels.values[t])throw Error("unknown level "+t);this._level=t,a(y,g,"error","log"),a(y,g,"fatal","error"),a(y,g,"warn","error"),a(y,g,"info","log"),a(y,g,"debug","log"),a(y,g,"trace","log")}});const y={transmit:e,serialize:s,asObject:t.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:h(t)};return g.levels=o.levels,g.level=p,g.setMaxListeners=g.getMaxListeners=g.emit=g.addListener=g.on=g.prependListener=g.once=g.prependOnceListener=g.removeListener=g.removeAllListeners=g.listeners=g.listenerCount=g.eventNames=g.write=g.flush=d,g.serializers=n,g._serialize=s,g._stdErrSerialize=f,g.child=function(r,i){if(!r)throw new Error("missing bindings for child Pino");i=i||{},s&&r.serializers&&(i.serializers=r.serializers);const o=i.serializers;if(s&&o){var a=Object.assign({},n,o),h=!0===t.browser.serialize?Object.keys(a):s;delete r.serializers,c([r],h,a,this._stdErrSerialize)}function f(t){this._childLevel=1+(0|t._childLevel),this.error=u(t,r,"error"),this.fatal=u(t,r,"fatal"),this.warn=u(t,r,"warn"),this.info=u(t,r,"info"),this.debug=u(t,r,"debug"),this.trace=u(t,r,"trace"),a&&(this.serializers=a,this._serialize=h),e&&(this._logEvent=l([].concat(t._logEvent.bindings,r)))}return f.prototype=this,new f(this)},e&&(g._logEvent=l()),g}function a(t,e,r,s){const a=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?d:a[r]?a[r]:i[r]||i[s]||d,function(t,e,r){if(!t.transmit&&e[r]===d)return;e[r]=(s=e[r],function(){const a=t.timestamp(),u=new Array(arguments.length),h=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var f=0;f<u.length;f++)u[f]=arguments[f];if(t.serialize&&!t.asObject&&c(u,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?s.call(h,function(t,e,r,i){t._serialize&&c(r,t._serialize,t.serializers,t._stdErrSerialize);const s=r.slice();let a=s[0];const u={};i&&(u.time=i),u.level=o.levels.values[e];let l=1+(0|t._childLevel);if(l<1&&(l=1),null!==a&&"object"==typeof a){for(;l--&&"object"==typeof s[0];)Object.assign(u,s.shift());a=s.length?n(s.shift(),s):void 0}else"string"==typeof a&&(a=n(s.shift(),s));return void 0!==a&&(u.msg=a),u}(this,r,u,a)):s.apply(h,u),t.transmit){const n=t.transmit.level||e.level,i=o.levels.values[n],s=o.levels.values[r];if(s<i)return;!function(t,e,r){const n=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,u=t._logEvent.bindings;c(r,t._serialize||Object.keys(t.serializers),t.serializers,void 0===t._stdErrSerialize||t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter((function(t){return-1===u.indexOf(t)})),t._logEvent.level.label=s,t._logEvent.level.value=o,n(s,t._logEvent,a),t._logEvent=l(u)}(this,{ts:a,methodLevel:r,methodValue:s,transmitLevel:n,transmitValue:o.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},u)}});var s}(t,e,r)}function c(t,e,r,n){for(const i in t)if(n&&t[i]instanceof Error)t[i]=o.stdSerializers.err(t[i]);else if("object"==typeof t[i]&&!Array.isArray(t[i]))for(const n in t[i])e&&e.indexOf(n)>-1&&n in r&&(t[i][n]=r[n](t[i][n]))}function u(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function l(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function h(t){return"function"==typeof t.timestamp?t.timestamp:!1===t.timestamp?g:y}function f(){return{}}function p(t){return t}function d(){}function g(){return!1}function y(){return Date.now()}o.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},o.stdSerializers=s,o.stdTimeFunctions=Object.assign({},{nullTime:g,epochTime:y,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},7754:function(t,e,r){"use strict";r.d(e,{M:function(){return o}});var n=r(9931),i=r(5059),s=r(5893),o=(0,n.m)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});o.displayName="Center";var a={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};(0,i.G)((function(t,e){const{axis:r="both",...i}=t;return(0,s.jsx)(n.m.div,{ref:e,__css:a[r],...i,position:"absolute"})}))},4418:function(t,e,r){"use strict";r.d(e,{X:function(){return u}});var n=r(5059),i=r(1639),s=r(3179),o=r(9931),a=r(5432),c=r(5893),u=(0,n.G)((function(t,e){const r=(0,i.mq)("Heading",t),{className:n,...u}=(0,s.Lr)(t);return(0,c.jsx)(o.m.h2,{ref:e,className:(0,a.cx)("chakra-heading",t.className),...u,__css:r})}));u.displayName="Heading"},8911:function(t,e,r){"use strict";r.d(e,{x:function(){return l}});var n=r(5059),i=r(1639),s=r(3179),o=r(9931),a=r(5432),c=r(7052),u=r(5893),l=(0,n.G)((function(t,e){const r=(0,i.mq)("Text",t),{className:n,align:l,decoration:h,casing:f,...p}=(0,s.Lr)(t),d=(0,c.o)({textAlign:t.align,textDecoration:t.decoration,textTransform:t.casing});return(0,u.jsx)(o.m.p,{ref:e,className:(0,a.cx)("chakra-text",t.className),...d,...p,__css:r})}));l.displayName="Text"},7052:function(t,e,r){"use strict";function n(t){const e=Object.assign({},t);for(let r in e)void 0===e[r]&&delete e[r];return e}r.d(e,{o:function(){return n}})}}]);
//# sourceMappingURL=component---src-pages-index-tsx-cfa5ee7c206db65814a6.js.map